!function(n){function g(n){delete installedChunks[n]}function t(n){var g=document.getElementsByTagName("head")[0],t=document.createElement("script");t.type="text/javascript",t.charset="utf-8",t.src=b.p+""+n+"."+X+".hot-update.js",g.appendChild(t)}function c(n){return n=n||1e4,new Promise(function(g,t){if("undefined"==typeof XMLHttpRequest)return t(new Error("No browser support"));try{var c=new XMLHttpRequest,I=b.p+""+X+".hot-update.json";c.open("GET",I,!0),c.timeout=n,c.send(null)}catch(n){return t(n)}c.onreadystatechange=function(){if(4===c.readyState)if(0===c.status)t(new Error("Manifest request to "+I+" timed out."));else if(404===c.status)g();else if(200!==c.status&&304!==c.status)t(new Error("Manifest request to "+I+" failed."));else{try{var n=JSON.parse(c.responseText)}catch(n){return void t(n)}g(n)}}})}function I(n){var g=v[n];if(!g)return b;var t=function(t){return g.hot.active?(v[t]?v[t].parents.indexOf(n)<0&&v[t].parents.push(n):(F=[n],d=t),g.children.indexOf(t)<0&&g.children.push(t)):(console.warn("[HMR] unexpected require("+t+") from disposed module "+n),F=[]),b(t)};for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&"e"!==c&&Object.defineProperty(t,c,function(n){return{configurable:!0,enumerable:!0,get:function(){return b[n]},set:function(g){b[n]=g}}}(c));return t.e=function(n){function g(){N--,"prepare"===h&&(U[n]||s(n),0===N&&0===V&&a())}return"ready"===h&&l("prepare"),N++,b.e(n).then(g,function(n){throw g(),n})},t}function e(n){var g={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:d!==n,active:!0,accept:function(n,t){if(void 0===n)g._selfAccepted=!0;else if("function"==typeof n)g._selfAccepted=n;else if("object"==typeof n)for(var c=0;c<n.length;c++)g._acceptedDependencies[n[c]]=t||function(){};else g._acceptedDependencies[n]=t||function(){}},decline:function(n){if(void 0===n)g._selfDeclined=!0;else if("object"==typeof n)for(var t=0;t<n.length;t++)g._declinedDependencies[n[t]]=!0;else g._declinedDependencies[n]=!0},dispose:function(n){g._disposeHandlers.push(n)},addDisposeHandler:function(n){g._disposeHandlers.push(n)},removeDisposeHandler:function(n){var t=g._disposeHandlers.indexOf(n);t>=0&&g._disposeHandlers.splice(t,1)},check:B,apply:o,status:function(n){if(!n)return h;m.push(n)},addStatusHandler:function(n){m.push(n)},removeStatusHandler:function(n){var g=m.indexOf(n);g>=0&&m.splice(g,1)},data:p[n]};return d=void 0,g}function l(n){h=n;for(var g=0;g<m.length;g++)m[g].call(null,n)}function i(n){return+n+""===n?+n:n}function B(n){if("idle"!==h)throw new Error("check() is only allowed in idle status");return A=n,l("check"),c(Z).then(function(n){if(!n)return l("idle"),null;W={},U={},R=n.c,Q=n.h,l("prepare");var g=new Promise(function(n,g){r={resolve:n,reject:g}});G={};return s(0),"prepare"===h&&0===N&&0===V&&a(),g})}function C(n,g){if(R[n]&&W[n]){W[n]=!1;for(var t in g)Object.prototype.hasOwnProperty.call(g,t)&&(G[t]=g[t]);0==--V&&0===N&&a()}}function s(n){R[n]?(W[n]=!0,V++,t(n)):U[n]=!0}function a(){l("ready");var n=r;if(r=null,n)if(A)Promise.resolve().then(function(){return o(A)}).then(function(g){n.resolve(g)},function(g){n.reject(g)});else{var g=[];for(var t in G)Object.prototype.hasOwnProperty.call(G,t)&&g.push(i(t));n.resolve(g)}}function o(t){function c(n,g){for(var t=0;t<g.length;t++){var c=g[t];n.indexOf(c)<0&&n.push(c)}}if("ready"!==h)throw new Error("apply() is only allowed in ready status");t=t||{};var I,e,B,C,s,a={},o=[],u={},d=function(){console.warn("[HMR] unexpected require("+A.moduleId+") to disposed module")};for(var r in G)if(Object.prototype.hasOwnProperty.call(G,r)){s=i(r);var A;A=G[r]?function(n){for(var g=[n],t={},I=g.slice().map(function(n){return{chain:[n],id:n}});I.length>0;){var e=I.pop(),l=e.id,i=e.chain;if((C=v[l])&&!C.hot._selfAccepted){if(C.hot._selfDeclined)return{type:"self-declined",chain:i,moduleId:l};if(C.hot._main)return{type:"unaccepted",chain:i,moduleId:l};for(var B=0;B<C.parents.length;B++){var s=C.parents[B],a=v[s];if(a){if(a.hot._declinedDependencies[l])return{type:"declined",chain:i.concat([s]),moduleId:l,parentId:s};g.indexOf(s)>=0||(a.hot._acceptedDependencies[l]?(t[s]||(t[s]=[]),c(t[s],[l])):(delete t[s],g.push(s),I.push({chain:i.concat([s]),id:s})))}}}}return{type:"accepted",moduleId:n,outdatedModules:g,outdatedDependencies:t}}(s):{type:"disposed",moduleId:r};var Z=!1,y=!1,m=!1,V="";switch(A.chain&&(V="\nUpdate propagation: "+A.chain.join(" -> ")),A.type){case"self-declined":t.onDeclined&&t.onDeclined(A),t.ignoreDeclined||(Z=new Error("Aborted because of self decline: "+A.moduleId+V));break;case"declined":t.onDeclined&&t.onDeclined(A),t.ignoreDeclined||(Z=new Error("Aborted because of declined dependency: "+A.moduleId+" in "+A.parentId+V));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(A),t.ignoreUnaccepted||(Z=new Error("Aborted because "+s+" is not accepted"+V));break;case"accepted":t.onAccepted&&t.onAccepted(A),y=!0;break;case"disposed":t.onDisposed&&t.onDisposed(A),m=!0;break;default:throw new Error("Unexception type "+A.type)}if(Z)return l("abort"),Promise.reject(Z);if(y){u[s]=G[s],c(o,A.outdatedModules);for(s in A.outdatedDependencies)Object.prototype.hasOwnProperty.call(A.outdatedDependencies,s)&&(a[s]||(a[s]=[]),c(a[s],A.outdatedDependencies[s]))}m&&(c(o,[A.moduleId]),u[s]=d)}var N=[];for(e=0;e<o.length;e++)s=o[e],v[s]&&v[s].hot._selfAccepted&&N.push({module:s,errorHandler:v[s].hot._selfAccepted});l("dispose"),Object.keys(R).forEach(function(n){!1===R[n]&&g(n)});for(var U,W=o.slice();W.length>0;)if(s=W.pop(),C=v[s]){var H={},Y=C.hot._disposeHandlers;for(B=0;B<Y.length;B++)(I=Y[B])(H);for(p[s]=H,C.hot.active=!1,delete v[s],delete a[s],B=0;B<C.children.length;B++){var f=v[C.children[B]];f&&((U=f.parents.indexOf(s))>=0&&f.parents.splice(U,1))}}var x,J;for(s in a)if(Object.prototype.hasOwnProperty.call(a,s)&&(C=v[s]))for(J=a[s],B=0;B<J.length;B++)x=J[B],(U=C.children.indexOf(x))>=0&&C.children.splice(U,1);l("apply"),X=Q;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(n[s]=u[s]);var k=null;for(s in a)if(Object.prototype.hasOwnProperty.call(a,s)&&(C=v[s])){J=a[s];var T=[];for(e=0;e<J.length;e++)if(x=J[e],I=C.hot._acceptedDependencies[x]){if(T.indexOf(I)>=0)continue;T.push(I)}for(e=0;e<T.length;e++){I=T[e];try{I(J)}catch(n){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:s,dependencyId:J[e],error:n}),t.ignoreErrored||k||(k=n)}}}for(e=0;e<N.length;e++){var O=N[e];s=O.module,F=[s];try{b(s)}catch(n){if("function"==typeof O.errorHandler)try{O.errorHandler(n)}catch(g){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:s,error:g,orginalError:n,originalError:n}),t.ignoreErrored||k||(k=g),k||(k=n)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:s,error:n}),t.ignoreErrored||k||(k=n)}}return k?(l("fail"),Promise.reject(k)):(l("idle"),new Promise(function(n){n(o)}))}function b(g){if(v[g])return v[g].exports;var t=v[g]={i:g,l:!1,exports:{},hot:e(g),parents:(y=F,F=[],y),children:[]};return n[g].call(t.exports,t,t.exports,I(g)),t.l=!0,t.exports}var u=window.webpackHotUpdate;window.webpackHotUpdate=function(n,g){C(n,g),u&&u(n,g)};var d,r,G,Q,A=!0,X="6309c67977b5a3cdd209",Z=1e4,p={},F=[],y=[],m=[],h="idle",V=0,N=0,U={},W={},R={},v={};b.m=n,b.c=v,b.d=function(n,g,t){b.o(n,g)||Object.defineProperty(n,g,{configurable:!1,enumerable:!0,get:t})},b.n=function(n){var g=n&&n.__esModule?function(){return n.default}:function(){return n};return b.d(g,"a",g),g},b.o=function(n,g){return Object.prototype.hasOwnProperty.call(n,g)},b.p="",b.h=function(){return X},I(6)(b.s=6)}([function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar View = function () {\n  function View() {\n    _classCallCheck(this, View);\n\n    this.setupElement();\n    if (this.el.className) {\n      this.originalClassName = this.el.className;\n    }\n    if (this.constructor.className) {\n      this.resetClass();\n    }\n    this.refreshElements();\n    if (typeof this.init === 'function') {\n      this.init();\n    }\n    this.refreshElements();\n  }\n\n  _createClass(View, [{\n    key: 'setupElement',\n    value: function setupElement() {\n      if (this.el == null) {\n        this.el = typeof this.constructor.el === 'string' ? $(this.constructor.el) : this.constructor.el ? this.constructor.el : document.createElement(this.constructor.tagName || 'div');\n      }\n\n      if (this.constructor.attributes) {\n        for (var key in this.constructor.attributes) {\n          var value = this.constructor.attributes[key];\n          this.el.setAttribute(key, value);\n        }\n      }\n    }\n  }, {\n    key: 'refreshElements',\n    value: function refreshElements() {\n      if (this.constructor.elements) {\n        for (var name in this.constructor.elements) {\n          var selector = this.constructor.elements[name];\n          this[name] = this.find(selector);\n        }\n      }\n    }\n  }, {\n    key: 'addClass',\n    value: function addClass(name) {\n      this.el.classList.add(name);\n    }\n  }, {\n    key: 'removeClass',\n    value: function removeClass(name) {\n      this.el.classList.remove(name);\n    }\n  }, {\n    key: 'toggleClass',\n    value: function toggleClass(name) {\n      this.el.classList.toggle(name);\n    }\n  }, {\n    key: 'hasClass',\n    value: function hasClass(name) {\n      return this.el.classList.contains(name);\n    }\n  }, {\n    key: 'resetClass',\n    value: function resetClass() {\n      this.el.className = this.originalClassName || '';\n      if (this.constructor.className) {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = this.constructor.className.split(' ')[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var name = _step.value;\n\n            this.addClass(name);\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: 'find',\n    value: function find(selector) {\n      return $(selector, this.el);\n    }\n  }, {\n    key: 'findAll',\n    value: function findAll(selector) {\n      return $$(selector, this.el);\n    }\n  }, {\n    key: 'findByClass',\n    value: function findByClass(name) {\n      return this.findAllByClass(name)[0];\n    }\n  }, {\n    key: 'findLastByClass',\n    value: function findLastByClass(name) {\n      var all = this.findAllByClass(name)[0];\n      return all[all.length - 1];\n    }\n  }, {\n    key: 'findAllByClass',\n    value: function findAllByClass(name) {\n      return this.el.getElementsByClassName(name);\n    }\n  }, {\n    key: 'findByTag',\n    value: function findByTag(tag) {\n      return this.findAllByTag(tag)[0];\n    }\n  }, {\n    key: 'findLastByTag',\n    value: function findLastByTag(tag) {\n      var all = this.findAllByTag(tag);\n      return all[all.length - 1];\n    }\n  }, {\n    key: 'findAllByTag',\n    value: function findAllByTag(tag) {\n      return this.el.getElementsByTagName(tag);\n    }\n  }, {\n    key: 'append',\n    value: function append(value) {\n      $.append(this.el, value.el || value);\n    }\n  }, {\n    key: 'appendTo',\n    value: function appendTo(value) {\n      $.append(value.el || value, this.el);\n    }\n  }, {\n    key: 'prepend',\n    value: function prepend(value) {\n      $.prepend(this.el, value.el || value);\n    }\n  }, {\n    key: 'prependTo',\n    value: function prependTo(value) {\n      $.prepend(value.el || value, this.el);\n    }\n  }, {\n    key: 'before',\n    value: function before(value) {\n      $.before(this.el, value.el || value);\n    }\n  }, {\n    key: 'after',\n    value: function after(value) {\n      $.after(this.el, value.el || value);\n    }\n  }, {\n    key: 'remove',\n    value: function remove(value) {\n      $.remove(value.el || value);\n    }\n  }, {\n    key: 'empty',\n    value: function empty() {\n      $.empty(this.el);\n      this.refreshElements();\n    }\n  }, {\n    key: 'html',\n    value: function html(value) {\n      this.empty();\n      this.append(value);\n    }\n  }, {\n    key: 'tmpl',\n    value: function tmpl() {\n      var _app$templates;\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return (_app$templates = app.templates).render.apply(_app$templates, _toConsumableArray(args || []));\n    }\n  }, {\n    key: 'delay',\n    value: function delay(fn) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      var delay = typeof args[args.length - 1] === 'number' ? args.pop() : 0;\n      return setTimeout(fn.bind.apply(fn, [this].concat(args)), delay);\n    }\n  }, {\n    key: 'onDOM',\n    value: function onDOM(event, callback) {\n      $.on(this.el, event, callback);\n    }\n  }, {\n    key: 'offDOM',\n    value: function offDOM(event, callback) {\n      $.off(this.el, event, callback);\n    }\n  }, {\n    key: 'bindEvents',\n    value: function bindEvents() {\n      var method = void 0,\n          name = void 0;\n      if (this.constructor.events) {\n        for (name in this.constructor.events) {\n          method = this.constructor.events[name];\n          this.onDOM(name, this[method]);\n        }\n      }\n\n      if (this.constructor.routes) {\n        for (name in this.constructor.routes) {\n          method = this.constructor.routes[name];\n          app.router.on(name, this[method]);\n        }\n      }\n\n      if (this.constructor.shortcuts) {\n        for (name in this.constructor.shortcuts) {\n          method = this.constructor.shortcuts[name];\n          app.shortcuts.on(name, this[method]);\n        }\n      }\n    }\n  }, {\n    key: 'unbindEvents',\n    value: function unbindEvents() {\n      var method = void 0,\n          name = void 0;\n      if (this.constructor.events) {\n        for (name in this.constructor.events) {\n          method = this.constructor.events[name];\n          this.offDOM(name, this[method]);\n        }\n      }\n\n      if (this.constructor.routes) {\n        for (name in this.constructor.routes) {\n          method = this.constructor.routes[name];\n          app.router.off(name, this[method]);\n        }\n      }\n\n      if (this.constructor.shortcuts) {\n        for (name in this.constructor.shortcuts) {\n          method = this.constructor.shortcuts[name];\n          app.shortcuts.off(name, this[method]);\n        }\n      }\n    }\n  }, {\n    key: 'addSubview',\n    value: function addSubview(view) {\n      return (this.subviews || (this.subviews = [])).push(view);\n    }\n  }, {\n    key: 'activate',\n    value: function activate() {\n      if (this.activated) {\n        return;\n      }\n      this.bindEvents();\n      if (this.subviews) {\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = this.subviews[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var view = _step2.value;\n\n            view.activate();\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n              _iterator2.return();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n      }\n      this.activated = true;\n      return true;\n    }\n  }, {\n    key: 'deactivate',\n    value: function deactivate() {\n      if (!this.activated) {\n        return;\n      }\n      this.unbindEvents();\n      if (this.subviews) {\n        var _iteratorNormalCompletion3 = true;\n        var _didIteratorError3 = false;\n        var _iteratorError3 = undefined;\n\n        try {\n          for (var _iterator3 = this.subviews[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n            var view = _step3.value;\n\n            view.deactivate();\n          }\n        } catch (err) {\n          _didIteratorError3 = true;\n          _iteratorError3 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion3 && _iterator3.return) {\n              _iterator3.return();\n            }\n          } finally {\n            if (_didIteratorError3) {\n              throw _iteratorError3;\n            }\n          }\n        }\n      }\n      this.activated = false;\n      return true;\n    }\n  }, {\n    key: 'detach',\n    value: function detach() {\n      this.deactivate();\n      $.remove(this.el);\n    }\n  }]);\n\n  return View;\n}();\n\nexports.default = View;\n\n$.extend(undefined.prototype, Events);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2Fzc2V0cy9qYXZhc2NyaXB0cy92aWV3cy92aWV3LmpzP2RlYjYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFZpZXcoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFZpZXcpO1xuXG4gICAgdGhpcy5zZXR1cEVsZW1lbnQoKTtcbiAgICBpZiAodGhpcy5lbC5jbGFzc05hbWUpIHtcbiAgICAgIHRoaXMub3JpZ2luYWxDbGFzc05hbWUgPSB0aGlzLmVsLmNsYXNzTmFtZTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY29uc3RydWN0b3IuY2xhc3NOYW1lKSB7XG4gICAgICB0aGlzLnJlc2V0Q2xhc3MoKTtcbiAgICB9XG4gICAgdGhpcy5yZWZyZXNoRWxlbWVudHMoKTtcbiAgICBpZiAodHlwZW9mIHRoaXMuaW5pdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuICAgIHRoaXMucmVmcmVzaEVsZW1lbnRzKCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVmlldywgW3tcbiAgICBrZXk6ICdzZXR1cEVsZW1lbnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXR1cEVsZW1lbnQoKSB7XG4gICAgICBpZiAodGhpcy5lbCA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuZWwgPSB0eXBlb2YgdGhpcy5jb25zdHJ1Y3Rvci5lbCA9PT0gJ3N0cmluZycgPyAkKHRoaXMuY29uc3RydWN0b3IuZWwpIDogdGhpcy5jb25zdHJ1Y3Rvci5lbCA/IHRoaXMuY29uc3RydWN0b3IuZWwgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRoaXMuY29uc3RydWN0b3IudGFnTmFtZSB8fCAnZGl2Jyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmNvbnN0cnVjdG9yLmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMuY29uc3RydWN0b3IuYXR0cmlidXRlcykge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuY29uc3RydWN0b3IuYXR0cmlidXRlc1trZXldO1xuICAgICAgICAgIHRoaXMuZWwuc2V0QXR0cmlidXRlKGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVmcmVzaEVsZW1lbnRzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVmcmVzaEVsZW1lbnRzKCkge1xuICAgICAgaWYgKHRoaXMuY29uc3RydWN0b3IuZWxlbWVudHMpIHtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzLmNvbnN0cnVjdG9yLmVsZW1lbnRzKSB7XG4gICAgICAgICAgdmFyIHNlbGVjdG9yID0gdGhpcy5jb25zdHJ1Y3Rvci5lbGVtZW50c1tuYW1lXTtcbiAgICAgICAgICB0aGlzW25hbWVdID0gdGhpcy5maW5kKHNlbGVjdG9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2FkZENsYXNzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkQ2xhc3MobmFtZSkge1xuICAgICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKG5hbWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbW92ZUNsYXNzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlQ2xhc3MobmFtZSkge1xuICAgICAgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKG5hbWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3RvZ2dsZUNsYXNzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9nZ2xlQ2xhc3MobmFtZSkge1xuICAgICAgdGhpcy5lbC5jbGFzc0xpc3QudG9nZ2xlKG5hbWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hhc0NsYXNzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzQ2xhc3MobmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKG5hbWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3Jlc2V0Q2xhc3MnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldENsYXNzKCkge1xuICAgICAgdGhpcy5lbC5jbGFzc05hbWUgPSB0aGlzLm9yaWdpbmFsQ2xhc3NOYW1lIHx8ICcnO1xuICAgICAgaWYgKHRoaXMuY29uc3RydWN0b3IuY2xhc3NOYW1lKSB7XG4gICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHRoaXMuY29uc3RydWN0b3IuY2xhc3NOYW1lLnNwbGl0KCcgJylbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICB0aGlzLmFkZENsYXNzKG5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdmaW5kJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmluZChzZWxlY3Rvcikge1xuICAgICAgcmV0dXJuICQoc2VsZWN0b3IsIHRoaXMuZWwpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2ZpbmRBbGwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmaW5kQWxsKHNlbGVjdG9yKSB7XG4gICAgICByZXR1cm4gJCQoc2VsZWN0b3IsIHRoaXMuZWwpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2ZpbmRCeUNsYXNzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmluZEJ5Q2xhc3MobmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZmluZEFsbEJ5Q2xhc3MobmFtZSlbMF07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZmluZExhc3RCeUNsYXNzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmluZExhc3RCeUNsYXNzKG5hbWUpIHtcbiAgICAgIHZhciBhbGwgPSB0aGlzLmZpbmRBbGxCeUNsYXNzKG5hbWUpWzBdO1xuICAgICAgcmV0dXJuIGFsbFthbGwubGVuZ3RoIC0gMV07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZmluZEFsbEJ5Q2xhc3MnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmaW5kQWxsQnlDbGFzcyhuYW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKG5hbWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2ZpbmRCeVRhZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZpbmRCeVRhZyh0YWcpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbmRBbGxCeVRhZyh0YWcpWzBdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2ZpbmRMYXN0QnlUYWcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmaW5kTGFzdEJ5VGFnKHRhZykge1xuICAgICAgdmFyIGFsbCA9IHRoaXMuZmluZEFsbEJ5VGFnKHRhZyk7XG4gICAgICByZXR1cm4gYWxsW2FsbC5sZW5ndGggLSAxXTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdmaW5kQWxsQnlUYWcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmaW5kQWxsQnlUYWcodGFnKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbC5nZXRFbGVtZW50c0J5VGFnTmFtZSh0YWcpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2FwcGVuZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFwcGVuZCh2YWx1ZSkge1xuICAgICAgJC5hcHBlbmQodGhpcy5lbCwgdmFsdWUuZWwgfHwgdmFsdWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2FwcGVuZFRvJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYXBwZW5kVG8odmFsdWUpIHtcbiAgICAgICQuYXBwZW5kKHZhbHVlLmVsIHx8IHZhbHVlLCB0aGlzLmVsKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdwcmVwZW5kJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcHJlcGVuZCh2YWx1ZSkge1xuICAgICAgJC5wcmVwZW5kKHRoaXMuZWwsIHZhbHVlLmVsIHx8IHZhbHVlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdwcmVwZW5kVG8nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwcmVwZW5kVG8odmFsdWUpIHtcbiAgICAgICQucHJlcGVuZCh2YWx1ZS5lbCB8fCB2YWx1ZSwgdGhpcy5lbCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnYmVmb3JlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYmVmb3JlKHZhbHVlKSB7XG4gICAgICAkLmJlZm9yZSh0aGlzLmVsLCB2YWx1ZS5lbCB8fCB2YWx1ZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnYWZ0ZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZnRlcih2YWx1ZSkge1xuICAgICAgJC5hZnRlcih0aGlzLmVsLCB2YWx1ZS5lbCB8fCB2YWx1ZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVtb3ZlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlKHZhbHVlKSB7XG4gICAgICAkLnJlbW92ZSh2YWx1ZS5lbCB8fCB2YWx1ZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZW1wdHknLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbXB0eSgpIHtcbiAgICAgICQuZW1wdHkodGhpcy5lbCk7XG4gICAgICB0aGlzLnJlZnJlc2hFbGVtZW50cygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2h0bWwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBodG1sKHZhbHVlKSB7XG4gICAgICB0aGlzLmVtcHR5KCk7XG4gICAgICB0aGlzLmFwcGVuZCh2YWx1ZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAndG1wbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRtcGwoKSB7XG4gICAgICB2YXIgX2FwcCR0ZW1wbGF0ZXM7XG5cbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAoX2FwcCR0ZW1wbGF0ZXMgPSBhcHAudGVtcGxhdGVzKS5yZW5kZXIuYXBwbHkoX2FwcCR0ZW1wbGF0ZXMsIF90b0NvbnN1bWFibGVBcnJheShhcmdzIHx8IFtdKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGVsYXknLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxheShmbikge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICB2YXIgZGVsYXkgPSB0eXBlb2YgYXJnc1thcmdzLmxlbmd0aCAtIDFdID09PSAnbnVtYmVyJyA/IGFyZ3MucG9wKCkgOiAwO1xuICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZm4uYmluZC5hcHBseShmbiwgW3RoaXNdLmNvbmNhdChhcmdzKSksIGRlbGF5KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbkRPTScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uRE9NKGV2ZW50LCBjYWxsYmFjaykge1xuICAgICAgJC5vbih0aGlzLmVsLCBldmVudCwgY2FsbGJhY2spO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29mZkRPTScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9mZkRPTShldmVudCwgY2FsbGJhY2spIHtcbiAgICAgICQub2ZmKHRoaXMuZWwsIGV2ZW50LCBjYWxsYmFjayk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnYmluZEV2ZW50cycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGJpbmRFdmVudHMoKSB7XG4gICAgICB2YXIgbWV0aG9kID0gdm9pZCAwLFxuICAgICAgICAgIG5hbWUgPSB2b2lkIDA7XG4gICAgICBpZiAodGhpcy5jb25zdHJ1Y3Rvci5ldmVudHMpIHtcbiAgICAgICAgZm9yIChuYW1lIGluIHRoaXMuY29uc3RydWN0b3IuZXZlbnRzKSB7XG4gICAgICAgICAgbWV0aG9kID0gdGhpcy5jb25zdHJ1Y3Rvci5ldmVudHNbbmFtZV07XG4gICAgICAgICAgdGhpcy5vbkRPTShuYW1lLCB0aGlzW21ldGhvZF0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmNvbnN0cnVjdG9yLnJvdXRlcykge1xuICAgICAgICBmb3IgKG5hbWUgaW4gdGhpcy5jb25zdHJ1Y3Rvci5yb3V0ZXMpIHtcbiAgICAgICAgICBtZXRob2QgPSB0aGlzLmNvbnN0cnVjdG9yLnJvdXRlc1tuYW1lXTtcbiAgICAgICAgICBhcHAucm91dGVyLm9uKG5hbWUsIHRoaXNbbWV0aG9kXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuY29uc3RydWN0b3Iuc2hvcnRjdXRzKSB7XG4gICAgICAgIGZvciAobmFtZSBpbiB0aGlzLmNvbnN0cnVjdG9yLnNob3J0Y3V0cykge1xuICAgICAgICAgIG1ldGhvZCA9IHRoaXMuY29uc3RydWN0b3Iuc2hvcnRjdXRzW25hbWVdO1xuICAgICAgICAgIGFwcC5zaG9ydGN1dHMub24obmFtZSwgdGhpc1ttZXRob2RdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3VuYmluZEV2ZW50cycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVuYmluZEV2ZW50cygpIHtcbiAgICAgIHZhciBtZXRob2QgPSB2b2lkIDAsXG4gICAgICAgICAgbmFtZSA9IHZvaWQgMDtcbiAgICAgIGlmICh0aGlzLmNvbnN0cnVjdG9yLmV2ZW50cykge1xuICAgICAgICBmb3IgKG5hbWUgaW4gdGhpcy5jb25zdHJ1Y3Rvci5ldmVudHMpIHtcbiAgICAgICAgICBtZXRob2QgPSB0aGlzLmNvbnN0cnVjdG9yLmV2ZW50c1tuYW1lXTtcbiAgICAgICAgICB0aGlzLm9mZkRPTShuYW1lLCB0aGlzW21ldGhvZF0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmNvbnN0cnVjdG9yLnJvdXRlcykge1xuICAgICAgICBmb3IgKG5hbWUgaW4gdGhpcy5jb25zdHJ1Y3Rvci5yb3V0ZXMpIHtcbiAgICAgICAgICBtZXRob2QgPSB0aGlzLmNvbnN0cnVjdG9yLnJvdXRlc1tuYW1lXTtcbiAgICAgICAgICBhcHAucm91dGVyLm9mZihuYW1lLCB0aGlzW21ldGhvZF0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmNvbnN0cnVjdG9yLnNob3J0Y3V0cykge1xuICAgICAgICBmb3IgKG5hbWUgaW4gdGhpcy5jb25zdHJ1Y3Rvci5zaG9ydGN1dHMpIHtcbiAgICAgICAgICBtZXRob2QgPSB0aGlzLmNvbnN0cnVjdG9yLnNob3J0Y3V0c1tuYW1lXTtcbiAgICAgICAgICBhcHAuc2hvcnRjdXRzLm9mZihuYW1lLCB0aGlzW21ldGhvZF0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnYWRkU3VidmlldycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFN1YnZpZXcodmlldykge1xuICAgICAgcmV0dXJuICh0aGlzLnN1YnZpZXdzIHx8ICh0aGlzLnN1YnZpZXdzID0gW10pKS5wdXNoKHZpZXcpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2FjdGl2YXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICBpZiAodGhpcy5hY3RpdmF0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5iaW5kRXZlbnRzKCk7XG4gICAgICBpZiAodGhpcy5zdWJ2aWV3cykge1xuICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gdGhpcy5zdWJ2aWV3c1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuICAgICAgICAgICAgdmFyIHZpZXcgPSBfc3RlcDIudmFsdWU7XG5cbiAgICAgICAgICAgIHZpZXcuYWN0aXZhdGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5hY3RpdmF0ZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGVhY3RpdmF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlYWN0aXZhdGUoKSB7XG4gICAgICBpZiAoIXRoaXMuYWN0aXZhdGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMudW5iaW5kRXZlbnRzKCk7XG4gICAgICBpZiAodGhpcy5zdWJ2aWV3cykge1xuICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlO1xuICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IzID0gZmFsc2U7XG4gICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjMgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IzID0gdGhpcy5zdWJ2aWV3c1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMzsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IChfc3RlcDMgPSBfaXRlcmF0b3IzLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZSkge1xuICAgICAgICAgICAgdmFyIHZpZXcgPSBfc3RlcDMudmFsdWU7XG5cbiAgICAgICAgICAgIHZpZXcuZGVhY3RpdmF0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IzID0gdHJ1ZTtcbiAgICAgICAgICBfaXRlcmF0b3JFcnJvcjMgPSBlcnI7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgJiYgX2l0ZXJhdG9yMy5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5yZXR1cm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMykge1xuICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmFjdGl2YXRlZCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGV0YWNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoKCkge1xuICAgICAgdGhpcy5kZWFjdGl2YXRlKCk7XG4gICAgICAkLnJlbW92ZSh0aGlzLmVsKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVmlldztcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVmlldztcblxuJC5leHRlbmQodW5kZWZpbmVkLnByb3RvdHlwZSwgRXZlbnRzKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Fzc2V0cy9qYXZhc2NyaXB0cy92aWV3cy92aWV3LmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _view = __webpack_require__(0);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Notif = function (_View) {\n  _inherits(Notif, _View);\n\n  function Notif(type, options) {\n    _classCallCheck(this, Notif);\n\n    var _this = _possibleConstructorReturn(this, (Notif.__proto__ || Object.getPrototypeOf(Notif)).apply(this, arguments));\n\n    _this.onClick = _this.onClick.bind(_this);\n    _this.type = type;\n\n    if (options == null) {\n      options = {};\n    }\n\n    _this.options = options;\n    _this.options = $.extend({}, _this.constructor.defautOptions, _this.options);\n    return _this;\n  }\n\n  _createClass(Notif, [{\n    key: 'show',\n    value: function show() {\n      if (this.timeout) {\n        clearTimeout(this.timeout);\n        this.timeout = this.delay(this.hide, this.options.autoHide);\n      } else {\n        this.render();\n        this.position();\n        this.activate();\n        this.appendTo(document.body);\n        this.el.offsetWidth; // force reflow\n        this.addClass(this.constructor.activeClass);\n        if (this.options.autoHide) {\n          this.timeout = this.delay(this.hide, this.options.autoHide);\n        }\n      }\n    }\n  }, {\n    key: 'hide',\n    value: function hide() {\n      clearTimeout(this.timeout);\n      this.timeout = null;\n      this.detach();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      this.html(this.tmpl('notif' + this.type));\n    }\n  }, {\n    key: 'position',\n    value: function position() {\n      var notifications = $$('.' + app.views.Notif.className);\n      if (notifications.length) {\n        var lastNotif = notifications[notifications.length - 1];\n        this.el.style.top = lastNotif.offsetTop + lastNotif.offsetHeight + 16 + 'px';\n      }\n    }\n  }, {\n    key: 'onClick',\n    value: function onClick(event) {\n      if (event.which !== 1) {\n        return;\n      }\n      var target = $.eventTarget(event);\n      if (target.hasAttribute('data-behavior')) {\n        return;\n      }\n      if (target.tagName !== 'A' || target.classList.contains('_notif-close')) {\n        $.stopEvent(event);\n        this.hide();\n      }\n    }\n  }]);\n\n  return Notif;\n}(_view2.default);\n\nNotif.className = '_notif';\nNotif.activeClass = '_in';\nNotif.attributes = {\n  role: 'alert'\n};\nNotif.defautOptions = {\n  autoHide: 15000\n};\nNotif.events = {\n  click: 'onClick'\n};\nexports.default = Notif;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2Fzc2V0cy9qYXZhc2NyaXB0cy92aWV3cy9taXNjL25vdGlmLmpzP2Y1ZDIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3ZpZXcgPSByZXF1aXJlKCcuLi92aWV3Jyk7XG5cbnZhciBfdmlldzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF92aWV3KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgTm90aWYgPSBmdW5jdGlvbiAoX1ZpZXcpIHtcbiAgX2luaGVyaXRzKE5vdGlmLCBfVmlldyk7XG5cbiAgZnVuY3Rpb24gTm90aWYodHlwZSwgb3B0aW9ucykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOb3RpZik7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTm90aWYuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihOb3RpZikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXG4gICAgX3RoaXMub25DbGljayA9IF90aGlzLm9uQ2xpY2suYmluZChfdGhpcyk7XG4gICAgX3RoaXMudHlwZSA9IHR5cGU7XG5cbiAgICBpZiAob3B0aW9ucyA9PSBudWxsKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuXG4gICAgX3RoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgX3RoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBfdGhpcy5jb25zdHJ1Y3Rvci5kZWZhdXRPcHRpb25zLCBfdGhpcy5vcHRpb25zKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTm90aWYsIFt7XG4gICAga2V5OiAnc2hvdycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNob3coKSB7XG4gICAgICBpZiAodGhpcy50aW1lb3V0KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSB0aGlzLmRlbGF5KHRoaXMuaGlkZSwgdGhpcy5vcHRpb25zLmF1dG9IaWRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIHRoaXMucG9zaXRpb24oKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZSgpO1xuICAgICAgICB0aGlzLmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpO1xuICAgICAgICB0aGlzLmVsLm9mZnNldFdpZHRoOyAvLyBmb3JjZSByZWZsb3dcbiAgICAgICAgdGhpcy5hZGRDbGFzcyh0aGlzLmNvbnN0cnVjdG9yLmFjdGl2ZUNsYXNzKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hdXRvSGlkZSkge1xuICAgICAgICAgIHRoaXMudGltZW91dCA9IHRoaXMuZGVsYXkodGhpcy5oaWRlLCB0aGlzLm9wdGlvbnMuYXV0b0hpZGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGlkZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcbiAgICAgIHRoaXMudGltZW91dCA9IG51bGw7XG4gICAgICB0aGlzLmRldGFjaCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHRoaXMuaHRtbCh0aGlzLnRtcGwoJ25vdGlmJyArIHRoaXMudHlwZSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3Bvc2l0aW9uJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcG9zaXRpb24oKSB7XG4gICAgICB2YXIgbm90aWZpY2F0aW9ucyA9ICQkKCcuJyArIGFwcC52aWV3cy5Ob3RpZi5jbGFzc05hbWUpO1xuICAgICAgaWYgKG5vdGlmaWNhdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBsYXN0Tm90aWYgPSBub3RpZmljYXRpb25zW25vdGlmaWNhdGlvbnMubGVuZ3RoIC0gMV07XG4gICAgICAgIHRoaXMuZWwuc3R5bGUudG9wID0gbGFzdE5vdGlmLm9mZnNldFRvcCArIGxhc3ROb3RpZi5vZmZzZXRIZWlnaHQgKyAxNiArICdweCc7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25DbGljaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC53aGljaCAhPT0gMSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgdGFyZ2V0ID0gJC5ldmVudFRhcmdldChldmVudCk7XG4gICAgICBpZiAodGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnZGF0YS1iZWhhdmlvcicpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh0YXJnZXQudGFnTmFtZSAhPT0gJ0EnIHx8IHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ19ub3RpZi1jbG9zZScpKSB7XG4gICAgICAgICQuc3RvcEV2ZW50KGV2ZW50KTtcbiAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE5vdGlmO1xufShfdmlldzIuZGVmYXVsdCk7XG5cbk5vdGlmLmNsYXNzTmFtZSA9ICdfbm90aWYnO1xuTm90aWYuYWN0aXZlQ2xhc3MgPSAnX2luJztcbk5vdGlmLmF0dHJpYnV0ZXMgPSB7XG4gIHJvbGU6ICdhbGVydCdcbn07XG5Ob3RpZi5kZWZhdXRPcHRpb25zID0ge1xuICBhdXRvSGlkZTogMTUwMDBcbn07XG5Ob3RpZi5ldmVudHMgPSB7XG4gIGNsaWNrOiAnb25DbGljaydcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBOb3RpZjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Fzc2V0cy9qYXZhc2NyaXB0cy92aWV3cy9taXNjL25vdGlmLmpzXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _view = __webpack_require__(0);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Mobile = function (_View) {\n  _inherits(Mobile, _View);\n\n  _createClass(Mobile, null, [{\n    key: 'detect',\n    value: function detect() {\n      try {\n        return window.matchMedia('(max-width: 480px)').matches || window.matchMedia('(max-width: 767px)').matches || window.matchMedia('(max-height: 767px) and (max-width: 1024px)').matches ||\n        // Need to sniff the user agent because some Android and Windows Phone devices don't take\n        // resolution (dpi) into account when reporting device width/height.\n        navigator.userAgent.indexOf('Android') !== -1 && navigator.userAgent.indexOf('Mobile') !== -1 || navigator.userAgent.indexOf('IEMobile') !== -1;\n      } catch (error) {\n        return false;\n      }\n    }\n  }, {\n    key: 'detectAndroidWebview',\n    value: function detectAndroidWebview() {\n      try {\n        return (/(Android).*( Version\\/.\\.. ).*(Chrome)/.test(navigator.userAgent)\n        );\n      } catch (error) {\n        return false;\n      }\n    }\n  }]);\n\n  function Mobile() {\n    _classCallCheck(this, Mobile);\n\n    var _this = _possibleConstructorReturn(this, (Mobile.__proto__ || Object.getPrototypeOf(Mobile)).apply(this, arguments));\n\n    _this.showSidebar = _this.showSidebar.bind(_this);\n    _this.hideSidebar = _this.hideSidebar.bind(_this);\n    _this.onClickBack = _this.onClickBack.bind(_this);\n    _this.onClickForward = _this.onClickForward.bind(_this);\n    _this.onClickToggleSidebar = _this.onClickToggleSidebar.bind(_this);\n    _this.onClickDocPickerTab = _this.onClickDocPickerTab.bind(_this);\n    _this.onClickSettingsTab = _this.onClickSettingsTab.bind(_this);\n    _this.onTapSearch = _this.onTapSearch.bind(_this);\n    _this.onEscape = _this.onEscape.bind(_this);\n    _this.afterRoute = _this.afterRoute.bind(_this);\n    _this.el = document.documentElement;\n\n    if (window.FastClick != null) {\n      window.FastClick.attach(_this.body);\n    }\n\n    $.on($('._search'), 'touchend', _this.onTapSearch);\n\n    _this.toggleSidebar = $('button[data-toggle-sidebar]');\n    _this.toggleSidebar.removeAttribute('hidden');\n    $.on(_this.toggleSidebar, 'click', _this.onClickToggleSidebar);\n\n    _this.back = $('button[data-back]');\n    _this.back.removeAttribute('hidden');\n    $.on(_this.back, 'click', _this.onClickBack);\n\n    _this.forward = $('button[data-forward]');\n    _this.forward.removeAttribute('hidden');\n    $.on(_this.forward, 'click', _this.onClickForward);\n\n    _this.docPickerTab = $('button[data-tab=\"doc-picker\"]');\n    _this.docPickerTab.removeAttribute('hidden');\n    $.on(_this.docPickerTab, 'click', _this.onClickDocPickerTab);\n\n    _this.settingsTab = $('button[data-tab=\"settings\"]');\n    _this.settingsTab.removeAttribute('hidden');\n    $.on(_this.settingsTab, 'click', _this.onClickSettingsTab);\n\n    app.document.sidebar.search.on('searching', _this.showSidebar);\n\n    _this.activate();\n    return _this;\n  }\n\n  _createClass(Mobile, [{\n    key: 'showSidebar',\n    value: function showSidebar() {\n      var selection = void 0;\n      if (this.isSidebarShown()) {\n        window.scrollTo(0, 0);\n        return;\n      }\n\n      this.contentTop = window.scrollY;\n      this.content.style.display = 'none';\n      this.sidebar.style.display = 'block';\n\n      if (selection = this.findByClass(app.views.ListSelect.activeClass)) {\n        var scrollContainer = window.scrollY === this.body.scrollTop ? this.body : document.documentElement;\n        $.scrollTo(selection, scrollContainer, 'center');\n      } else {\n        window.scrollTo(0, this.findByClass(app.views.ListFold.activeClass) && this.sidebarTop || 0);\n      }\n    }\n  }, {\n    key: 'hideSidebar',\n    value: function hideSidebar() {\n      if (!this.isSidebarShown()) {\n        return;\n      }\n      this.sidebarTop = window.scrollY;\n      this.sidebar.style.display = 'none';\n      this.content.style.display = 'block';\n      window.scrollTo(0, this.contentTop || 0);\n    }\n  }, {\n    key: 'isSidebarShown',\n    value: function isSidebarShown() {\n      return this.sidebar.style.display !== 'none';\n    }\n  }, {\n    key: 'onClickBack',\n    value: function onClickBack() {\n      return history.back();\n    }\n  }, {\n    key: 'onClickForward',\n    value: function onClickForward() {\n      return history.forward();\n    }\n  }, {\n    key: 'onClickToggleSidebar',\n    value: function onClickToggleSidebar() {\n      if (this.isSidebarShown()) {\n        this.hideSidebar();\n      } else {\n        this.showSidebar();\n      }\n    }\n  }, {\n    key: 'onClickDocPickerTab',\n    value: function onClickDocPickerTab(event) {\n      $.stopEvent(event);\n      this.showDocPicker();\n    }\n  }, {\n    key: 'onClickSettingsTab',\n    value: function onClickSettingsTab(event) {\n      $.stopEvent(event);\n      this.showSettings();\n    }\n  }, {\n    key: 'showDocPicker',\n    value: function showDocPicker() {\n      window.scrollTo(0, 0);\n      this.docPickerTab.classList.add('active');\n      this.settingsTab.classList.remove('active');\n      this.docPicker.style.display = 'block';\n      this.content.style.display = 'none';\n    }\n  }, {\n    key: 'showSettings',\n    value: function showSettings() {\n      window.scrollTo(0, 0);\n      this.docPickerTab.classList.remove('active');\n      this.settingsTab.classList.add('active');\n      this.docPicker.style.display = 'none';\n      this.content.style.display = 'block';\n    }\n  }, {\n    key: 'onTapSearch',\n    value: function onTapSearch() {\n      return window.scrollTo(0, 0);\n    }\n  }, {\n    key: 'onEscape',\n    value: function onEscape() {\n      return this.hideSidebar();\n    }\n  }, {\n    key: 'afterRoute',\n    value: function afterRoute(route) {\n      this.hideSidebar();\n\n      if (route === 'settings') {\n        this.showDocPicker();\n      } else {\n        this.content.style.display = 'block';\n      }\n\n      if (page.canGoBack()) {\n        this.back.removeAttribute('disabled');\n      } else {\n        this.back.setAttribute('disabled', 'disabled');\n      }\n\n      if (page.canGoForward()) {\n        this.forward.removeAttribute('disabled');\n      } else {\n        this.forward.setAttribute('disabled', 'disabled');\n      }\n    }\n  }]);\n\n  return Mobile;\n}(_view2.default);\n\nMobile.className = '_mobile';\nMobile.elements = {\n  body: 'body',\n  content: '._container',\n  sidebar: '._sidebar',\n  docPicker: '._settings ._sidebar'\n};\nMobile.shortcuts = {\n  escape: 'onEscape'\n};\nMobile.routes = {\n  after: 'afterRoute'\n};\nexports.default = Mobile;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2Fzc2V0cy9qYXZhc2NyaXB0cy92aWV3cy9sYXlvdXQvbW9iaWxlLmpzPzBhM2YiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3ZpZXcgPSByZXF1aXJlKCcuLi92aWV3Jyk7XG5cbnZhciBfdmlldzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF92aWV3KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgTW9iaWxlID0gZnVuY3Rpb24gKF9WaWV3KSB7XG4gIF9pbmhlcml0cyhNb2JpbGUsIF9WaWV3KTtcblxuICBfY3JlYXRlQ2xhc3MoTW9iaWxlLCBudWxsLCBbe1xuICAgIGtleTogJ2RldGVjdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGVjdCgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cubWF0Y2hNZWRpYSgnKG1heC13aWR0aDogNDgwcHgpJykubWF0Y2hlcyB8fCB3aW5kb3cubWF0Y2hNZWRpYSgnKG1heC13aWR0aDogNzY3cHgpJykubWF0Y2hlcyB8fCB3aW5kb3cubWF0Y2hNZWRpYSgnKG1heC1oZWlnaHQ6IDc2N3B4KSBhbmQgKG1heC13aWR0aDogMTAyNHB4KScpLm1hdGNoZXMgfHxcbiAgICAgICAgLy8gTmVlZCB0byBzbmlmZiB0aGUgdXNlciBhZ2VudCBiZWNhdXNlIHNvbWUgQW5kcm9pZCBhbmQgV2luZG93cyBQaG9uZSBkZXZpY2VzIGRvbid0IHRha2VcbiAgICAgICAgLy8gcmVzb2x1dGlvbiAoZHBpKSBpbnRvIGFjY291bnQgd2hlbiByZXBvcnRpbmcgZGV2aWNlIHdpZHRoL2hlaWdodC5cbiAgICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdBbmRyb2lkJykgIT09IC0xICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignTW9iaWxlJykgIT09IC0xIHx8IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignSUVNb2JpbGUnKSAhPT0gLTE7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGV0ZWN0QW5kcm9pZFdlYnZpZXcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXRlY3RBbmRyb2lkV2VidmlldygpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiAoLyhBbmRyb2lkKS4qKCBWZXJzaW9uXFwvLlxcLi4gKS4qKENocm9tZSkvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudClcbiAgICAgICAgKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICBmdW5jdGlvbiBNb2JpbGUoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1vYmlsZSk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTW9iaWxlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTW9iaWxlKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICBfdGhpcy5zaG93U2lkZWJhciA9IF90aGlzLnNob3dTaWRlYmFyLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLmhpZGVTaWRlYmFyID0gX3RoaXMuaGlkZVNpZGViYXIuYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25DbGlja0JhY2sgPSBfdGhpcy5vbkNsaWNrQmFjay5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vbkNsaWNrRm9yd2FyZCA9IF90aGlzLm9uQ2xpY2tGb3J3YXJkLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uQ2xpY2tUb2dnbGVTaWRlYmFyID0gX3RoaXMub25DbGlja1RvZ2dsZVNpZGViYXIuYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25DbGlja0RvY1BpY2tlclRhYiA9IF90aGlzLm9uQ2xpY2tEb2NQaWNrZXJUYWIuYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25DbGlja1NldHRpbmdzVGFiID0gX3RoaXMub25DbGlja1NldHRpbmdzVGFiLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uVGFwU2VhcmNoID0gX3RoaXMub25UYXBTZWFyY2guYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25Fc2NhcGUgPSBfdGhpcy5vbkVzY2FwZS5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5hZnRlclJvdXRlID0gX3RoaXMuYWZ0ZXJSb3V0ZS5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5lbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuICAgIGlmICh3aW5kb3cuRmFzdENsaWNrICE9IG51bGwpIHtcbiAgICAgIHdpbmRvdy5GYXN0Q2xpY2suYXR0YWNoKF90aGlzLmJvZHkpO1xuICAgIH1cblxuICAgICQub24oJCgnLl9zZWFyY2gnKSwgJ3RvdWNoZW5kJywgX3RoaXMub25UYXBTZWFyY2gpO1xuXG4gICAgX3RoaXMudG9nZ2xlU2lkZWJhciA9ICQoJ2J1dHRvbltkYXRhLXRvZ2dsZS1zaWRlYmFyXScpO1xuICAgIF90aGlzLnRvZ2dsZVNpZGViYXIucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKTtcbiAgICAkLm9uKF90aGlzLnRvZ2dsZVNpZGViYXIsICdjbGljaycsIF90aGlzLm9uQ2xpY2tUb2dnbGVTaWRlYmFyKTtcblxuICAgIF90aGlzLmJhY2sgPSAkKCdidXR0b25bZGF0YS1iYWNrXScpO1xuICAgIF90aGlzLmJhY2sucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKTtcbiAgICAkLm9uKF90aGlzLmJhY2ssICdjbGljaycsIF90aGlzLm9uQ2xpY2tCYWNrKTtcblxuICAgIF90aGlzLmZvcndhcmQgPSAkKCdidXR0b25bZGF0YS1mb3J3YXJkXScpO1xuICAgIF90aGlzLmZvcndhcmQucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKTtcbiAgICAkLm9uKF90aGlzLmZvcndhcmQsICdjbGljaycsIF90aGlzLm9uQ2xpY2tGb3J3YXJkKTtcblxuICAgIF90aGlzLmRvY1BpY2tlclRhYiA9ICQoJ2J1dHRvbltkYXRhLXRhYj1cImRvYy1waWNrZXJcIl0nKTtcbiAgICBfdGhpcy5kb2NQaWNrZXJUYWIucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKTtcbiAgICAkLm9uKF90aGlzLmRvY1BpY2tlclRhYiwgJ2NsaWNrJywgX3RoaXMub25DbGlja0RvY1BpY2tlclRhYik7XG5cbiAgICBfdGhpcy5zZXR0aW5nc1RhYiA9ICQoJ2J1dHRvbltkYXRhLXRhYj1cInNldHRpbmdzXCJdJyk7XG4gICAgX3RoaXMuc2V0dGluZ3NUYWIucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKTtcbiAgICAkLm9uKF90aGlzLnNldHRpbmdzVGFiLCAnY2xpY2snLCBfdGhpcy5vbkNsaWNrU2V0dGluZ3NUYWIpO1xuXG4gICAgYXBwLmRvY3VtZW50LnNpZGViYXIuc2VhcmNoLm9uKCdzZWFyY2hpbmcnLCBfdGhpcy5zaG93U2lkZWJhcik7XG5cbiAgICBfdGhpcy5hY3RpdmF0ZSgpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNb2JpbGUsIFt7XG4gICAga2V5OiAnc2hvd1NpZGViYXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93U2lkZWJhcigpIHtcbiAgICAgIHZhciBzZWxlY3Rpb24gPSB2b2lkIDA7XG4gICAgICBpZiAodGhpcy5pc1NpZGViYXJTaG93bigpKSB7XG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNvbnRlbnRUb3AgPSB3aW5kb3cuc2Nyb2xsWTtcbiAgICAgIHRoaXMuY29udGVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgdGhpcy5zaWRlYmFyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgICBpZiAoc2VsZWN0aW9uID0gdGhpcy5maW5kQnlDbGFzcyhhcHAudmlld3MuTGlzdFNlbGVjdC5hY3RpdmVDbGFzcykpIHtcbiAgICAgICAgdmFyIHNjcm9sbENvbnRhaW5lciA9IHdpbmRvdy5zY3JvbGxZID09PSB0aGlzLmJvZHkuc2Nyb2xsVG9wID8gdGhpcy5ib2R5IDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICAkLnNjcm9sbFRvKHNlbGVjdGlvbiwgc2Nyb2xsQ29udGFpbmVyLCAnY2VudGVyJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgdGhpcy5maW5kQnlDbGFzcyhhcHAudmlld3MuTGlzdEZvbGQuYWN0aXZlQ2xhc3MpICYmIHRoaXMuc2lkZWJhclRvcCB8fCAwKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoaWRlU2lkZWJhcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhpZGVTaWRlYmFyKCkge1xuICAgICAgaWYgKCF0aGlzLmlzU2lkZWJhclNob3duKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5zaWRlYmFyVG9wID0gd2luZG93LnNjcm9sbFk7XG4gICAgICB0aGlzLnNpZGViYXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIHRoaXMuY29udGVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCB0aGlzLmNvbnRlbnRUb3AgfHwgMCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaXNTaWRlYmFyU2hvd24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc1NpZGViYXJTaG93bigpIHtcbiAgICAgIHJldHVybiB0aGlzLnNpZGViYXIuc3R5bGUuZGlzcGxheSAhPT0gJ25vbmUnO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uQ2xpY2tCYWNrJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25DbGlja0JhY2soKSB7XG4gICAgICByZXR1cm4gaGlzdG9yeS5iYWNrKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25DbGlja0ZvcndhcmQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNsaWNrRm9yd2FyZCgpIHtcbiAgICAgIHJldHVybiBoaXN0b3J5LmZvcndhcmQoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbkNsaWNrVG9nZ2xlU2lkZWJhcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xpY2tUb2dnbGVTaWRlYmFyKCkge1xuICAgICAgaWYgKHRoaXMuaXNTaWRlYmFyU2hvd24oKSkge1xuICAgICAgICB0aGlzLmhpZGVTaWRlYmFyKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNob3dTaWRlYmFyKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25DbGlja0RvY1BpY2tlclRhYicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xpY2tEb2NQaWNrZXJUYWIoZXZlbnQpIHtcbiAgICAgICQuc3RvcEV2ZW50KGV2ZW50KTtcbiAgICAgIHRoaXMuc2hvd0RvY1BpY2tlcigpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uQ2xpY2tTZXR0aW5nc1RhYicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xpY2tTZXR0aW5nc1RhYihldmVudCkge1xuICAgICAgJC5zdG9wRXZlbnQoZXZlbnQpO1xuICAgICAgdGhpcy5zaG93U2V0dGluZ3MoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzaG93RG9jUGlja2VyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd0RvY1BpY2tlcigpIHtcbiAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcbiAgICAgIHRoaXMuZG9jUGlja2VyVGFiLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgdGhpcy5zZXR0aW5nc1RhYi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIHRoaXMuZG9jUGlja2VyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgdGhpcy5jb250ZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2hvd1NldHRpbmdzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd1NldHRpbmdzKCkge1xuICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xuICAgICAgdGhpcy5kb2NQaWNrZXJUYWIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICB0aGlzLnNldHRpbmdzVGFiLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgdGhpcy5kb2NQaWNrZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIHRoaXMuY29udGVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvblRhcFNlYXJjaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uVGFwU2VhcmNoKCkge1xuICAgICAgcmV0dXJuIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbkVzY2FwZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uRXNjYXBlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaGlkZVNpZGViYXIoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdhZnRlclJvdXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWZ0ZXJSb3V0ZShyb3V0ZSkge1xuICAgICAgdGhpcy5oaWRlU2lkZWJhcigpO1xuXG4gICAgICBpZiAocm91dGUgPT09ICdzZXR0aW5ncycpIHtcbiAgICAgICAgdGhpcy5zaG93RG9jUGlja2VyKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYWdlLmNhbkdvQmFjaygpKSB7XG4gICAgICAgIHRoaXMuYmFjay5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmJhY2suc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICAgfVxuXG4gICAgICBpZiAocGFnZS5jYW5Hb0ZvcndhcmQoKSkge1xuICAgICAgICB0aGlzLmZvcndhcmQucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5mb3J3YXJkLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTW9iaWxlO1xufShfdmlldzIuZGVmYXVsdCk7XG5cbk1vYmlsZS5jbGFzc05hbWUgPSAnX21vYmlsZSc7XG5Nb2JpbGUuZWxlbWVudHMgPSB7XG4gIGJvZHk6ICdib2R5JyxcbiAgY29udGVudDogJy5fY29udGFpbmVyJyxcbiAgc2lkZWJhcjogJy5fc2lkZWJhcicsXG4gIGRvY1BpY2tlcjogJy5fc2V0dGluZ3MgLl9zaWRlYmFyJ1xufTtcbk1vYmlsZS5zaG9ydGN1dHMgPSB7XG4gIGVzY2FwZTogJ29uRXNjYXBlJ1xufTtcbk1vYmlsZS5yb3V0ZXMgPSB7XG4gIGFmdGVyOiAnYWZ0ZXJSb3V0ZSdcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBNb2JpbGU7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hc3NldHMvamF2YXNjcmlwdHMvdmlld3MvbGF5b3V0L21vYmlsZS5qc1xuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _view = __webpack_require__(0);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ListFocus = function (_View) {\n  _inherits(ListFocus, _View);\n\n  function ListFocus(el) {\n    _classCallCheck(this, ListFocus);\n\n    var _this = _possibleConstructorReturn(this, (ListFocus.__proto__ || Object.getPrototypeOf(ListFocus)).apply(this, arguments));\n\n    _this.blur = _this.blur.bind(_this);\n    _this.onDown = _this.onDown.bind(_this);\n    _this.onUp = _this.onUp.bind(_this);\n    _this.onLeft = _this.onLeft.bind(_this);\n    _this.onEnter = _this.onEnter.bind(_this);\n    _this.onSuperEnter = _this.onSuperEnter.bind(_this);\n    _this.onClick = _this.onClick.bind(_this);\n    _this.el = el;\n\n    _this.focusOnNextFrame = $.framify(_this.focus, _this);\n    return _this;\n  }\n\n  _createClass(ListFocus, [{\n    key: 'focus',\n    value: function focus(el, options) {\n      if (options == null) {\n        options = {};\n      }\n      if (el && !el.classList.contains(this.constructor.activeClass)) {\n        this.blur();\n        el.classList.add(this.constructor.activeClass);\n        if (options.silent !== true) {\n          $.trigger(el, 'focus');\n        }\n      }\n    }\n  }, {\n    key: 'blur',\n    value: function blur() {\n      var cursor = void 0;\n      if (cursor = this.getCursor()) {\n        cursor.classList.remove(this.constructor.activeClass);\n        $.trigger(cursor, 'blur');\n      }\n    }\n  }, {\n    key: 'getCursor',\n    value: function getCursor() {\n      return this.findByClass(this.constructor.activeClass) || this.findByClass(app.views.ListSelect.activeClass);\n    }\n  }, {\n    key: 'findNext',\n    value: function findNext(cursor) {\n      var next = void 0;\n      if (next = cursor.nextSibling) {\n        if (next.tagName === 'A') {\n          return next;\n        } else if (next.tagName === 'SPAN') {\n          // pagination link\n          $.click(next);\n          return this.findNext(cursor);\n        } else if (next.tagName === 'DIV') {\n          // sub-list\n          if (cursor.className.indexOf(' open') >= 0) {\n            return this.findFirst(next) || this.findNext(next);\n          } else {\n            return this.findNext(next);\n          }\n        } else if (next.tagName === 'H6') {\n          // title\n          return this.findNext(next);\n        }\n      } else if (cursor.parentNode !== this.el) {\n        return this.findNext(cursor.parentNode);\n      }\n    }\n  }, {\n    key: 'findFirst',\n    value: function findFirst(cursor) {\n      var first = void 0;\n      if (!(first = cursor.firstChild)) {\n        return;\n      }\n\n      if (first.tagName === 'A') {\n        return first;\n      } else if (first.tagName === 'SPAN') {\n        // pagination link\n        $.click(first);\n        return this.findFirst(cursor);\n      }\n    }\n  }, {\n    key: 'findPrev',\n    value: function findPrev(cursor) {\n      var prev = void 0;\n      if (prev = cursor.previousSibling) {\n        if (prev.tagName === 'A') {\n          return prev;\n        } else if (prev.tagName === 'SPAN') {\n          // pagination link\n          $.click(prev);\n          return this.findPrev(cursor);\n        } else if (prev.tagName === 'DIV') {\n          // sub-list\n          if (prev.previousSibling.className.indexOf('open') >= 0) {\n            return this.findLast(prev) || this.findPrev(prev);\n          } else {\n            return this.findPrev(prev);\n          }\n        } else if (prev.tagName === 'H6') {\n          // title\n          return this.findPrev(prev);\n        }\n      } else if (cursor.parentNode !== this.el) {\n        return this.findPrev(cursor.parentNode);\n      }\n    }\n  }, {\n    key: 'findLast',\n    value: function findLast(cursor) {\n      var last = void 0;\n      if (!(last = cursor.lastChild)) {\n        return;\n      }\n\n      if (last.tagName === 'A') {\n        return last;\n      } else if (last.tagName === 'SPAN' || last.tagName === 'H6') {\n        // pagination link or title\n        return this.findPrev(last);\n      } else if (last.tagName === 'DIV') {\n        // sub-list\n        return this.findLast(last);\n      }\n    }\n  }, {\n    key: 'onDown',\n    value: function onDown() {\n      var cursor = void 0;\n      if (cursor = this.getCursor()) {\n        this.focusOnNextFrame(this.findNext(cursor));\n      } else {\n        this.focusOnNextFrame(this.findByTag('a'));\n      }\n    }\n  }, {\n    key: 'onUp',\n    value: function onUp() {\n      var cursor = void 0;\n      if (cursor = this.getCursor()) {\n        this.focusOnNextFrame(this.findPrev(cursor));\n      } else {\n        this.focusOnNextFrame(this.findLastByTag('a'));\n      }\n    }\n  }, {\n    key: 'onLeft',\n    value: function onLeft() {\n      var cursor = this.getCursor();\n      if (cursor && !cursor.classList.contains(app.views.ListFold.activeClass) && cursor.parentNode !== this.el) {\n        var prev = cursor.parentNode.previousSibling;\n        if (prev && prev.classList.contains(app.views.ListFold.targetClass)) {\n          this.focusOnNextFrame(cursor.parentNode.previousSibling);\n        }\n      }\n    }\n  }, {\n    key: 'onEnter',\n    value: function onEnter() {\n      var cursor = void 0;\n      if (cursor = this.getCursor()) {\n        $.click(cursor);\n      }\n    }\n  }, {\n    key: 'onSuperEnter',\n    value: function onSuperEnter() {\n      var cursor = void 0;\n      if (cursor = this.getCursor()) {\n        $.popup(cursor);\n      }\n    }\n  }, {\n    key: 'onClick',\n    value: function onClick(event) {\n      if (event.which !== 1 || event.metaKey || event.ctrlKey) {\n        return;\n      }\n      var target = $.eventTarget(event);\n      if (target.tagName === 'A') {\n        this.focus(target, {\n          silent: true\n        });\n      }\n    }\n  }]);\n\n  return ListFocus;\n}(_view2.default);\n\nListFocus.activeClass = 'focus';\nListFocus.events = {\n  click: 'onClick'\n};\nListFocus.shortcuts = {\n  up: 'onUp',\n  down: 'onDown',\n  left: 'onLeft',\n  enter: 'onEnter',\n  superEnter: 'onSuperEnter',\n  escape: 'blur'\n};\nexports.default = ListFocus;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2Fzc2V0cy9qYXZhc2NyaXB0cy92aWV3cy9saXN0L2xpc3RfZm9jdXMuanM/MDJjMiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfdmlldyA9IHJlcXVpcmUoJy4uL3ZpZXcnKTtcblxudmFyIF92aWV3MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ZpZXcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBMaXN0Rm9jdXMgPSBmdW5jdGlvbiAoX1ZpZXcpIHtcbiAgX2luaGVyaXRzKExpc3RGb2N1cywgX1ZpZXcpO1xuXG4gIGZ1bmN0aW9uIExpc3RGb2N1cyhlbCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMaXN0Rm9jdXMpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKExpc3RGb2N1cy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKExpc3RGb2N1cykpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXG4gICAgX3RoaXMuYmx1ciA9IF90aGlzLmJsdXIuYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25Eb3duID0gX3RoaXMub25Eb3duLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uVXAgPSBfdGhpcy5vblVwLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uTGVmdCA9IF90aGlzLm9uTGVmdC5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vbkVudGVyID0gX3RoaXMub25FbnRlci5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vblN1cGVyRW50ZXIgPSBfdGhpcy5vblN1cGVyRW50ZXIuYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25DbGljayA9IF90aGlzLm9uQ2xpY2suYmluZChfdGhpcyk7XG4gICAgX3RoaXMuZWwgPSBlbDtcblxuICAgIF90aGlzLmZvY3VzT25OZXh0RnJhbWUgPSAkLmZyYW1pZnkoX3RoaXMuZm9jdXMsIF90aGlzKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTGlzdEZvY3VzLCBbe1xuICAgIGtleTogJ2ZvY3VzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9jdXMoZWwsIG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zID09IG51bGwpIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuICAgICAgaWYgKGVsICYmICFlbC5jbGFzc0xpc3QuY29udGFpbnModGhpcy5jb25zdHJ1Y3Rvci5hY3RpdmVDbGFzcykpIHtcbiAgICAgICAgdGhpcy5ibHVyKCk7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQodGhpcy5jb25zdHJ1Y3Rvci5hY3RpdmVDbGFzcyk7XG4gICAgICAgIGlmIChvcHRpb25zLnNpbGVudCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICQudHJpZ2dlcihlbCwgJ2ZvY3VzJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdibHVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYmx1cigpIHtcbiAgICAgIHZhciBjdXJzb3IgPSB2b2lkIDA7XG4gICAgICBpZiAoY3Vyc29yID0gdGhpcy5nZXRDdXJzb3IoKSkge1xuICAgICAgICBjdXJzb3IuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmNvbnN0cnVjdG9yLmFjdGl2ZUNsYXNzKTtcbiAgICAgICAgJC50cmlnZ2VyKGN1cnNvciwgJ2JsdXInKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRDdXJzb3InLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDdXJzb3IoKSB7XG4gICAgICByZXR1cm4gdGhpcy5maW5kQnlDbGFzcyh0aGlzLmNvbnN0cnVjdG9yLmFjdGl2ZUNsYXNzKSB8fCB0aGlzLmZpbmRCeUNsYXNzKGFwcC52aWV3cy5MaXN0U2VsZWN0LmFjdGl2ZUNsYXNzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdmaW5kTmV4dCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZpbmROZXh0KGN1cnNvcikge1xuICAgICAgdmFyIG5leHQgPSB2b2lkIDA7XG4gICAgICBpZiAobmV4dCA9IGN1cnNvci5uZXh0U2libGluZykge1xuICAgICAgICBpZiAobmV4dC50YWdOYW1lID09PSAnQScpIHtcbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfSBlbHNlIGlmIChuZXh0LnRhZ05hbWUgPT09ICdTUEFOJykge1xuICAgICAgICAgIC8vIHBhZ2luYXRpb24gbGlua1xuICAgICAgICAgICQuY2xpY2sobmV4dCk7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZmluZE5leHQoY3Vyc29yKTtcbiAgICAgICAgfSBlbHNlIGlmIChuZXh0LnRhZ05hbWUgPT09ICdESVYnKSB7XG4gICAgICAgICAgLy8gc3ViLWxpc3RcbiAgICAgICAgICBpZiAoY3Vyc29yLmNsYXNzTmFtZS5pbmRleE9mKCcgb3BlbicpID49IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbmRGaXJzdChuZXh0KSB8fCB0aGlzLmZpbmROZXh0KG5leHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5maW5kTmV4dChuZXh0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobmV4dC50YWdOYW1lID09PSAnSDYnKSB7XG4gICAgICAgICAgLy8gdGl0bGVcbiAgICAgICAgICByZXR1cm4gdGhpcy5maW5kTmV4dChuZXh0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjdXJzb3IucGFyZW50Tm9kZSAhPT0gdGhpcy5lbCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maW5kTmV4dChjdXJzb3IucGFyZW50Tm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZmluZEZpcnN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmluZEZpcnN0KGN1cnNvcikge1xuICAgICAgdmFyIGZpcnN0ID0gdm9pZCAwO1xuICAgICAgaWYgKCEoZmlyc3QgPSBjdXJzb3IuZmlyc3RDaGlsZCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZmlyc3QudGFnTmFtZSA9PT0gJ0EnKSB7XG4gICAgICAgIHJldHVybiBmaXJzdDtcbiAgICAgIH0gZWxzZSBpZiAoZmlyc3QudGFnTmFtZSA9PT0gJ1NQQU4nKSB7XG4gICAgICAgIC8vIHBhZ2luYXRpb24gbGlua1xuICAgICAgICAkLmNsaWNrKGZpcnN0KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZEZpcnN0KGN1cnNvcik7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZmluZFByZXYnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmaW5kUHJldihjdXJzb3IpIHtcbiAgICAgIHZhciBwcmV2ID0gdm9pZCAwO1xuICAgICAgaWYgKHByZXYgPSBjdXJzb3IucHJldmlvdXNTaWJsaW5nKSB7XG4gICAgICAgIGlmIChwcmV2LnRhZ05hbWUgPT09ICdBJykge1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9IGVsc2UgaWYgKHByZXYudGFnTmFtZSA9PT0gJ1NQQU4nKSB7XG4gICAgICAgICAgLy8gcGFnaW5hdGlvbiBsaW5rXG4gICAgICAgICAgJC5jbGljayhwcmV2KTtcbiAgICAgICAgICByZXR1cm4gdGhpcy5maW5kUHJldihjdXJzb3IpO1xuICAgICAgICB9IGVsc2UgaWYgKHByZXYudGFnTmFtZSA9PT0gJ0RJVicpIHtcbiAgICAgICAgICAvLyBzdWItbGlzdFxuICAgICAgICAgIGlmIChwcmV2LnByZXZpb3VzU2libGluZy5jbGFzc05hbWUuaW5kZXhPZignb3BlbicpID49IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbmRMYXN0KHByZXYpIHx8IHRoaXMuZmluZFByZXYocHJldik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbmRQcmV2KHByZXYpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChwcmV2LnRhZ05hbWUgPT09ICdINicpIHtcbiAgICAgICAgICAvLyB0aXRsZVxuICAgICAgICAgIHJldHVybiB0aGlzLmZpbmRQcmV2KHByZXYpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGN1cnNvci5wYXJlbnROb2RlICE9PSB0aGlzLmVsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbmRQcmV2KGN1cnNvci5wYXJlbnROb2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdmaW5kTGFzdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZpbmRMYXN0KGN1cnNvcikge1xuICAgICAgdmFyIGxhc3QgPSB2b2lkIDA7XG4gICAgICBpZiAoIShsYXN0ID0gY3Vyc29yLmxhc3RDaGlsZCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAobGFzdC50YWdOYW1lID09PSAnQScpIHtcbiAgICAgICAgcmV0dXJuIGxhc3Q7XG4gICAgICB9IGVsc2UgaWYgKGxhc3QudGFnTmFtZSA9PT0gJ1NQQU4nIHx8IGxhc3QudGFnTmFtZSA9PT0gJ0g2Jykge1xuICAgICAgICAvLyBwYWdpbmF0aW9uIGxpbmsgb3IgdGl0bGVcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZFByZXYobGFzdCk7XG4gICAgICB9IGVsc2UgaWYgKGxhc3QudGFnTmFtZSA9PT0gJ0RJVicpIHtcbiAgICAgICAgLy8gc3ViLWxpc3RcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZExhc3QobGFzdCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25Eb3duJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Eb3duKCkge1xuICAgICAgdmFyIGN1cnNvciA9IHZvaWQgMDtcbiAgICAgIGlmIChjdXJzb3IgPSB0aGlzLmdldEN1cnNvcigpKSB7XG4gICAgICAgIHRoaXMuZm9jdXNPbk5leHRGcmFtZSh0aGlzLmZpbmROZXh0KGN1cnNvcikpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5mb2N1c09uTmV4dEZyYW1lKHRoaXMuZmluZEJ5VGFnKCdhJykpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uVXAnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblVwKCkge1xuICAgICAgdmFyIGN1cnNvciA9IHZvaWQgMDtcbiAgICAgIGlmIChjdXJzb3IgPSB0aGlzLmdldEN1cnNvcigpKSB7XG4gICAgICAgIHRoaXMuZm9jdXNPbk5leHRGcmFtZSh0aGlzLmZpbmRQcmV2KGN1cnNvcikpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5mb2N1c09uTmV4dEZyYW1lKHRoaXMuZmluZExhc3RCeVRhZygnYScpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbkxlZnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkxlZnQoKSB7XG4gICAgICB2YXIgY3Vyc29yID0gdGhpcy5nZXRDdXJzb3IoKTtcbiAgICAgIGlmIChjdXJzb3IgJiYgIWN1cnNvci5jbGFzc0xpc3QuY29udGFpbnMoYXBwLnZpZXdzLkxpc3RGb2xkLmFjdGl2ZUNsYXNzKSAmJiBjdXJzb3IucGFyZW50Tm9kZSAhPT0gdGhpcy5lbCkge1xuICAgICAgICB2YXIgcHJldiA9IGN1cnNvci5wYXJlbnROb2RlLnByZXZpb3VzU2libGluZztcbiAgICAgICAgaWYgKHByZXYgJiYgcHJldi5jbGFzc0xpc3QuY29udGFpbnMoYXBwLnZpZXdzLkxpc3RGb2xkLnRhcmdldENsYXNzKSkge1xuICAgICAgICAgIHRoaXMuZm9jdXNPbk5leHRGcmFtZShjdXJzb3IucGFyZW50Tm9kZS5wcmV2aW91c1NpYmxpbmcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25FbnRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uRW50ZXIoKSB7XG4gICAgICB2YXIgY3Vyc29yID0gdm9pZCAwO1xuICAgICAgaWYgKGN1cnNvciA9IHRoaXMuZ2V0Q3Vyc29yKCkpIHtcbiAgICAgICAgJC5jbGljayhjdXJzb3IpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uU3VwZXJFbnRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uU3VwZXJFbnRlcigpIHtcbiAgICAgIHZhciBjdXJzb3IgPSB2b2lkIDA7XG4gICAgICBpZiAoY3Vyc29yID0gdGhpcy5nZXRDdXJzb3IoKSkge1xuICAgICAgICAkLnBvcHVwKGN1cnNvcik7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25DbGljaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC53aGljaCAhPT0gMSB8fCBldmVudC5tZXRhS2V5IHx8IGV2ZW50LmN0cmxLZXkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIHRhcmdldCA9ICQuZXZlbnRUYXJnZXQoZXZlbnQpO1xuICAgICAgaWYgKHRhcmdldC50YWdOYW1lID09PSAnQScpIHtcbiAgICAgICAgdGhpcy5mb2N1cyh0YXJnZXQsIHtcbiAgICAgICAgICBzaWxlbnQ6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIExpc3RGb2N1cztcbn0oX3ZpZXcyLmRlZmF1bHQpO1xuXG5MaXN0Rm9jdXMuYWN0aXZlQ2xhc3MgPSAnZm9jdXMnO1xuTGlzdEZvY3VzLmV2ZW50cyA9IHtcbiAgY2xpY2s6ICdvbkNsaWNrJ1xufTtcbkxpc3RGb2N1cy5zaG9ydGN1dHMgPSB7XG4gIHVwOiAnb25VcCcsXG4gIGRvd246ICdvbkRvd24nLFxuICBsZWZ0OiAnb25MZWZ0JyxcbiAgZW50ZXI6ICdvbkVudGVyJyxcbiAgc3VwZXJFbnRlcjogJ29uU3VwZXJFbnRlcicsXG4gIGVzY2FwZTogJ2JsdXInXG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gTGlzdEZvY3VzO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXNzZXRzL2phdmFzY3JpcHRzL3ZpZXdzL2xpc3QvbGlzdF9mb2N1cy5qc1xuLy8gbW9kdWxlIGlkID0gM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _view = __webpack_require__(0);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ListFold = function (_View) {\n  _inherits(ListFold, _View);\n\n  function ListFold(el) {\n    _classCallCheck(this, ListFold);\n\n    var _this = _possibleConstructorReturn(this, (ListFold.__proto__ || Object.getPrototypeOf(ListFold)).apply(this, arguments));\n\n    _this.onLeft = _this.onLeft.bind(_this);\n    _this.onRight = _this.onRight.bind(_this);\n    _this.onClick = _this.onClick.bind(_this);\n    _this.el = el;\n    return _this;\n  }\n\n  _createClass(ListFold, [{\n    key: 'open',\n    value: function open(el) {\n      if (el && !el.classList.contains(this.constructor.activeClass)) {\n        el.classList.add(this.constructor.activeClass);\n        $.trigger(el, 'open');\n      }\n    }\n  }, {\n    key: 'close',\n    value: function close(el) {\n      if (el && el.classList.contains(this.constructor.activeClass)) {\n        el.classList.remove(this.constructor.activeClass);\n        $.trigger(el, 'close');\n      }\n    }\n  }, {\n    key: 'toggle',\n    value: function toggle(el) {\n      if (el.classList.contains(this.constructor.activeClass)) {\n        this.close(el);\n      } else {\n        this.open(el);\n      }\n    }\n  }, {\n    key: 'reset',\n    value: function reset() {\n      var el = void 0;\n      while (el = this.findByClass(this.constructor.activeClass)) {\n        this.close(el);\n      }\n    }\n  }, {\n    key: 'getCursor',\n    value: function getCursor() {\n      return this.findByClass(app.views.ListFocus.activeClass) || this.findByClass(app.views.ListSelect.activeClass);\n    }\n  }, {\n    key: 'onLeft',\n    value: function onLeft() {\n      var cursor = this.getCursor();\n      if (cursor != null ? cursor.classList.contains(this.constructor.activeClass) : undefined) {\n        this.close(cursor);\n      }\n    }\n  }, {\n    key: 'onRight',\n    value: function onRight() {\n      var cursor = this.getCursor();\n      if (cursor != null ? cursor.classList.contains(this.constructor.targetClass) : undefined) {\n        this.open(cursor);\n      }\n    }\n  }, {\n    key: 'onClick',\n    value: function onClick(event) {\n      if (event.which !== 1 || event.metaKey || event.ctrlKey) {\n        return;\n      }\n      if (!event.pageY) {\n        return;\n      } // ignore fabricated clicks\n      var el = $.eventTarget(event);\n      if (el.parentNode.tagName.toUpperCase() === 'SVG') {\n        el = el.parentNode;\n      }\n\n      if (el.classList.contains(this.constructor.handleClass)) {\n        $.stopEvent(event);\n        this.toggle(el.parentNode);\n      } else if (el.classList.contains(this.constructor.targetClass)) {\n        if (el.hasAttribute('href')) {\n          if (el.classList.contains(this.constructor.activeClass)) {\n            if (el.classList.contains(app.views.ListSelect.activeClass)) {\n              this.close(el);\n            }\n          } else {\n            this.open(el);\n          }\n        } else {\n          this.toggle(el);\n        }\n      }\n    }\n  }]);\n\n  return ListFold;\n}(_view2.default);\n\nListFold.targetClass = '_list-dir';\nListFold.handleClass = '_list-arrow';\nListFold.activeClass = 'open';\nListFold.events = {\n  click: 'onClick'\n};\nListFold.shortcuts = {\n  left: 'onLeft',\n  right: 'onRight'\n};\nexports.default = ListFold;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2Fzc2V0cy9qYXZhc2NyaXB0cy92aWV3cy9saXN0L2xpc3RfZm9sZC5qcz8wNWM4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF92aWV3ID0gcmVxdWlyZSgnLi4vdmlldycpO1xuXG52YXIgX3ZpZXcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdmlldyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIExpc3RGb2xkID0gZnVuY3Rpb24gKF9WaWV3KSB7XG4gIF9pbmhlcml0cyhMaXN0Rm9sZCwgX1ZpZXcpO1xuXG4gIGZ1bmN0aW9uIExpc3RGb2xkKGVsKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExpc3RGb2xkKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChMaXN0Rm9sZC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKExpc3RGb2xkKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICBfdGhpcy5vbkxlZnQgPSBfdGhpcy5vbkxlZnQuYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25SaWdodCA9IF90aGlzLm9uUmlnaHQuYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25DbGljayA9IF90aGlzLm9uQ2xpY2suYmluZChfdGhpcyk7XG4gICAgX3RoaXMuZWwgPSBlbDtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTGlzdEZvbGQsIFt7XG4gICAga2V5OiAnb3BlbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW4oZWwpIHtcbiAgICAgIGlmIChlbCAmJiAhZWwuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuY29uc3RydWN0b3IuYWN0aXZlQ2xhc3MpKSB7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQodGhpcy5jb25zdHJ1Y3Rvci5hY3RpdmVDbGFzcyk7XG4gICAgICAgICQudHJpZ2dlcihlbCwgJ29wZW4nKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjbG9zZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlKGVsKSB7XG4gICAgICBpZiAoZWwgJiYgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuY29uc3RydWN0b3IuYWN0aXZlQ2xhc3MpKSB7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jb25zdHJ1Y3Rvci5hY3RpdmVDbGFzcyk7XG4gICAgICAgICQudHJpZ2dlcihlbCwgJ2Nsb3NlJyk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAndG9nZ2xlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9nZ2xlKGVsKSB7XG4gICAgICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuY29uc3RydWN0b3IuYWN0aXZlQ2xhc3MpKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoZWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vcGVuKGVsKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZXNldCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgdmFyIGVsID0gdm9pZCAwO1xuICAgICAgd2hpbGUgKGVsID0gdGhpcy5maW5kQnlDbGFzcyh0aGlzLmNvbnN0cnVjdG9yLmFjdGl2ZUNsYXNzKSkge1xuICAgICAgICB0aGlzLmNsb3NlKGVsKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRDdXJzb3InLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDdXJzb3IoKSB7XG4gICAgICByZXR1cm4gdGhpcy5maW5kQnlDbGFzcyhhcHAudmlld3MuTGlzdEZvY3VzLmFjdGl2ZUNsYXNzKSB8fCB0aGlzLmZpbmRCeUNsYXNzKGFwcC52aWV3cy5MaXN0U2VsZWN0LmFjdGl2ZUNsYXNzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbkxlZnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkxlZnQoKSB7XG4gICAgICB2YXIgY3Vyc29yID0gdGhpcy5nZXRDdXJzb3IoKTtcbiAgICAgIGlmIChjdXJzb3IgIT0gbnVsbCA/IGN1cnNvci5jbGFzc0xpc3QuY29udGFpbnModGhpcy5jb25zdHJ1Y3Rvci5hY3RpdmVDbGFzcykgOiB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5jbG9zZShjdXJzb3IpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uUmlnaHQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJpZ2h0KCkge1xuICAgICAgdmFyIGN1cnNvciA9IHRoaXMuZ2V0Q3Vyc29yKCk7XG4gICAgICBpZiAoY3Vyc29yICE9IG51bGwgPyBjdXJzb3IuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuY29uc3RydWN0b3IudGFyZ2V0Q2xhc3MpIDogdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMub3BlbihjdXJzb3IpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uQ2xpY2snLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNsaWNrKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQud2hpY2ggIT09IDEgfHwgZXZlbnQubWV0YUtleSB8fCBldmVudC5jdHJsS2V5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghZXZlbnQucGFnZVkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBpZ25vcmUgZmFicmljYXRlZCBjbGlja3NcbiAgICAgIHZhciBlbCA9ICQuZXZlbnRUYXJnZXQoZXZlbnQpO1xuICAgICAgaWYgKGVsLnBhcmVudE5vZGUudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09PSAnU1ZHJykge1xuICAgICAgICBlbCA9IGVsLnBhcmVudE5vZGU7XG4gICAgICB9XG5cbiAgICAgIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnModGhpcy5jb25zdHJ1Y3Rvci5oYW5kbGVDbGFzcykpIHtcbiAgICAgICAgJC5zdG9wRXZlbnQoZXZlbnQpO1xuICAgICAgICB0aGlzLnRvZ2dsZShlbC5wYXJlbnROb2RlKTtcbiAgICAgIH0gZWxzZSBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuY29uc3RydWN0b3IudGFyZ2V0Q2xhc3MpKSB7XG4gICAgICAgIGlmIChlbC5oYXNBdHRyaWJ1dGUoJ2hyZWYnKSkge1xuICAgICAgICAgIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnModGhpcy5jb25zdHJ1Y3Rvci5hY3RpdmVDbGFzcykpIHtcbiAgICAgICAgICAgIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoYXBwLnZpZXdzLkxpc3RTZWxlY3QuYWN0aXZlQ2xhc3MpKSB7XG4gICAgICAgICAgICAgIHRoaXMuY2xvc2UoZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm9wZW4oZWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnRvZ2dsZShlbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTGlzdEZvbGQ7XG59KF92aWV3Mi5kZWZhdWx0KTtcblxuTGlzdEZvbGQudGFyZ2V0Q2xhc3MgPSAnX2xpc3QtZGlyJztcbkxpc3RGb2xkLmhhbmRsZUNsYXNzID0gJ19saXN0LWFycm93Jztcbkxpc3RGb2xkLmFjdGl2ZUNsYXNzID0gJ29wZW4nO1xuTGlzdEZvbGQuZXZlbnRzID0ge1xuICBjbGljazogJ29uQ2xpY2snXG59O1xuTGlzdEZvbGQuc2hvcnRjdXRzID0ge1xuICBsZWZ0OiAnb25MZWZ0JyxcbiAgcmlnaHQ6ICdvblJpZ2h0J1xufTtcbmV4cG9ydHMuZGVmYXVsdCA9IExpc3RGb2xkO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXNzZXRzL2phdmFzY3JpcHRzL3ZpZXdzL2xpc3QvbGlzdF9mb2xkLmpzXG4vLyBtb2R1bGUgaWQgPSA0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _view = __webpack_require__(0);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ListSelect = function (_View) {\n  _inherits(ListSelect, _View);\n\n  function ListSelect(el) {\n    _classCallCheck(this, ListSelect);\n\n    var _this = _possibleConstructorReturn(this, (ListSelect.__proto__ || Object.getPrototypeOf(ListSelect)).apply(this, arguments));\n\n    _this.onClick = _this.onClick.bind(_this);\n    _this.el = el;\n    return _this;\n  }\n\n  _createClass(ListSelect, [{\n    key: 'deactivate',\n    value: function deactivate() {\n      if (_get(ListSelect.prototype.__proto__ || Object.getPrototypeOf(ListSelect.prototype), 'deactivate', this).apply(this, arguments)) {\n        this.deselect();\n      }\n    }\n  }, {\n    key: 'select',\n    value: function select(el) {\n      this.deselect();\n      if (el) {\n        el.classList.add(this.constructor.activeClass);\n        $.trigger(el, 'select');\n      }\n    }\n  }, {\n    key: 'deselect',\n    value: function deselect() {\n      var selection = void 0;\n      if (selection = this.getSelection()) {\n        selection.classList.remove(this.constructor.activeClass);\n        $.trigger(selection, 'deselect');\n      }\n    }\n  }, {\n    key: 'selectByHref',\n    value: function selectByHref(href) {\n      var selection = this.getSelection();\n\n      if (selection && selection.getAttribute('href') !== href) {\n        this.select(this.find('a[href=\\'' + href + '\\']'));\n      }\n    }\n  }, {\n    key: 'selectCurrent',\n    value: function selectCurrent() {\n      this.selectByHref(location.pathname + location.hash);\n    }\n  }, {\n    key: 'getSelection',\n    value: function getSelection() {\n      return this.findByClass(this.constructor.activeClass);\n    }\n  }, {\n    key: 'onClick',\n    value: function onClick(event) {\n      if (event.which !== 1 || event.metaKey || event.ctrlKey) {\n        return;\n      }\n      var target = $.eventTarget(event);\n      if (target.tagName === 'A') {\n        this.select(target);\n      }\n    }\n  }]);\n\n  return ListSelect;\n}(_view2.default);\n\nListSelect.activeClass = 'active';\nListSelect.events = {\n  click: 'onClick'\n};\nexports.default = ListSelect;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2Fzc2V0cy9qYXZhc2NyaXB0cy92aWV3cy9saXN0L2xpc3Rfc2VsZWN0LmpzP2JhMGMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2dldCA9IGZ1bmN0aW9uIGdldChvYmplY3QsIHByb3BlcnR5LCByZWNlaXZlcikgeyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgcmV0dXJuIGdldChwYXJlbnQsIHByb3BlcnR5LCByZWNlaXZlcik7IH0gfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH07XG5cbnZhciBfdmlldyA9IHJlcXVpcmUoJy4uL3ZpZXcnKTtcblxudmFyIF92aWV3MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ZpZXcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBMaXN0U2VsZWN0ID0gZnVuY3Rpb24gKF9WaWV3KSB7XG4gIF9pbmhlcml0cyhMaXN0U2VsZWN0LCBfVmlldyk7XG5cbiAgZnVuY3Rpb24gTGlzdFNlbGVjdChlbCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMaXN0U2VsZWN0KTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChMaXN0U2VsZWN0Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTGlzdFNlbGVjdCkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXG4gICAgX3RoaXMub25DbGljayA9IF90aGlzLm9uQ2xpY2suYmluZChfdGhpcyk7XG4gICAgX3RoaXMuZWwgPSBlbDtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTGlzdFNlbGVjdCwgW3tcbiAgICBrZXk6ICdkZWFjdGl2YXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVhY3RpdmF0ZSgpIHtcbiAgICAgIGlmIChfZ2V0KExpc3RTZWxlY3QucHJvdG90eXBlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTGlzdFNlbGVjdC5wcm90b3R5cGUpLCAnZGVhY3RpdmF0ZScsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpIHtcbiAgICAgICAgdGhpcy5kZXNlbGVjdCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NlbGVjdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlbGVjdChlbCkge1xuICAgICAgdGhpcy5kZXNlbGVjdCgpO1xuICAgICAgaWYgKGVsKSB7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQodGhpcy5jb25zdHJ1Y3Rvci5hY3RpdmVDbGFzcyk7XG4gICAgICAgICQudHJpZ2dlcihlbCwgJ3NlbGVjdCcpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Rlc2VsZWN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzZWxlY3QoKSB7XG4gICAgICB2YXIgc2VsZWN0aW9uID0gdm9pZCAwO1xuICAgICAgaWYgKHNlbGVjdGlvbiA9IHRoaXMuZ2V0U2VsZWN0aW9uKCkpIHtcbiAgICAgICAgc2VsZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jb25zdHJ1Y3Rvci5hY3RpdmVDbGFzcyk7XG4gICAgICAgICQudHJpZ2dlcihzZWxlY3Rpb24sICdkZXNlbGVjdCcpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NlbGVjdEJ5SHJlZicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlbGVjdEJ5SHJlZihocmVmKSB7XG4gICAgICB2YXIgc2VsZWN0aW9uID0gdGhpcy5nZXRTZWxlY3Rpb24oKTtcblxuICAgICAgaWYgKHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24uZ2V0QXR0cmlidXRlKCdocmVmJykgIT09IGhyZWYpIHtcbiAgICAgICAgdGhpcy5zZWxlY3QodGhpcy5maW5kKCdhW2hyZWY9XFwnJyArIGhyZWYgKyAnXFwnXScpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZWxlY3RDdXJyZW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VsZWN0Q3VycmVudCgpIHtcbiAgICAgIHRoaXMuc2VsZWN0QnlIcmVmKGxvY2F0aW9uLnBhdGhuYW1lICsgbG9jYXRpb24uaGFzaCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0U2VsZWN0aW9uJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2VsZWN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmluZEJ5Q2xhc3ModGhpcy5jb25zdHJ1Y3Rvci5hY3RpdmVDbGFzcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25DbGljaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC53aGljaCAhPT0gMSB8fCBldmVudC5tZXRhS2V5IHx8IGV2ZW50LmN0cmxLZXkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIHRhcmdldCA9ICQuZXZlbnRUYXJnZXQoZXZlbnQpO1xuICAgICAgaWYgKHRhcmdldC50YWdOYW1lID09PSAnQScpIHtcbiAgICAgICAgdGhpcy5zZWxlY3QodGFyZ2V0KTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTGlzdFNlbGVjdDtcbn0oX3ZpZXcyLmRlZmF1bHQpO1xuXG5MaXN0U2VsZWN0LmFjdGl2ZUNsYXNzID0gJ2FjdGl2ZSc7XG5MaXN0U2VsZWN0LmV2ZW50cyA9IHtcbiAgY2xpY2s6ICdvbkNsaWNrJ1xufTtcbmV4cG9ydHMuZGVmYXVsdCA9IExpc3RTZWxlY3Q7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hc3NldHMvamF2YXNjcmlwdHMvdmlld3MvbGlzdC9saXN0X3NlbGVjdC5qc1xuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5\n")},function(n,g,t){n.exports=t(7)},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar _app = __webpack_require__(8);\n\nvar _app2 = _interopRequireDefault(_app);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar init = function init() {\n  document.removeEventListener('DOMContentLoaded', init, false);\n\n  if (document.body) {\n    return _app2.default.init();\n  } else {\n    return setTimeout(init, 42);\n  }\n};\n\ndocument.addEventListener('DOMContentLoaded', init, false);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2Fzc2V0cy9qYXZhc2NyaXB0cy9hcHBsaWNhdGlvbi5qcz8xNTEyIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIF9hcHAgPSByZXF1aXJlKCcuL2FwcC9hcHAnKTtcblxudmFyIF9hcHAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXBwKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGluaXQgPSBmdW5jdGlvbiBpbml0KCkge1xuICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgaW5pdCwgZmFsc2UpO1xuXG4gIGlmIChkb2N1bWVudC5ib2R5KSB7XG4gICAgcmV0dXJuIF9hcHAyLmRlZmF1bHQuaW5pdCgpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzZXRUaW1lb3V0KGluaXQsIDQyKTtcbiAgfVxufTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGluaXQsIGZhbHNlKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Fzc2V0cy9qYXZhc2NyaXB0cy9hcHBsaWNhdGlvbi5qc1xuLy8gbW9kdWxlIGlkID0gN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _docs = __webpack_require__(9);\n\nvar _docs2 = _interopRequireDefault(_docs);\n\nvar _doc = __webpack_require__(10);\n\nvar _doc2 = _interopRequireDefault(_doc);\n\nvar _entries = __webpack_require__(11);\n\nvar _entries2 = _interopRequireDefault(_entries);\n\nvar _appcache = __webpack_require__(12);\n\nvar _appcache2 = _interopRequireDefault(_appcache);\n\nvar _shortcuts = __webpack_require__(13);\n\nvar _shortcuts2 = _interopRequireDefault(_shortcuts);\n\nvar _router = __webpack_require__(14);\n\nvar _router2 = _interopRequireDefault(_router);\n\nvar _document = __webpack_require__(15);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _mobile = __webpack_require__(2);\n\nvar _mobile2 = _interopRequireDefault(_mobile);\n\nvar _settings = __webpack_require__(32);\n\nvar _settings2 = _interopRequireDefault(_settings);\n\nvar _db = __webpack_require__(33);\n\nvar _db2 = _interopRequireDefault(_db);\n\nvar _error_tmpl = __webpack_require__(34);\n\nvar _notif = __webpack_require__(1);\n\nvar _notif2 = _interopRequireDefault(_notif);\n\nvar _notice = __webpack_require__(35);\n\nvar _notice2 = _interopRequireDefault(_notice);\n\nvar _news = __webpack_require__(36);\n\nvar _news2 = _interopRequireDefault(_news);\n\nvar _updates = __webpack_require__(37);\n\nvar _updates2 = _interopRequireDefault(_updates);\n\nvar _update_checker = __webpack_require__(38);\n\nvar _update_checker2 = _interopRequireDefault(_update_checker);\n\nvar _tip = __webpack_require__(39);\n\nvar _tip2 = _interopRequireDefault(_tip);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nexports.default = app = {\n  _$: $,\n  _$$: $$,\n  _page: page,\n  collections: {},\n  models: {},\n  templates: {},\n  views: {},\n\n  init: function init() {\n    try {\n      this.initErrorTracking();\n    } catch (error) {}\n    if (!this.browserCheck()) {\n      return;\n    }\n\n    this.el = $('._app');\n    this.localStorage = new LocalStorageStore();\n    if (_appcache2.default.isEnabled()) {\n      this.appCache = new _appcache2.default();\n    }\n    this.settings = new _settings2.default();\n    this.db = new _db2.default();\n\n    this.docs = new _docs2.default();\n    this.disabledDocs = new _docs2.default();\n    this.entries = new _entries2.default();\n\n    this.router = new _router2.default();\n    this.shortcuts = new _shortcuts2.default();\n    this.document = new _document2.default();\n    if (this.isMobile()) {\n      this.mobile = new _mobile2.default();\n    }\n\n    if (document.body.hasAttribute('data-doc')) {\n      this.DOC = JSON.parse(document.body.getAttribute('data-doc'));\n      this.bootOne();\n    } else if (this.DOCS) {\n      this.bootAll();\n    } else {\n      this.onBootError();\n    }\n  },\n  browserCheck: function browserCheck() {\n    if (this.isSupportedBrowser()) {\n      return true;\n    }\n    document.body.innerHTML = (0, _error_tmpl.unsupportedBrowser)();\n    this.hideLoadingScreen();\n    return false;\n  },\n  initErrorTracking: function initErrorTracking() {\n    var _this = this;\n\n    // Show a warning message and don't track errors when the app is loaded\n    // from a domain other than our own, because things are likely to break.\n    // (e.g. cross-domain requests)\n    if (this.isInvalidLocation()) {\n      var notif = new _notif2.default('InvalidLocation');\n      notif.show();\n    } else {\n      if (this.config.sentry_dsn) {\n        Raven.config(this.config.sentry_dsn, {\n          release: this.config.release,\n          whitelistUrls: [/devdocs/],\n          includePaths: [/devdocs/],\n          ignoreErrors: [/NPObject/, /NS_ERROR/, /^null$/, /EvalError/],\n          tags: {\n            mode: this.isSingleDoc() ? 'single' : 'full',\n            iframe: (window.top !== window).toString()\n            // TODO electron: (!!__guard__(window.process != null ? window.process.versions : undefined, x => x.electron)).toString()\n          },\n          shouldSendCallback: function shouldSendCallback() {\n            try {\n              if (_this.isInjectionError()) {\n                _this.onInjectionError();\n                return false;\n              }\n              if (_this.isAndroidWebview()) {\n                return false;\n              }\n            } catch (error) {}\n            return true;\n          },\n          dataCallback: function dataCallback(data) {\n            try {\n              $.extend(data.user || (data.user = {}), app.settings.dump());\n              if (data.user.docs) {\n                data.user.docs = data.user.docs.split('/');\n              }\n              if (app.lastIDBTransaction) {\n                data.user.lastIDBTransaction = app.lastIDBTransaction;\n              }\n              data.tags.scriptCount = document.scripts.length;\n            } catch (error) {}\n            return data;\n          }\n        }).install();\n      }\n      this.previousErrorHandler = onerror;\n      window.onerror = this.onWindowError.bind(this);\n      CookieStore.onBlocked = this.onCookieBlocked;\n    }\n  },\n  bootOne: function bootOne() {\n    this.doc = new _doc2.default(this.DOC);\n    this.docs.reset([this.doc]);\n    this.doc.load(this.start.bind(this), this.onBootError.bind(this), {\n      readCache: true\n    });\n    new _notice2.default('singleDoc', this.doc);\n    delete this.DOC;\n  },\n  bootAll: function bootAll() {\n    var docs = this.settings.getDocs();\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = this.DOCS[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var doc = _step.value;\n\n        (docs.indexOf(doc.slug) >= 0 ? this.docs : this.disabledDocs).add(doc);\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    this.migrateDocs();\n    this.docs.load(this.start.bind(this), this.onBootError.bind(this), {\n      readCache: true,\n      writeCache: true\n    });\n    delete this.DOCS;\n  },\n  start: function start() {\n    var _this2 = this;\n\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      for (var _iterator2 = this.docs.all()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        var doc = _step2.value;\n\n        this.entries.add(doc.toEntry());\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2.return) {\n          _iterator2.return();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n\n    var _iteratorNormalCompletion3 = true;\n    var _didIteratorError3 = false;\n    var _iteratorError3 = undefined;\n\n    try {\n      for (var _iterator3 = this.disabledDocs.all()[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n        doc = _step3.value;\n\n        this.entries.add(doc.toEntry());\n      }\n    } catch (err) {\n      _didIteratorError3 = true;\n      _iteratorError3 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion3 && _iterator3.return) {\n          _iterator3.return();\n        }\n      } finally {\n        if (_didIteratorError3) {\n          throw _iteratorError3;\n        }\n      }\n    }\n\n    var _iteratorNormalCompletion4 = true;\n    var _didIteratorError4 = false;\n    var _iteratorError4 = undefined;\n\n    try {\n      for (var _iterator4 = this.docs.all()[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n        doc = _step4.value;\n\n        this.initDoc(doc);\n      }\n    } catch (err) {\n      _didIteratorError4 = true;\n      _iteratorError4 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion4 && _iterator4.return) {\n          _iterator4.return();\n        }\n      } finally {\n        if (_didIteratorError4) {\n          throw _iteratorError4;\n        }\n      }\n    }\n\n    this.trigger('ready');\n    this.router.start();\n    this.hideLoadingScreen();\n    setTimeout(function () {\n      if (!_this2.doc) {\n        _this2.welcomeBack();\n      }\n      return _this2.removeEvent('ready bootError');\n    }, 50);\n  },\n  initDoc: function initDoc(doc) {\n    var _iteratorNormalCompletion5 = true;\n    var _didIteratorError5 = false;\n    var _iteratorError5 = undefined;\n\n    try {\n      for (var _iterator5 = doc.types.all()[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n        var type = _step5.value;\n\n        doc.entries.add(type.toEntry());\n      }\n    } catch (err) {\n      _didIteratorError5 = true;\n      _iteratorError5 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion5 && _iterator5.return) {\n          _iterator5.return();\n        }\n      } finally {\n        if (_didIteratorError5) {\n          throw _iteratorError5;\n        }\n      }\n    }\n\n    this.entries.add(doc.entries.all());\n  },\n  migrateDocs: function migrateDocs() {\n    var needsSaving = void 0;\n    var _iteratorNormalCompletion6 = true;\n    var _didIteratorError6 = false;\n    var _iteratorError6 = undefined;\n\n    try {\n      for (var _iterator6 = this.settings.getDocs()[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n        var slug = _step6.value;\n\n        if (!this.docs.findBy('slug', slug)) {\n          var doc;\n\n          needsSaving = true;\n          if (slug === 'webpack~2') {\n            doc = this.disabledDocs.findBy('slug', 'webpack');\n          }\n          if (slug === 'angular~4_typescript') {\n            doc = this.disabledDocs.findBy('slug', 'angular');\n          }\n          if (slug === 'angular~2_typescript') {\n            doc = this.disabledDocs.findBy('slug', 'angular~2');\n          }\n          if (!doc) {\n            doc = this.disabledDocs.findBy('slug_without_version', slug);\n          }\n          if (doc) {\n            this.disabledDocs.remove(doc);\n            this.docs.add(doc);\n          }\n        }\n      }\n    } catch (err) {\n      _didIteratorError6 = true;\n      _iteratorError6 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion6 && _iterator6.return) {\n          _iterator6.return();\n        }\n      } finally {\n        if (_didIteratorError6) {\n          throw _iteratorError6;\n        }\n      }\n    }\n\n    if (needsSaving) {\n      this.saveDocs();\n    }\n  },\n  enableDoc: function enableDoc(doc, _onSuccess, onError) {\n    var _this3 = this;\n\n    if (this.docs.contains(doc)) {\n      return;\n    }\n\n    var onSuccess = function onSuccess() {\n      if (_this3.docs.contains(doc)) {\n        return;\n      }\n      _this3.disabledDocs.remove(doc);\n      _this3.docs.add(doc);\n      _this3.docs.sort();\n      _this3.initDoc(doc);\n      _this3.saveDocs();\n      _onSuccess();\n    };\n\n    doc.load(onSuccess, onError, {\n      writeCache: true\n    });\n  },\n  saveDocs: function saveDocs() {\n    this.settings.setDocs(this.docs.all().map(function (doc) {\n      return doc.slug;\n    }));\n    this.db.migrate();\n    return this.appCache != null ? this.appCache.updateInBackground() : undefined;\n  },\n  welcomeBack: function welcomeBack() {\n    var visitCount = this.settings.get('count');\n    this.settings.set('count', ++visitCount);\n    if (visitCount === 5) {\n      var notif = new _notif2.default('Share', {\n        autoHide: null\n      });\n      notif.show();\n    }\n    new _news2.default();\n    new _updates2.default();\n    return this.updateChecker = new _update_checker2.default();\n  },\n  reload: function reload() {\n    this.docs.clearCache();\n    this.disabledDocs.clearCache();\n    if (this.appCache) {\n      this.appCache.reload();\n    } else {\n      window.location = '/';\n    }\n  },\n  reset: function reset() {\n    this.localStorage.reset();\n    this.settings.reset();\n    if (this.db != null) {\n      this.db.reset();\n    }\n    if (this.appCache != null) {\n      this.appCache.update();\n    }\n    window.location = '/';\n  },\n  showTip: function showTip(tip) {\n    if (this.isSingleDoc()) {\n      return;\n    }\n    var tips = this.settings.getTips();\n    if (tips.indexOf(tip) === -1) {\n      tips.push(tip);\n      this.settings.setTips(tips);\n      new _tip2.default(tip);\n    }\n  },\n  hideLoadingScreen: function hideLoadingScreen() {\n    if ($.overlayScrollbarsEnabled()) {\n      document.body.classList.add('_overlay-scrollbars');\n    }\n    document.documentElement.classList.remove('_booting');\n  },\n  indexHost: function indexHost() {\n    // Can't load the index files from the host/CDN when applicationCache is\n    // enabled because it doesn't support caching URLs that use CORS.\n    return this.config[this.appCache && this.settings.hasDocs() ? 'index_path' : 'docs_origin'];\n  },\n  onBootError: function onBootError() {\n    this.trigger('bootError');\n    this.hideLoadingScreen();\n  },\n  onQuotaExceeded: function onQuotaExceeded() {\n    if (this.quotaExceeded) {\n      return;\n    }\n    this.quotaExceeded = true;\n    var notif = new _notif2.default('QuotaExceeded', {\n      autoHide: null\n    });\n    notif.show();\n  },\n  onCookieBlocked: function onCookieBlocked(key, value, actual) {\n    if (this.cookieBlocked) {\n      return;\n    }\n    this.cookieBlocked = true;\n    var notif = new _notif2.default('CookieBlocked', {\n      autoHide: null\n    });\n    notif.show();\n    Raven.captureMessage('CookieBlocked/' + key, {\n      level: 'warning',\n      extra: {\n        value: value,\n        actual: actual\n      }\n    });\n  },\n  onWindowError: function onWindowError() {\n    if (this.cookieBlocked) {\n      return;\n    }\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (this.isInjectionError.apply(this, _toConsumableArray(Array.from(args || [])))) {\n      this.onInjectionError();\n    } else if (this.isAppError.apply(this, _toConsumableArray(Array.from(args || [])))) {\n      if (typeof this.previousErrorHandler === 'function') {\n        this.previousErrorHandler.apply(this, _toConsumableArray(Array.from(args || [])));\n      }\n      this.hideLoadingScreen();\n      if (!this.errorNotif) {\n        this.errorNotif = new _notif2.default('Error');\n      }\n      this.errorNotif.show();\n    }\n  },\n  onInjectionError: function onInjectionError() {\n    if (!this.injectionError) {\n      this.injectionError = true;\n      alert('JavaScript code has been injected in the page which prevents DevDocs from running correctly.\\nPlease check your browser extensions/addons. ');\n      Raven.captureMessage('injection error', {\n        level: 'info'\n      });\n    }\n  },\n  isInjectionError: function isInjectionError() {\n    // Some browser extensions expect the entire web to use jQuery.\n    // I gave up trying to fight back.\n    return window.$ !== app._$ || window.$$ !== app._$$ || window.page !== app._page || typeof $.empty !== 'function' || typeof page.show !== 'function';\n  },\n  isAppError: function isAppError(error, file) {\n    // Ignore errors from external scripts.\n    return file && file.indexOf('devdocs') !== -1 && file.indexOf('.js') === file.length - 3;\n  },\n  isSupportedBrowser: function isSupportedBrowser() {\n    try {\n      var features = {\n        bind: !!Function.prototype.bind,\n        pushState: !!history.pushState,\n        matchMedia: !!window.matchMedia,\n        insertAdjacentHTML: !!document.body.insertAdjacentHTML,\n        defaultPrevented: document.createEvent('CustomEvent').defaultPrevented === false,\n        cssGradients: supportsCssGradients()\n      };\n\n      for (var key in features) {\n        var value = features[key];\n        if (!value) {\n          Raven.captureMessage('unsupported/' + key, {\n            level: 'info'\n          });\n          return false;\n        }\n      }\n\n      return true;\n    } catch (error) {\n      Raven.captureMessage('unsupported/exception', {\n        level: 'info',\n        extra: {\n          error: error\n        }\n      });\n      return false;\n    }\n  },\n  isSingleDoc: function isSingleDoc() {\n    return document.body.hasAttribute('data-doc');\n  },\n  isMobile: function isMobile() {\n    return this._isMobile != null ? this._isMobile : this._isMobile = _mobile2.default.detect();\n  },\n  isAndroidWebview: function isAndroidWebview() {\n    return this._isAndroidWebview != null ? this._isAndroidWebview : this._isAndroidWebview = _mobile2.default.detectAndroidWebview();\n  },\n  isInvalidLocation: function isInvalidLocation() {\n    return this.config.env === 'production' && location.host.indexOf(App.config.production_host) !== 0;\n  }\n};\n\n\nvar supportsCssGradients = function supportsCssGradients() {\n  var el = document.createElement('div');\n  el.style.cssText = \"background-image: -webkit-linear-gradient(top, #000, #fff); background-image: linear-gradient(to top, #000, #fff);\";\n  return el.style.backgroundImage.indexOf('gradient') >= 0;\n};\n\n$.extend(app, Events);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2Fzc2V0cy9qYXZhc2NyaXB0cy9hcHAvYXBwLmpzPzJiMTEiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2RvY3MgPSByZXF1aXJlKCcuLi9jb2xsZWN0aW9ucy9kb2NzJyk7XG5cbnZhciBfZG9jczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kb2NzKTtcblxudmFyIF9kb2MgPSByZXF1aXJlKCcuLi9tb2RlbHMvZG9jJyk7XG5cbnZhciBfZG9jMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RvYyk7XG5cbnZhciBfZW50cmllcyA9IHJlcXVpcmUoJy4uL2NvbGxlY3Rpb25zL2VudHJpZXMnKTtcblxudmFyIF9lbnRyaWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VudHJpZXMpO1xuXG52YXIgX2FwcGNhY2hlID0gcmVxdWlyZSgnLi9hcHBjYWNoZScpO1xuXG52YXIgX2FwcGNhY2hlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FwcGNhY2hlKTtcblxudmFyIF9zaG9ydGN1dHMgPSByZXF1aXJlKCcuL3Nob3J0Y3V0cycpO1xuXG52YXIgX3Nob3J0Y3V0czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaG9ydGN1dHMpO1xuXG52YXIgX3JvdXRlciA9IHJlcXVpcmUoJy4vcm91dGVyJyk7XG5cbnZhciBfcm91dGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcik7XG5cbnZhciBfZG9jdW1lbnQgPSByZXF1aXJlKCcuLi92aWV3cy9sYXlvdXQvZG9jdW1lbnQnKTtcblxudmFyIF9kb2N1bWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kb2N1bWVudCk7XG5cbnZhciBfbW9iaWxlID0gcmVxdWlyZSgnLi4vdmlld3MvbGF5b3V0L21vYmlsZScpO1xuXG52YXIgX21vYmlsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb2JpbGUpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxudmFyIF9kYiA9IHJlcXVpcmUoJy4vZGInKTtcblxudmFyIF9kYjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kYik7XG5cbnZhciBfZXJyb3JfdG1wbCA9IHJlcXVpcmUoJy4uL3RlbXBsYXRlcy9lcnJvcl90bXBsJyk7XG5cbnZhciBfbm90aWYgPSByZXF1aXJlKCcuLi92aWV3cy9taXNjL25vdGlmJyk7XG5cbnZhciBfbm90aWYyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbm90aWYpO1xuXG52YXIgX25vdGljZSA9IHJlcXVpcmUoJy4uL3ZpZXdzL21pc2Mvbm90aWNlJyk7XG5cbnZhciBfbm90aWNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX25vdGljZSk7XG5cbnZhciBfbmV3cyA9IHJlcXVpcmUoJy4uL3ZpZXdzL21pc2MvbmV3cycpO1xuXG52YXIgX25ld3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbmV3cyk7XG5cbnZhciBfdXBkYXRlcyA9IHJlcXVpcmUoJy4uL3ZpZXdzL21pc2MvdXBkYXRlcycpO1xuXG52YXIgX3VwZGF0ZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXBkYXRlcyk7XG5cbnZhciBfdXBkYXRlX2NoZWNrZXIgPSByZXF1aXJlKCcuL3VwZGF0ZV9jaGVja2VyJyk7XG5cbnZhciBfdXBkYXRlX2NoZWNrZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXBkYXRlX2NoZWNrZXIpO1xuXG52YXIgX3RpcCA9IHJlcXVpcmUoJy4uL3ZpZXdzL21pc2MvdGlwJyk7XG5cbnZhciBfdGlwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RpcCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBhcHAgPSB7XG4gIF8kOiAkLFxuICBfJCQ6ICQkLFxuICBfcGFnZTogcGFnZSxcbiAgY29sbGVjdGlvbnM6IHt9LFxuICBtb2RlbHM6IHt9LFxuICB0ZW1wbGF0ZXM6IHt9LFxuICB2aWV3czoge30sXG5cbiAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5pbml0RXJyb3JUcmFja2luZygpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7fVxuICAgIGlmICghdGhpcy5icm93c2VyQ2hlY2soKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZWwgPSAkKCcuX2FwcCcpO1xuICAgIHRoaXMubG9jYWxTdG9yYWdlID0gbmV3IExvY2FsU3RvcmFnZVN0b3JlKCk7XG4gICAgaWYgKF9hcHBjYWNoZTIuZGVmYXVsdC5pc0VuYWJsZWQoKSkge1xuICAgICAgdGhpcy5hcHBDYWNoZSA9IG5ldyBfYXBwY2FjaGUyLmRlZmF1bHQoKTtcbiAgICB9XG4gICAgdGhpcy5zZXR0aW5ncyA9IG5ldyBfc2V0dGluZ3MyLmRlZmF1bHQoKTtcbiAgICB0aGlzLmRiID0gbmV3IF9kYjIuZGVmYXVsdCgpO1xuXG4gICAgdGhpcy5kb2NzID0gbmV3IF9kb2NzMi5kZWZhdWx0KCk7XG4gICAgdGhpcy5kaXNhYmxlZERvY3MgPSBuZXcgX2RvY3MyLmRlZmF1bHQoKTtcbiAgICB0aGlzLmVudHJpZXMgPSBuZXcgX2VudHJpZXMyLmRlZmF1bHQoKTtcblxuICAgIHRoaXMucm91dGVyID0gbmV3IF9yb3V0ZXIyLmRlZmF1bHQoKTtcbiAgICB0aGlzLnNob3J0Y3V0cyA9IG5ldyBfc2hvcnRjdXRzMi5kZWZhdWx0KCk7XG4gICAgdGhpcy5kb2N1bWVudCA9IG5ldyBfZG9jdW1lbnQyLmRlZmF1bHQoKTtcbiAgICBpZiAodGhpcy5pc01vYmlsZSgpKSB7XG4gICAgICB0aGlzLm1vYmlsZSA9IG5ldyBfbW9iaWxlMi5kZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgaWYgKGRvY3VtZW50LmJvZHkuaGFzQXR0cmlidXRlKCdkYXRhLWRvYycpKSB7XG4gICAgICB0aGlzLkRPQyA9IEpTT04ucGFyc2UoZG9jdW1lbnQuYm9keS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jJykpO1xuICAgICAgdGhpcy5ib290T25lKCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLkRPQ1MpIHtcbiAgICAgIHRoaXMuYm9vdEFsbCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9uQm9vdEVycm9yKCk7XG4gICAgfVxuICB9LFxuICBicm93c2VyQ2hlY2s6IGZ1bmN0aW9uIGJyb3dzZXJDaGVjaygpIHtcbiAgICBpZiAodGhpcy5pc1N1cHBvcnRlZEJyb3dzZXIoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGRvY3VtZW50LmJvZHkuaW5uZXJIVE1MID0gKDAsIF9lcnJvcl90bXBsLnVuc3VwcG9ydGVkQnJvd3NlcikoKTtcbiAgICB0aGlzLmhpZGVMb2FkaW5nU2NyZWVuKCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBpbml0RXJyb3JUcmFja2luZzogZnVuY3Rpb24gaW5pdEVycm9yVHJhY2tpbmcoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIC8vIFNob3cgYSB3YXJuaW5nIG1lc3NhZ2UgYW5kIGRvbid0IHRyYWNrIGVycm9ycyB3aGVuIHRoZSBhcHAgaXMgbG9hZGVkXG4gICAgLy8gZnJvbSBhIGRvbWFpbiBvdGhlciB0aGFuIG91ciBvd24sIGJlY2F1c2UgdGhpbmdzIGFyZSBsaWtlbHkgdG8gYnJlYWsuXG4gICAgLy8gKGUuZy4gY3Jvc3MtZG9tYWluIHJlcXVlc3RzKVxuICAgIGlmICh0aGlzLmlzSW52YWxpZExvY2F0aW9uKCkpIHtcbiAgICAgIHZhciBub3RpZiA9IG5ldyBfbm90aWYyLmRlZmF1bHQoJ0ludmFsaWRMb2NhdGlvbicpO1xuICAgICAgbm90aWYuc2hvdygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5jb25maWcuc2VudHJ5X2Rzbikge1xuICAgICAgICBSYXZlbi5jb25maWcodGhpcy5jb25maWcuc2VudHJ5X2Rzbiwge1xuICAgICAgICAgIHJlbGVhc2U6IHRoaXMuY29uZmlnLnJlbGVhc2UsXG4gICAgICAgICAgd2hpdGVsaXN0VXJsczogWy9kZXZkb2NzL10sXG4gICAgICAgICAgaW5jbHVkZVBhdGhzOiBbL2RldmRvY3MvXSxcbiAgICAgICAgICBpZ25vcmVFcnJvcnM6IFsvTlBPYmplY3QvLCAvTlNfRVJST1IvLCAvXm51bGwkLywgL0V2YWxFcnJvci9dLFxuICAgICAgICAgIHRhZ3M6IHtcbiAgICAgICAgICAgIG1vZGU6IHRoaXMuaXNTaW5nbGVEb2MoKSA/ICdzaW5nbGUnIDogJ2Z1bGwnLFxuICAgICAgICAgICAgaWZyYW1lOiAod2luZG93LnRvcCAhPT0gd2luZG93KS50b1N0cmluZygpXG4gICAgICAgICAgICAvLyBUT0RPIGVsZWN0cm9uOiAoISFfX2d1YXJkX18od2luZG93LnByb2Nlc3MgIT0gbnVsbCA/IHdpbmRvdy5wcm9jZXNzLnZlcnNpb25zIDogdW5kZWZpbmVkLCB4ID0+IHguZWxlY3Ryb24pKS50b1N0cmluZygpXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzaG91bGRTZW5kQ2FsbGJhY2s6IGZ1bmN0aW9uIHNob3VsZFNlbmRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlmIChfdGhpcy5pc0luamVjdGlvbkVycm9yKCkpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vbkluamVjdGlvbkVycm9yKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChfdGhpcy5pc0FuZHJvaWRXZWJ2aWV3KCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7fVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBkYXRhQ2FsbGJhY2s6IGZ1bmN0aW9uIGRhdGFDYWxsYmFjayhkYXRhKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAkLmV4dGVuZChkYXRhLnVzZXIgfHwgKGRhdGEudXNlciA9IHt9KSwgYXBwLnNldHRpbmdzLmR1bXAoKSk7XG4gICAgICAgICAgICAgIGlmIChkYXRhLnVzZXIuZG9jcykge1xuICAgICAgICAgICAgICAgIGRhdGEudXNlci5kb2NzID0gZGF0YS51c2VyLmRvY3Muc3BsaXQoJy8nKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoYXBwLmxhc3RJREJUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICAgIGRhdGEudXNlci5sYXN0SURCVHJhbnNhY3Rpb24gPSBhcHAubGFzdElEQlRyYW5zYWN0aW9uO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGRhdGEudGFncy5zY3JpcHRDb3VudCA9IGRvY3VtZW50LnNjcmlwdHMubGVuZ3RoO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHt9XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLmluc3RhbGwoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucHJldmlvdXNFcnJvckhhbmRsZXIgPSBvbmVycm9yO1xuICAgICAgd2luZG93Lm9uZXJyb3IgPSB0aGlzLm9uV2luZG93RXJyb3IuYmluZCh0aGlzKTtcbiAgICAgIENvb2tpZVN0b3JlLm9uQmxvY2tlZCA9IHRoaXMub25Db29raWVCbG9ja2VkO1xuICAgIH1cbiAgfSxcbiAgYm9vdE9uZTogZnVuY3Rpb24gYm9vdE9uZSgpIHtcbiAgICB0aGlzLmRvYyA9IG5ldyBfZG9jMi5kZWZhdWx0KHRoaXMuRE9DKTtcbiAgICB0aGlzLmRvY3MucmVzZXQoW3RoaXMuZG9jXSk7XG4gICAgdGhpcy5kb2MubG9hZCh0aGlzLnN0YXJ0LmJpbmQodGhpcyksIHRoaXMub25Cb290RXJyb3IuYmluZCh0aGlzKSwge1xuICAgICAgcmVhZENhY2hlOiB0cnVlXG4gICAgfSk7XG4gICAgbmV3IF9ub3RpY2UyLmRlZmF1bHQoJ3NpbmdsZURvYycsIHRoaXMuZG9jKTtcbiAgICBkZWxldGUgdGhpcy5ET0M7XG4gIH0sXG4gIGJvb3RBbGw6IGZ1bmN0aW9uIGJvb3RBbGwoKSB7XG4gICAgdmFyIGRvY3MgPSB0aGlzLnNldHRpbmdzLmdldERvY3MoKTtcbiAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHRoaXMuRE9DU1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgdmFyIGRvYyA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgIChkb2NzLmluZGV4T2YoZG9jLnNsdWcpID49IDAgPyB0aGlzLmRvY3MgOiB0aGlzLmRpc2FibGVkRG9jcykuYWRkKGRvYyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5taWdyYXRlRG9jcygpO1xuICAgIHRoaXMuZG9jcy5sb2FkKHRoaXMuc3RhcnQuYmluZCh0aGlzKSwgdGhpcy5vbkJvb3RFcnJvci5iaW5kKHRoaXMpLCB7XG4gICAgICByZWFkQ2FjaGU6IHRydWUsXG4gICAgICB3cml0ZUNhY2hlOiB0cnVlXG4gICAgfSk7XG4gICAgZGVsZXRlIHRoaXMuRE9DUztcbiAgfSxcbiAgc3RhcnQ6IGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gdGhpcy5kb2NzLmFsbCgpW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgIHZhciBkb2MgPSBfc3RlcDIudmFsdWU7XG5cbiAgICAgICAgdGhpcy5lbnRyaWVzLmFkZChkb2MudG9FbnRyeSgpKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4pIHtcbiAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuICAgICAgICB9XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZTtcbiAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IzID0gZmFsc2U7XG4gICAgdmFyIF9pdGVyYXRvckVycm9yMyA9IHVuZGVmaW5lZDtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBfaXRlcmF0b3IzID0gdGhpcy5kaXNhYmxlZERvY3MuYWxsKClbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDM7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSAoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWUpIHtcbiAgICAgICAgZG9jID0gX3N0ZXAzLnZhbHVlO1xuXG4gICAgICAgIHRoaXMuZW50cmllcy5hZGQoZG9jLnRvRW50cnkoKSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBfZGlkSXRlcmF0b3JFcnJvcjMgPSB0cnVlO1xuICAgICAgX2l0ZXJhdG9yRXJyb3IzID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zICYmIF9pdGVyYXRvcjMucmV0dXJuKSB7XG4gICAgICAgICAgX2l0ZXJhdG9yMy5yZXR1cm4oKTtcbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMykge1xuICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IHRydWU7XG4gICAgdmFyIF9kaWRJdGVyYXRvckVycm9yNCA9IGZhbHNlO1xuICAgIHZhciBfaXRlcmF0b3JFcnJvcjQgPSB1bmRlZmluZWQ7XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yNCA9IHRoaXMuZG9jcy5hbGwoKVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwNDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IChfc3RlcDQgPSBfaXRlcmF0b3I0Lm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gdHJ1ZSkge1xuICAgICAgICBkb2MgPSBfc3RlcDQudmFsdWU7XG5cbiAgICAgICAgdGhpcy5pbml0RG9jKGRvYyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBfZGlkSXRlcmF0b3JFcnJvcjQgPSB0cnVlO1xuICAgICAgX2l0ZXJhdG9yRXJyb3I0ID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ICYmIF9pdGVyYXRvcjQucmV0dXJuKSB7XG4gICAgICAgICAgX2l0ZXJhdG9yNC5yZXR1cm4oKTtcbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yNCkge1xuICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yNDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMudHJpZ2dlcigncmVhZHknKTtcbiAgICB0aGlzLnJvdXRlci5zdGFydCgpO1xuICAgIHRoaXMuaGlkZUxvYWRpbmdTY3JlZW4oKTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghX3RoaXMyLmRvYykge1xuICAgICAgICBfdGhpczIud2VsY29tZUJhY2soKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfdGhpczIucmVtb3ZlRXZlbnQoJ3JlYWR5IGJvb3RFcnJvcicpO1xuICAgIH0sIDUwKTtcbiAgfSxcbiAgaW5pdERvYzogZnVuY3Rpb24gaW5pdERvYyhkb2MpIHtcbiAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgPSB0cnVlO1xuICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjUgPSBmYWxzZTtcbiAgICB2YXIgX2l0ZXJhdG9yRXJyb3I1ID0gdW5kZWZpbmVkO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIF9pdGVyYXRvcjUgPSBkb2MudHlwZXMuYWxsKClbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDU7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgPSAoX3N0ZXA1ID0gX2l0ZXJhdG9yNS5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSA9IHRydWUpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBfc3RlcDUudmFsdWU7XG5cbiAgICAgICAgZG9jLmVudHJpZXMuYWRkKHR5cGUudG9FbnRyeSgpKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9kaWRJdGVyYXRvckVycm9yNSA9IHRydWU7XG4gICAgICBfaXRlcmF0b3JFcnJvcjUgPSBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgJiYgX2l0ZXJhdG9yNS5yZXR1cm4pIHtcbiAgICAgICAgICBfaXRlcmF0b3I1LnJldHVybigpO1xuICAgICAgICB9XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3I1KSB7XG4gICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I1O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5lbnRyaWVzLmFkZChkb2MuZW50cmllcy5hbGwoKSk7XG4gIH0sXG4gIG1pZ3JhdGVEb2NzOiBmdW5jdGlvbiBtaWdyYXRlRG9jcygpIHtcbiAgICB2YXIgbmVlZHNTYXZpbmcgPSB2b2lkIDA7XG4gICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb242ID0gdHJ1ZTtcbiAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3I2ID0gZmFsc2U7XG4gICAgdmFyIF9pdGVyYXRvckVycm9yNiA9IHVuZGVmaW5lZDtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBfaXRlcmF0b3I2ID0gdGhpcy5zZXR0aW5ncy5nZXREb2NzKClbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDY7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjYgPSAoX3N0ZXA2ID0gX2l0ZXJhdG9yNi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiA9IHRydWUpIHtcbiAgICAgICAgdmFyIHNsdWcgPSBfc3RlcDYudmFsdWU7XG5cbiAgICAgICAgaWYgKCF0aGlzLmRvY3MuZmluZEJ5KCdzbHVnJywgc2x1ZykpIHtcbiAgICAgICAgICB2YXIgZG9jO1xuXG4gICAgICAgICAgbmVlZHNTYXZpbmcgPSB0cnVlO1xuICAgICAgICAgIGlmIChzbHVnID09PSAnd2VicGFja34yJykge1xuICAgICAgICAgICAgZG9jID0gdGhpcy5kaXNhYmxlZERvY3MuZmluZEJ5KCdzbHVnJywgJ3dlYnBhY2snKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNsdWcgPT09ICdhbmd1bGFyfjRfdHlwZXNjcmlwdCcpIHtcbiAgICAgICAgICAgIGRvYyA9IHRoaXMuZGlzYWJsZWREb2NzLmZpbmRCeSgnc2x1ZycsICdhbmd1bGFyJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzbHVnID09PSAnYW5ndWxhcn4yX3R5cGVzY3JpcHQnKSB7XG4gICAgICAgICAgICBkb2MgPSB0aGlzLmRpc2FibGVkRG9jcy5maW5kQnkoJ3NsdWcnLCAnYW5ndWxhcn4yJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghZG9jKSB7XG4gICAgICAgICAgICBkb2MgPSB0aGlzLmRpc2FibGVkRG9jcy5maW5kQnkoJ3NsdWdfd2l0aG91dF92ZXJzaW9uJywgc2x1Zyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChkb2MpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzYWJsZWREb2NzLnJlbW92ZShkb2MpO1xuICAgICAgICAgICAgdGhpcy5kb2NzLmFkZChkb2MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2RpZEl0ZXJhdG9yRXJyb3I2ID0gdHJ1ZTtcbiAgICAgIF9pdGVyYXRvckVycm9yNiA9IGVycjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiAmJiBfaXRlcmF0b3I2LnJldHVybikge1xuICAgICAgICAgIF9pdGVyYXRvcjYucmV0dXJuKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjYpIHtcbiAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjY7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobmVlZHNTYXZpbmcpIHtcbiAgICAgIHRoaXMuc2F2ZURvY3MoKTtcbiAgICB9XG4gIH0sXG4gIGVuYWJsZURvYzogZnVuY3Rpb24gZW5hYmxlRG9jKGRvYywgX29uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgaWYgKHRoaXMuZG9jcy5jb250YWlucyhkb2MpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG9uU3VjY2VzcyA9IGZ1bmN0aW9uIG9uU3VjY2VzcygpIHtcbiAgICAgIGlmIChfdGhpczMuZG9jcy5jb250YWlucyhkb2MpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIF90aGlzMy5kaXNhYmxlZERvY3MucmVtb3ZlKGRvYyk7XG4gICAgICBfdGhpczMuZG9jcy5hZGQoZG9jKTtcbiAgICAgIF90aGlzMy5kb2NzLnNvcnQoKTtcbiAgICAgIF90aGlzMy5pbml0RG9jKGRvYyk7XG4gICAgICBfdGhpczMuc2F2ZURvY3MoKTtcbiAgICAgIF9vblN1Y2Nlc3MoKTtcbiAgICB9O1xuXG4gICAgZG9jLmxvYWQob25TdWNjZXNzLCBvbkVycm9yLCB7XG4gICAgICB3cml0ZUNhY2hlOiB0cnVlXG4gICAgfSk7XG4gIH0sXG4gIHNhdmVEb2NzOiBmdW5jdGlvbiBzYXZlRG9jcygpIHtcbiAgICB0aGlzLnNldHRpbmdzLnNldERvY3ModGhpcy5kb2NzLmFsbCgpLm1hcChmdW5jdGlvbiAoZG9jKSB7XG4gICAgICByZXR1cm4gZG9jLnNsdWc7XG4gICAgfSkpO1xuICAgIHRoaXMuZGIubWlncmF0ZSgpO1xuICAgIHJldHVybiB0aGlzLmFwcENhY2hlICE9IG51bGwgPyB0aGlzLmFwcENhY2hlLnVwZGF0ZUluQmFja2dyb3VuZCgpIDogdW5kZWZpbmVkO1xuICB9LFxuICB3ZWxjb21lQmFjazogZnVuY3Rpb24gd2VsY29tZUJhY2soKSB7XG4gICAgdmFyIHZpc2l0Q291bnQgPSB0aGlzLnNldHRpbmdzLmdldCgnY291bnQnKTtcbiAgICB0aGlzLnNldHRpbmdzLnNldCgnY291bnQnLCArK3Zpc2l0Q291bnQpO1xuICAgIGlmICh2aXNpdENvdW50ID09PSA1KSB7XG4gICAgICB2YXIgbm90aWYgPSBuZXcgX25vdGlmMi5kZWZhdWx0KCdTaGFyZScsIHtcbiAgICAgICAgYXV0b0hpZGU6IG51bGxcbiAgICAgIH0pO1xuICAgICAgbm90aWYuc2hvdygpO1xuICAgIH1cbiAgICBuZXcgX25ld3MyLmRlZmF1bHQoKTtcbiAgICBuZXcgX3VwZGF0ZXMyLmRlZmF1bHQoKTtcbiAgICByZXR1cm4gdGhpcy51cGRhdGVDaGVja2VyID0gbmV3IF91cGRhdGVfY2hlY2tlcjIuZGVmYXVsdCgpO1xuICB9LFxuICByZWxvYWQ6IGZ1bmN0aW9uIHJlbG9hZCgpIHtcbiAgICB0aGlzLmRvY3MuY2xlYXJDYWNoZSgpO1xuICAgIHRoaXMuZGlzYWJsZWREb2NzLmNsZWFyQ2FjaGUoKTtcbiAgICBpZiAodGhpcy5hcHBDYWNoZSkge1xuICAgICAgdGhpcy5hcHBDYWNoZS5yZWxvYWQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2luZG93LmxvY2F0aW9uID0gJy8nO1xuICAgIH1cbiAgfSxcbiAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgIHRoaXMubG9jYWxTdG9yYWdlLnJlc2V0KCk7XG4gICAgdGhpcy5zZXR0aW5ncy5yZXNldCgpO1xuICAgIGlmICh0aGlzLmRiICE9IG51bGwpIHtcbiAgICAgIHRoaXMuZGIucmVzZXQoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuYXBwQ2FjaGUgIT0gbnVsbCkge1xuICAgICAgdGhpcy5hcHBDYWNoZS51cGRhdGUoKTtcbiAgICB9XG4gICAgd2luZG93LmxvY2F0aW9uID0gJy8nO1xuICB9LFxuICBzaG93VGlwOiBmdW5jdGlvbiBzaG93VGlwKHRpcCkge1xuICAgIGlmICh0aGlzLmlzU2luZ2xlRG9jKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpcHMgPSB0aGlzLnNldHRpbmdzLmdldFRpcHMoKTtcbiAgICBpZiAodGlwcy5pbmRleE9mKHRpcCkgPT09IC0xKSB7XG4gICAgICB0aXBzLnB1c2godGlwKTtcbiAgICAgIHRoaXMuc2V0dGluZ3Muc2V0VGlwcyh0aXBzKTtcbiAgICAgIG5ldyBfdGlwMi5kZWZhdWx0KHRpcCk7XG4gICAgfVxuICB9LFxuICBoaWRlTG9hZGluZ1NjcmVlbjogZnVuY3Rpb24gaGlkZUxvYWRpbmdTY3JlZW4oKSB7XG4gICAgaWYgKCQub3ZlcmxheVNjcm9sbGJhcnNFbmFibGVkKCkpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnX292ZXJsYXktc2Nyb2xsYmFycycpO1xuICAgIH1cbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnX2Jvb3RpbmcnKTtcbiAgfSxcbiAgaW5kZXhIb3N0OiBmdW5jdGlvbiBpbmRleEhvc3QoKSB7XG4gICAgLy8gQ2FuJ3QgbG9hZCB0aGUgaW5kZXggZmlsZXMgZnJvbSB0aGUgaG9zdC9DRE4gd2hlbiBhcHBsaWNhdGlvbkNhY2hlIGlzXG4gICAgLy8gZW5hYmxlZCBiZWNhdXNlIGl0IGRvZXNuJ3Qgc3VwcG9ydCBjYWNoaW5nIFVSTHMgdGhhdCB1c2UgQ09SUy5cbiAgICByZXR1cm4gdGhpcy5jb25maWdbdGhpcy5hcHBDYWNoZSAmJiB0aGlzLnNldHRpbmdzLmhhc0RvY3MoKSA/ICdpbmRleF9wYXRoJyA6ICdkb2NzX29yaWdpbiddO1xuICB9LFxuICBvbkJvb3RFcnJvcjogZnVuY3Rpb24gb25Cb290RXJyb3IoKSB7XG4gICAgdGhpcy50cmlnZ2VyKCdib290RXJyb3InKTtcbiAgICB0aGlzLmhpZGVMb2FkaW5nU2NyZWVuKCk7XG4gIH0sXG4gIG9uUXVvdGFFeGNlZWRlZDogZnVuY3Rpb24gb25RdW90YUV4Y2VlZGVkKCkge1xuICAgIGlmICh0aGlzLnF1b3RhRXhjZWVkZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5xdW90YUV4Y2VlZGVkID0gdHJ1ZTtcbiAgICB2YXIgbm90aWYgPSBuZXcgX25vdGlmMi5kZWZhdWx0KCdRdW90YUV4Y2VlZGVkJywge1xuICAgICAgYXV0b0hpZGU6IG51bGxcbiAgICB9KTtcbiAgICBub3RpZi5zaG93KCk7XG4gIH0sXG4gIG9uQ29va2llQmxvY2tlZDogZnVuY3Rpb24gb25Db29raWVCbG9ja2VkKGtleSwgdmFsdWUsIGFjdHVhbCkge1xuICAgIGlmICh0aGlzLmNvb2tpZUJsb2NrZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5jb29raWVCbG9ja2VkID0gdHJ1ZTtcbiAgICB2YXIgbm90aWYgPSBuZXcgX25vdGlmMi5kZWZhdWx0KCdDb29raWVCbG9ja2VkJywge1xuICAgICAgYXV0b0hpZGU6IG51bGxcbiAgICB9KTtcbiAgICBub3RpZi5zaG93KCk7XG4gICAgUmF2ZW4uY2FwdHVyZU1lc3NhZ2UoJ0Nvb2tpZUJsb2NrZWQvJyArIGtleSwge1xuICAgICAgbGV2ZWw6ICd3YXJuaW5nJyxcbiAgICAgIGV4dHJhOiB7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgYWN0dWFsOiBhY3R1YWxcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgb25XaW5kb3dFcnJvcjogZnVuY3Rpb24gb25XaW5kb3dFcnJvcigpIHtcbiAgICBpZiAodGhpcy5jb29raWVCbG9ja2VkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaXNJbmplY3Rpb25FcnJvci5hcHBseSh0aGlzLCBfdG9Db25zdW1hYmxlQXJyYXkoQXJyYXkuZnJvbShhcmdzIHx8IFtdKSkpKSB7XG4gICAgICB0aGlzLm9uSW5qZWN0aW9uRXJyb3IoKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuaXNBcHBFcnJvci5hcHBseSh0aGlzLCBfdG9Db25zdW1hYmxlQXJyYXkoQXJyYXkuZnJvbShhcmdzIHx8IFtdKSkpKSB7XG4gICAgICBpZiAodHlwZW9mIHRoaXMucHJldmlvdXNFcnJvckhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5wcmV2aW91c0Vycm9ySGFuZGxlci5hcHBseSh0aGlzLCBfdG9Db25zdW1hYmxlQXJyYXkoQXJyYXkuZnJvbShhcmdzIHx8IFtdKSkpO1xuICAgICAgfVxuICAgICAgdGhpcy5oaWRlTG9hZGluZ1NjcmVlbigpO1xuICAgICAgaWYgKCF0aGlzLmVycm9yTm90aWYpIHtcbiAgICAgICAgdGhpcy5lcnJvck5vdGlmID0gbmV3IF9ub3RpZjIuZGVmYXVsdCgnRXJyb3InKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZXJyb3JOb3RpZi5zaG93KCk7XG4gICAgfVxuICB9LFxuICBvbkluamVjdGlvbkVycm9yOiBmdW5jdGlvbiBvbkluamVjdGlvbkVycm9yKCkge1xuICAgIGlmICghdGhpcy5pbmplY3Rpb25FcnJvcikge1xuICAgICAgdGhpcy5pbmplY3Rpb25FcnJvciA9IHRydWU7XG4gICAgICBhbGVydCgnSmF2YVNjcmlwdCBjb2RlIGhhcyBiZWVuIGluamVjdGVkIGluIHRoZSBwYWdlIHdoaWNoIHByZXZlbnRzIERldkRvY3MgZnJvbSBydW5uaW5nIGNvcnJlY3RseS5cXG5QbGVhc2UgY2hlY2sgeW91ciBicm93c2VyIGV4dGVuc2lvbnMvYWRkb25zLiAnKTtcbiAgICAgIFJhdmVuLmNhcHR1cmVNZXNzYWdlKCdpbmplY3Rpb24gZXJyb3InLCB7XG4gICAgICAgIGxldmVsOiAnaW5mbydcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgaXNJbmplY3Rpb25FcnJvcjogZnVuY3Rpb24gaXNJbmplY3Rpb25FcnJvcigpIHtcbiAgICAvLyBTb21lIGJyb3dzZXIgZXh0ZW5zaW9ucyBleHBlY3QgdGhlIGVudGlyZSB3ZWIgdG8gdXNlIGpRdWVyeS5cbiAgICAvLyBJIGdhdmUgdXAgdHJ5aW5nIHRvIGZpZ2h0IGJhY2suXG4gICAgcmV0dXJuIHdpbmRvdy4kICE9PSBhcHAuXyQgfHwgd2luZG93LiQkICE9PSBhcHAuXyQkIHx8IHdpbmRvdy5wYWdlICE9PSBhcHAuX3BhZ2UgfHwgdHlwZW9mICQuZW1wdHkgIT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIHBhZ2Uuc2hvdyAhPT0gJ2Z1bmN0aW9uJztcbiAgfSxcbiAgaXNBcHBFcnJvcjogZnVuY3Rpb24gaXNBcHBFcnJvcihlcnJvciwgZmlsZSkge1xuICAgIC8vIElnbm9yZSBlcnJvcnMgZnJvbSBleHRlcm5hbCBzY3JpcHRzLlxuICAgIHJldHVybiBmaWxlICYmIGZpbGUuaW5kZXhPZignZGV2ZG9jcycpICE9PSAtMSAmJiBmaWxlLmluZGV4T2YoJy5qcycpID09PSBmaWxlLmxlbmd0aCAtIDM7XG4gIH0sXG4gIGlzU3VwcG9ydGVkQnJvd3NlcjogZnVuY3Rpb24gaXNTdXBwb3J0ZWRCcm93c2VyKCkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgZmVhdHVyZXMgPSB7XG4gICAgICAgIGJpbmQ6ICEhRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQsXG4gICAgICAgIHB1c2hTdGF0ZTogISFoaXN0b3J5LnB1c2hTdGF0ZSxcbiAgICAgICAgbWF0Y2hNZWRpYTogISF3aW5kb3cubWF0Y2hNZWRpYSxcbiAgICAgICAgaW5zZXJ0QWRqYWNlbnRIVE1MOiAhIWRvY3VtZW50LmJvZHkuaW5zZXJ0QWRqYWNlbnRIVE1MLFxuICAgICAgICBkZWZhdWx0UHJldmVudGVkOiBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKS5kZWZhdWx0UHJldmVudGVkID09PSBmYWxzZSxcbiAgICAgICAgY3NzR3JhZGllbnRzOiBzdXBwb3J0c0Nzc0dyYWRpZW50cygpXG4gICAgICB9O1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gZmVhdHVyZXMpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gZmVhdHVyZXNba2V5XTtcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgIFJhdmVuLmNhcHR1cmVNZXNzYWdlKCd1bnN1cHBvcnRlZC8nICsga2V5LCB7XG4gICAgICAgICAgICBsZXZlbDogJ2luZm8nXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBSYXZlbi5jYXB0dXJlTWVzc2FnZSgndW5zdXBwb3J0ZWQvZXhjZXB0aW9uJywge1xuICAgICAgICBsZXZlbDogJ2luZm8nLFxuICAgICAgICBleHRyYToge1xuICAgICAgICAgIGVycm9yOiBlcnJvclxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG4gIGlzU2luZ2xlRG9jOiBmdW5jdGlvbiBpc1NpbmdsZURvYygpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5oYXNBdHRyaWJ1dGUoJ2RhdGEtZG9jJyk7XG4gIH0sXG4gIGlzTW9iaWxlOiBmdW5jdGlvbiBpc01vYmlsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNNb2JpbGUgIT0gbnVsbCA/IHRoaXMuX2lzTW9iaWxlIDogdGhpcy5faXNNb2JpbGUgPSBfbW9iaWxlMi5kZWZhdWx0LmRldGVjdCgpO1xuICB9LFxuICBpc0FuZHJvaWRXZWJ2aWV3OiBmdW5jdGlvbiBpc0FuZHJvaWRXZWJ2aWV3KCkge1xuICAgIHJldHVybiB0aGlzLl9pc0FuZHJvaWRXZWJ2aWV3ICE9IG51bGwgPyB0aGlzLl9pc0FuZHJvaWRXZWJ2aWV3IDogdGhpcy5faXNBbmRyb2lkV2VidmlldyA9IF9tb2JpbGUyLmRlZmF1bHQuZGV0ZWN0QW5kcm9pZFdlYnZpZXcoKTtcbiAgfSxcbiAgaXNJbnZhbGlkTG9jYXRpb246IGZ1bmN0aW9uIGlzSW52YWxpZExvY2F0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy5lbnYgPT09ICdwcm9kdWN0aW9uJyAmJiBsb2NhdGlvbi5ob3N0LmluZGV4T2YoYXBwLmNvbmZpZy5wcm9kdWN0aW9uX2hvc3QpICE9PSAwO1xuICB9XG59O1xuXG5cbnZhciBzdXBwb3J0c0Nzc0dyYWRpZW50cyA9IGZ1bmN0aW9uIHN1cHBvcnRzQ3NzR3JhZGllbnRzKCkge1xuICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZWwuc3R5bGUuY3NzVGV4dCA9IFwiYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjMDAwLCAjZmZmKTsgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KHRvIHRvcCwgIzAwMCwgI2ZmZik7XCI7XG4gIHJldHVybiBlbC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UuaW5kZXhPZignZ3JhZGllbnQnKSA+PSAwO1xufTtcblxuJC5leHRlbmQoYXBwLCBFdmVudHMpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXNzZXRzL2phdmFzY3JpcHRzL2FwcC9hcHAuanNcbi8vIG1vZHVsZSBpZCA9IDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Docs = function (_app$Collection) {\n  _inherits(Docs, _app$Collection);\n\n  function Docs() {\n    _classCallCheck(this, Docs);\n\n    return _possibleConstructorReturn(this, (Docs.__proto__ || Object.getPrototypeOf(Docs)).apply(this, arguments));\n  }\n\n  _createClass(Docs, [{\n    key: 'findBySlug',\n\n\n    // Load models concurrently.\n    // It's not pretty but I didn't want to import a promise library only for this.\n    value: function findBySlug(slug) {\n      return this.findBy('slug', slug) || this.findBy('slug_without_version', slug);\n    }\n  }, {\n    key: 'sort',\n    value: function sort() {\n      return this.models.sort(function (a, b) {\n        if (a.name === b.name) {\n          if (!a.version || a.version.replace(NORMALIZE_VERSION_RGX, NORMALIZE_VERSION_SUB) > b.version.replace(NORMALIZE_VERSION_RGX, NORMALIZE_VERSION_SUB)) {\n            return -1;\n          } else {\n            return 1;\n          }\n        } else if (a.name.toLowerCase() > b.name.toLowerCase()) {\n          return 1;\n        } else {\n          return -1;\n        }\n      });\n    }\n  }, {\n    key: 'load',\n    value: function load(onComplete, onError, options) {\n      var _this2 = this;\n\n      var i = 0;\n\n      var next = function next() {\n        if (i < _this2.models.length) {\n          _this2.models[i].load(next, fail, options);\n        } else if (i === _this2.models.length + CONCURRENCY - 1) {\n          onComplete();\n        }\n        i++;\n      };\n\n      var fail = function fail() {\n        if (onError) {\n          for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          onError.apply(undefined, _toConsumableArray(args || []));\n          onError = null;\n        }\n        next();\n      };\n\n      for (var j = 0, end = CONCURRENCY, asc = 0 <= end; asc ? j < end : j > end; asc ? j++ : j--) {\n        next();\n      }\n    }\n  }, {\n    key: 'clearCache',\n    value: function clearCache() {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.models[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var doc = _step.value;\n\n          doc.clearCache();\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, {\n    key: 'uninstall',\n    value: function uninstall(callback) {\n      var _this3 = this;\n\n      var i = 0;\n      var next = function next() {\n        if (i < _this3.models.length) {\n          _this3.models[i++].uninstall(next, next);\n        } else {\n          callback();\n        }\n      };\n      next();\n    }\n  }, {\n    key: 'getInstallStatuses',\n    value: function getInstallStatuses(callback) {\n      app.db.versions(this.models, function (statuses) {\n        if (statuses) {\n          for (var key in statuses) {\n            var value = statuses[key];\n            statuses[key] = {\n              installed: !!value,\n              mtime: value\n            };\n          }\n        }\n        callback(statuses);\n      });\n    }\n  }, {\n    key: 'checkForUpdates',\n    value: function checkForUpdates(callback) {\n      var _this4 = this;\n\n      this.getInstallStatuses(function (statuses) {\n        var i = 0;\n        if (statuses) {\n          for (var slug in statuses) {\n            var status = statuses[slug];\n            if (_this4.findBy('slug', slug).isOutdated(status)) {\n              i += 1;\n            }\n          }\n        }\n        callback(i);\n      });\n    }\n  }, {\n    key: 'updateInBackground',\n    value: function updateInBackground() {\n      var _this5 = this;\n\n      this.getInstallStatuses(function (statuses) {\n        if (!statuses) {\n          return;\n        }\n        for (var slug in statuses) {\n          var status = statuses[slug];\n          var doc = _this5.findBy('slug', slug);\n          if (doc.isOutdated(status)) {\n            doc.install($.noop, $.noop);\n          }\n        }\n      });\n    }\n  }]);\n\n  return Docs;\n}(app.Collection);\n\nDocs.NORMALIZE_VERSION_RGX = /\\.(\\d)$/;\nDocs.NORMALIZE_VERSION_SUB = '.0$1';\nDocs.CONCURRENCY = 3;\nDocs.model = 'Doc';\nexports.default = Docs;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2Fzc2V0cy9qYXZhc2NyaXB0cy9jb2xsZWN0aW9ucy9kb2NzLmpzPzZhYWUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgRG9jcyA9IGZ1bmN0aW9uIChfYXBwJENvbGxlY3Rpb24pIHtcbiAgX2luaGVyaXRzKERvY3MsIF9hcHAkQ29sbGVjdGlvbik7XG5cbiAgZnVuY3Rpb24gRG9jcygpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRG9jcyk7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKERvY3MuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihEb2NzKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRG9jcywgW3tcbiAgICBrZXk6ICdmaW5kQnlTbHVnJyxcblxuXG4gICAgLy8gTG9hZCBtb2RlbHMgY29uY3VycmVudGx5LlxuICAgIC8vIEl0J3Mgbm90IHByZXR0eSBidXQgSSBkaWRuJ3Qgd2FudCB0byBpbXBvcnQgYSBwcm9taXNlIGxpYnJhcnkgb25seSBmb3IgdGhpcy5cbiAgICB2YWx1ZTogZnVuY3Rpb24gZmluZEJ5U2x1ZyhzbHVnKSB7XG4gICAgICByZXR1cm4gdGhpcy5maW5kQnkoJ3NsdWcnLCBzbHVnKSB8fCB0aGlzLmZpbmRCeSgnc2x1Z193aXRob3V0X3ZlcnNpb24nLCBzbHVnKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzb3J0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc29ydCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1vZGVscy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIGlmIChhLm5hbWUgPT09IGIubmFtZSkge1xuICAgICAgICAgIGlmICghYS52ZXJzaW9uIHx8IGEudmVyc2lvbi5yZXBsYWNlKE5PUk1BTElaRV9WRVJTSU9OX1JHWCwgTk9STUFMSVpFX1ZFUlNJT05fU1VCKSA+IGIudmVyc2lvbi5yZXBsYWNlKE5PUk1BTElaRV9WRVJTSU9OX1JHWCwgTk9STUFMSVpFX1ZFUlNJT05fU1VCKSkge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYS5uYW1lLnRvTG93ZXJDYXNlKCkgPiBiLm5hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnbG9hZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWQob25Db21wbGV0ZSwgb25FcnJvciwgb3B0aW9ucykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBpID0gMDtcblxuICAgICAgdmFyIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICBpZiAoaSA8IF90aGlzMi5tb2RlbHMubGVuZ3RoKSB7XG4gICAgICAgICAgX3RoaXMyLm1vZGVsc1tpXS5sb2FkKG5leHQsIGZhaWwsIG9wdGlvbnMpO1xuICAgICAgICB9IGVsc2UgaWYgKGkgPT09IF90aGlzMi5tb2RlbHMubGVuZ3RoICsgQ09OQ1VSUkVOQ1kgLSAxKSB7XG4gICAgICAgICAgb25Db21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICAgIH07XG5cbiAgICAgIHZhciBmYWlsID0gZnVuY3Rpb24gZmFpbCgpIHtcbiAgICAgICAgaWYgKG9uRXJyb3IpIHtcbiAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBvbkVycm9yLmFwcGx5KHVuZGVmaW5lZCwgX3RvQ29uc3VtYWJsZUFycmF5KGFyZ3MgfHwgW10pKTtcbiAgICAgICAgICBvbkVycm9yID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBuZXh0KCk7XG4gICAgICB9O1xuXG4gICAgICBmb3IgKHZhciBqID0gMCwgZW5kID0gQ09OQ1VSUkVOQ1ksIGFzYyA9IDAgPD0gZW5kOyBhc2MgPyBqIDwgZW5kIDogaiA+IGVuZDsgYXNjID8gaisrIDogai0tKSB7XG4gICAgICAgIG5leHQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjbGVhckNhY2hlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJDYWNoZSgpIHtcbiAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSB0aGlzLm1vZGVsc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICB2YXIgZG9jID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICBkb2MuY2xlYXJDYWNoZSgpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICd1bmluc3RhbGwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1bmluc3RhbGwoY2FsbGJhY2spIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgaSA9IDA7XG4gICAgICB2YXIgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgIGlmIChpIDwgX3RoaXMzLm1vZGVscy5sZW5ndGgpIHtcbiAgICAgICAgICBfdGhpczMubW9kZWxzW2krK10udW5pbnN0YWxsKG5leHQsIG5leHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBuZXh0KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0SW5zdGFsbFN0YXR1c2VzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5zdGFsbFN0YXR1c2VzKGNhbGxiYWNrKSB7XG4gICAgICBhcHAuZGIudmVyc2lvbnModGhpcy5tb2RlbHMsIGZ1bmN0aW9uIChzdGF0dXNlcykge1xuICAgICAgICBpZiAoc3RhdHVzZXMpIHtcbiAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gc3RhdHVzZXMpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHN0YXR1c2VzW2tleV07XG4gICAgICAgICAgICBzdGF0dXNlc1trZXldID0ge1xuICAgICAgICAgICAgICBpbnN0YWxsZWQ6ICEhdmFsdWUsXG4gICAgICAgICAgICAgIG10aW1lOiB2YWx1ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2soc3RhdHVzZXMpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY2hlY2tGb3JVcGRhdGVzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tGb3JVcGRhdGVzKGNhbGxiYWNrKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgdGhpcy5nZXRJbnN0YWxsU3RhdHVzZXMoZnVuY3Rpb24gKHN0YXR1c2VzKSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgaWYgKHN0YXR1c2VzKSB7XG4gICAgICAgICAgZm9yICh2YXIgc2x1ZyBpbiBzdGF0dXNlcykge1xuICAgICAgICAgICAgdmFyIHN0YXR1cyA9IHN0YXR1c2VzW3NsdWddO1xuICAgICAgICAgICAgaWYgKF90aGlzNC5maW5kQnkoJ3NsdWcnLCBzbHVnKS5pc091dGRhdGVkKHN0YXR1cykpIHtcbiAgICAgICAgICAgICAgaSArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjayhpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3VwZGF0ZUluQmFja2dyb3VuZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUluQmFja2dyb3VuZCgpIHtcbiAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICB0aGlzLmdldEluc3RhbGxTdGF0dXNlcyhmdW5jdGlvbiAoc3RhdHVzZXMpIHtcbiAgICAgICAgaWYgKCFzdGF0dXNlcykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBzbHVnIGluIHN0YXR1c2VzKSB7XG4gICAgICAgICAgdmFyIHN0YXR1cyA9IHN0YXR1c2VzW3NsdWddO1xuICAgICAgICAgIHZhciBkb2MgPSBfdGhpczUuZmluZEJ5KCdzbHVnJywgc2x1Zyk7XG4gICAgICAgICAgaWYgKGRvYy5pc091dGRhdGVkKHN0YXR1cykpIHtcbiAgICAgICAgICAgIGRvYy5pbnN0YWxsKCQubm9vcCwgJC5ub29wKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBEb2NzO1xufShhcHAuQ29sbGVjdGlvbik7XG5cbkRvY3MuTk9STUFMSVpFX1ZFUlNJT05fUkdYID0gL1xcLihcXGQpJC87XG5Eb2NzLk5PUk1BTElaRV9WRVJTSU9OX1NVQiA9ICcuMCQxJztcbkRvY3MuQ09OQ1VSUkVOQ1kgPSAzO1xuRG9jcy5tb2RlbCA9ICdEb2MnO1xuZXhwb3J0cy5kZWZhdWx0ID0gRG9jcztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Fzc2V0cy9qYXZhc2NyaXB0cy9jb2xsZWN0aW9ucy9kb2NzLmpzXG4vLyBtb2R1bGUgaWQgPSA5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nexports.default = Doc = function (_app$Model) {\n  _inherits(Doc, _app$Model);\n\n  // Attributes: name, slug, type, version, release, db_size, mtime, links\n\n  function Doc() {\n    _classCallCheck(this, Doc);\n\n    var _this = _possibleConstructorReturn(this, (Doc.__proto__ || Object.getPrototypeOf(Doc)).apply(this, arguments));\n\n    _this.reset(_this);\n    _this.slug_without_version = _this.slug.split('~')[0];\n    _this.fullName = '' + _this.name + (_this.version ? ' ' + _this.version : '');\n    _this.icon = _this.slug_without_version;\n    if (_this.version) {\n      _this.short_version = _this.version.split(' ')[0];\n    }\n    _this.text = _this.toEntry().text;\n    return _this;\n  }\n\n  _createClass(Doc, [{\n    key: 'reset',\n    value: function reset(data) {\n      this.resetEntries(data.entries);\n      this.resetTypes(data.types);\n    }\n  }, {\n    key: 'resetEntries',\n    value: function resetEntries(entries) {\n      var _this2 = this;\n\n      this.entries = new app.collections.Entries(entries);\n      this.entries.each(function (entry) {\n        return entry.doc = _this2;\n      });\n    }\n  }, {\n    key: 'resetTypes',\n    value: function resetTypes(types) {\n      var _this3 = this;\n\n      this.types = new app.collections.Types(types);\n      this.types.each(function (type) {\n        return type.doc = _this3;\n      });\n    }\n  }, {\n    key: 'fullPath',\n    value: function fullPath(path) {\n      if (path == null) {\n        path = '';\n      }\n      if (path[0] !== '/') {\n        path = '/' + path;\n      }\n      return '/' + this.slug + path;\n    }\n  }, {\n    key: 'fileUrl',\n    value: function fileUrl(path) {\n      return '' + App.config.docs_origin + this.fullPath(path) + '?' + this.mtime;\n    }\n  }, {\n    key: 'dbUrl',\n    value: function dbUrl() {\n      return App.config.docs_origin + '/' + this.slug + '/' + App.config.db_filename + '?' + this.mtime;\n    }\n  }, {\n    key: 'indexUrl',\n    value: function indexUrl() {\n      return app.indexHost() + '/' + this.slug + '/' + App.config.index_filename + '?' + this.mtime;\n    }\n  }, {\n    key: 'toEntry',\n    value: function toEntry() {\n      if (this.entry) {\n        return this.entry;\n      }\n      this.entry = new app.models.Entry({\n        doc: this,\n        name: this.fullName,\n        path: 'index'\n      });\n      if (this.version) {\n        this.entry.addAlias(this.name);\n      }\n      return this.entry;\n    }\n  }, {\n    key: 'findEntryByPathAndHash',\n    value: function findEntryByPathAndHash(path, hash) {\n      var entry = void 0;\n      if (hash && (entry = this.entries.findBy('path', path + '#' + hash))) {\n        return entry;\n      } else if (path === 'index') {\n        return this.toEntry();\n      } else {\n        return this.entries.findBy('path', path);\n      }\n    }\n  }, {\n    key: 'load',\n    value: function load(onSuccess, onError, options) {\n      var _this4 = this;\n\n      if (options == null) {\n        options = {};\n      }\n      if (options.readCache && this._loadFromCache(onSuccess)) {\n        return;\n      }\n\n      var callback = function callback(data) {\n        _this4.reset(data);\n        onSuccess();\n        if (options.writeCache) {\n          _this4._setCache(data);\n        }\n      };\n\n      return ajax({\n        url: this.indexUrl(),\n        success: callback,\n        error: onError\n      });\n    }\n  }, {\n    key: 'clearCache',\n    value: function clearCache() {\n      app.localStorage.del(this.slug);\n    }\n  }, {\n    key: '_loadFromCache',\n    value: function _loadFromCache(onSuccess) {\n      var _this5 = this;\n\n      var data = void 0;\n      if (!(data = this._getCache())) {\n        return;\n      }\n\n      var callback = function callback() {\n        _this5.reset(data);\n        onSuccess();\n      };\n\n      setTimeout(callback, 0);\n      return true;\n    }\n  }, {\n    key: '_getCache',\n    value: function _getCache() {\n      var data = void 0;\n      if (!(data = app.localStorage.get(this.slug))) {\n        return;\n      }\n\n      if (data[0] === this.mtime) {\n        return data[1];\n      } else {\n        this.clearCache();\n        return;\n      }\n    }\n  }, {\n    key: '_setCache',\n    value: function _setCache(data) {\n      app.localStorage.set(this.slug, [this.mtime, data]);\n    }\n  }, {\n    key: 'install',\n    value: function install(onSuccess, onError, onProgress) {\n      var _this6 = this;\n\n      if (this.installing) {\n        return;\n      }\n      this.installing = true;\n\n      var error = function error() {\n        _this6.installing = null;\n        onError();\n      };\n\n      var success = function success(data) {\n        _this6.installing = null;\n        app.db.store(_this6, data, onSuccess, error);\n      };\n\n      ajax({\n        url: this.dbUrl(),\n        success: success,\n        error: error,\n        progress: onProgress,\n        timeout: 3600\n      });\n    }\n  }, {\n    key: 'uninstall',\n    value: function uninstall(onSuccess, onError) {\n      var _this7 = this;\n\n      if (this.installing) {\n        return;\n      }\n      this.installing = true;\n\n      var success = function success() {\n        _this7.installing = null;\n        onSuccess();\n      };\n\n      var error = function error() {\n        _this7.installing = null;\n        onError();\n      };\n\n      app.db.unstore(this, success, error);\n    }\n  }, {\n    key: 'getInstallStatus',\n    value: function getInstallStatus(callback) {\n      app.db.version(this, function (value) {\n        return callback({\n          installed: !!value,\n          mtime: value\n        });\n      });\n    }\n  }, {\n    key: 'isOutdated',\n    value: function isOutdated(status) {\n      return status && status.installed && this.mtime !== status.mtime;\n    }\n  }]);\n\n  return Doc;\n}(app.Model);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvamF2YXNjcmlwdHMvbW9kZWxzL2RvYy5qcz8wOGM0Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBEb2MgPSBmdW5jdGlvbiAoX2FwcCRNb2RlbCkge1xuICBfaW5oZXJpdHMoRG9jLCBfYXBwJE1vZGVsKTtcblxuICAvLyBBdHRyaWJ1dGVzOiBuYW1lLCBzbHVnLCB0eXBlLCB2ZXJzaW9uLCByZWxlYXNlLCBkYl9zaXplLCBtdGltZSwgbGlua3NcblxuICBmdW5jdGlvbiBEb2MoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERvYyk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRG9jLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRG9jKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICBfdGhpcy5yZXNldChfdGhpcyk7XG4gICAgX3RoaXMuc2x1Z193aXRob3V0X3ZlcnNpb24gPSBfdGhpcy5zbHVnLnNwbGl0KCd+JylbMF07XG4gICAgX3RoaXMuZnVsbE5hbWUgPSAnJyArIF90aGlzLm5hbWUgKyAoX3RoaXMudmVyc2lvbiA/ICcgJyArIF90aGlzLnZlcnNpb24gOiAnJyk7XG4gICAgX3RoaXMuaWNvbiA9IF90aGlzLnNsdWdfd2l0aG91dF92ZXJzaW9uO1xuICAgIGlmIChfdGhpcy52ZXJzaW9uKSB7XG4gICAgICBfdGhpcy5zaG9ydF92ZXJzaW9uID0gX3RoaXMudmVyc2lvbi5zcGxpdCgnICcpWzBdO1xuICAgIH1cbiAgICBfdGhpcy50ZXh0ID0gX3RoaXMudG9FbnRyeSgpLnRleHQ7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKERvYywgW3tcbiAgICBrZXk6ICdyZXNldCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0KGRhdGEpIHtcbiAgICAgIHRoaXMucmVzZXRFbnRyaWVzKGRhdGEuZW50cmllcyk7XG4gICAgICB0aGlzLnJlc2V0VHlwZXMoZGF0YS50eXBlcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVzZXRFbnRyaWVzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXRFbnRyaWVzKGVudHJpZXMpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB0aGlzLmVudHJpZXMgPSBuZXcgYXBwLmNvbGxlY3Rpb25zLkVudHJpZXMoZW50cmllcyk7XG4gICAgICB0aGlzLmVudHJpZXMuZWFjaChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgcmV0dXJuIGVudHJ5LmRvYyA9IF90aGlzMjtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3Jlc2V0VHlwZXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldFR5cGVzKHR5cGVzKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdGhpcy50eXBlcyA9IG5ldyBhcHAuY29sbGVjdGlvbnMuVHlwZXModHlwZXMpO1xuICAgICAgdGhpcy50eXBlcy5lYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIHJldHVybiB0eXBlLmRvYyA9IF90aGlzMztcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Z1bGxQYXRoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZnVsbFBhdGgocGF0aCkge1xuICAgICAgaWYgKHBhdGggPT0gbnVsbCkge1xuICAgICAgICBwYXRoID0gJyc7XG4gICAgICB9XG4gICAgICBpZiAocGF0aFswXSAhPT0gJy8nKSB7XG4gICAgICAgIHBhdGggPSAnLycgKyBwYXRoO1xuICAgICAgfVxuICAgICAgcmV0dXJuICcvJyArIHRoaXMuc2x1ZyArIHBhdGg7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZmlsZVVybCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZpbGVVcmwocGF0aCkge1xuICAgICAgcmV0dXJuICcnICsgYXBwLmNvbmZpZy5kb2NzX29yaWdpbiArIHRoaXMuZnVsbFBhdGgocGF0aCkgKyAnPycgKyB0aGlzLm10aW1lO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2RiVXJsJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGJVcmwoKSB7XG4gICAgICByZXR1cm4gYXBwLmNvbmZpZy5kb2NzX29yaWdpbiArICcvJyArIHRoaXMuc2x1ZyArICcvJyArIGFwcC5jb25maWcuZGJfZmlsZW5hbWUgKyAnPycgKyB0aGlzLm10aW1lO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2luZGV4VXJsJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5kZXhVcmwoKSB7XG4gICAgICByZXR1cm4gYXBwLmluZGV4SG9zdCgpICsgJy8nICsgdGhpcy5zbHVnICsgJy8nICsgYXBwLmNvbmZpZy5pbmRleF9maWxlbmFtZSArICc/JyArIHRoaXMubXRpbWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAndG9FbnRyeScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvRW50cnkoKSB7XG4gICAgICBpZiAodGhpcy5lbnRyeSkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbnRyeTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZW50cnkgPSBuZXcgYXBwLm1vZGVscy5FbnRyeSh7XG4gICAgICAgIGRvYzogdGhpcyxcbiAgICAgICAgbmFtZTogdGhpcy5mdWxsTmFtZSxcbiAgICAgICAgcGF0aDogJ2luZGV4J1xuICAgICAgfSk7XG4gICAgICBpZiAodGhpcy52ZXJzaW9uKSB7XG4gICAgICAgIHRoaXMuZW50cnkuYWRkQWxpYXModGhpcy5uYW1lKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmVudHJ5O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2ZpbmRFbnRyeUJ5UGF0aEFuZEhhc2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmaW5kRW50cnlCeVBhdGhBbmRIYXNoKHBhdGgsIGhhc2gpIHtcbiAgICAgIHZhciBlbnRyeSA9IHZvaWQgMDtcbiAgICAgIGlmIChoYXNoICYmIChlbnRyeSA9IHRoaXMuZW50cmllcy5maW5kQnkoJ3BhdGgnLCBwYXRoICsgJyMnICsgaGFzaCkpKSB7XG4gICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgIH0gZWxzZSBpZiAocGF0aCA9PT0gJ2luZGV4Jykge1xuICAgICAgICByZXR1cm4gdGhpcy50b0VudHJ5KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5lbnRyaWVzLmZpbmRCeSgncGF0aCcsIHBhdGgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2xvYWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsb2FkKG9uU3VjY2Vzcywgb25FcnJvciwgb3B0aW9ucykge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIGlmIChvcHRpb25zID09IG51bGwpIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMucmVhZENhY2hlICYmIHRoaXMuX2xvYWRGcm9tQ2FjaGUob25TdWNjZXNzKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uIGNhbGxiYWNrKGRhdGEpIHtcbiAgICAgICAgX3RoaXM0LnJlc2V0KGRhdGEpO1xuICAgICAgICBvblN1Y2Nlc3MoKTtcbiAgICAgICAgaWYgKG9wdGlvbnMud3JpdGVDYWNoZSkge1xuICAgICAgICAgIF90aGlzNC5fc2V0Q2FjaGUoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBhamF4KHtcbiAgICAgICAgdXJsOiB0aGlzLmluZGV4VXJsKCksXG4gICAgICAgIHN1Y2Nlc3M6IGNhbGxiYWNrLFxuICAgICAgICBlcnJvcjogb25FcnJvclxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY2xlYXJDYWNoZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyQ2FjaGUoKSB7XG4gICAgICBhcHAubG9jYWxTdG9yYWdlLmRlbCh0aGlzLnNsdWcpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ19sb2FkRnJvbUNhY2hlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2xvYWRGcm9tQ2FjaGUob25TdWNjZXNzKSB7XG4gICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgdmFyIGRhdGEgPSB2b2lkIDA7XG4gICAgICBpZiAoIShkYXRhID0gdGhpcy5fZ2V0Q2FjaGUoKSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgICAgX3RoaXM1LnJlc2V0KGRhdGEpO1xuICAgICAgICBvblN1Y2Nlc3MoKTtcbiAgICAgIH07XG5cbiAgICAgIHNldFRpbWVvdXQoY2FsbGJhY2ssIDApO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX2dldENhY2hlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldENhY2hlKCkge1xuICAgICAgdmFyIGRhdGEgPSB2b2lkIDA7XG4gICAgICBpZiAoIShkYXRhID0gYXBwLmxvY2FsU3RvcmFnZS5nZXQodGhpcy5zbHVnKSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGF0YVswXSA9PT0gdGhpcy5tdGltZSkge1xuICAgICAgICByZXR1cm4gZGF0YVsxXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY2xlYXJDYWNoZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX3NldENhY2hlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3NldENhY2hlKGRhdGEpIHtcbiAgICAgIGFwcC5sb2NhbFN0b3JhZ2Uuc2V0KHRoaXMuc2x1ZywgW3RoaXMubXRpbWUsIGRhdGFdKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdpbnN0YWxsJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5zdGFsbChvblN1Y2Nlc3MsIG9uRXJyb3IsIG9uUHJvZ3Jlc3MpIHtcbiAgICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5pbnN0YWxsaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuaW5zdGFsbGluZyA9IHRydWU7XG5cbiAgICAgIHZhciBlcnJvciA9IGZ1bmN0aW9uIGVycm9yKCkge1xuICAgICAgICBfdGhpczYuaW5zdGFsbGluZyA9IG51bGw7XG4gICAgICAgIG9uRXJyb3IoKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBzdWNjZXNzID0gZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7XG4gICAgICAgIF90aGlzNi5pbnN0YWxsaW5nID0gbnVsbDtcbiAgICAgICAgYXBwLmRiLnN0b3JlKF90aGlzNiwgZGF0YSwgb25TdWNjZXNzLCBlcnJvcik7XG4gICAgICB9O1xuXG4gICAgICBhamF4KHtcbiAgICAgICAgdXJsOiB0aGlzLmRiVXJsKCksXG4gICAgICAgIHN1Y2Nlc3M6IHN1Y2Nlc3MsXG4gICAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgICAgcHJvZ3Jlc3M6IG9uUHJvZ3Jlc3MsXG4gICAgICAgIHRpbWVvdXQ6IDM2MDBcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3VuaW5zdGFsbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVuaW5zdGFsbChvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICAgIHZhciBfdGhpczcgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5pbnN0YWxsaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuaW5zdGFsbGluZyA9IHRydWU7XG5cbiAgICAgIHZhciBzdWNjZXNzID0gZnVuY3Rpb24gc3VjY2VzcygpIHtcbiAgICAgICAgX3RoaXM3Lmluc3RhbGxpbmcgPSBudWxsO1xuICAgICAgICBvblN1Y2Nlc3MoKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBlcnJvciA9IGZ1bmN0aW9uIGVycm9yKCkge1xuICAgICAgICBfdGhpczcuaW5zdGFsbGluZyA9IG51bGw7XG4gICAgICAgIG9uRXJyb3IoKTtcbiAgICAgIH07XG5cbiAgICAgIGFwcC5kYi51bnN0b3JlKHRoaXMsIHN1Y2Nlc3MsIGVycm9yKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRJbnN0YWxsU3RhdHVzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5zdGFsbFN0YXR1cyhjYWxsYmFjaykge1xuICAgICAgYXBwLmRiLnZlcnNpb24odGhpcywgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayh7XG4gICAgICAgICAgaW5zdGFsbGVkOiAhIXZhbHVlLFxuICAgICAgICAgIG10aW1lOiB2YWx1ZVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2lzT3V0ZGF0ZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc091dGRhdGVkKHN0YXR1cykge1xuICAgICAgcmV0dXJuIHN0YXR1cyAmJiBzdGF0dXMuaW5zdGFsbGVkICYmIHRoaXMubXRpbWUgIT09IHN0YXR1cy5tdGltZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRG9jO1xufShhcHAuTW9kZWwpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXNzZXRzL2phdmFzY3JpcHRzL21vZGVscy9kb2MuanNcbi8vIG1vZHVsZSBpZCA9IDEwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///10\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Entries = function (_app$Collection) {\n  _inherits(Entries, _app$Collection);\n\n  function Entries() {\n    _classCallCheck(this, Entries);\n\n    return _possibleConstructorReturn(this, (Entries.__proto__ || Object.getPrototypeOf(Entries)).apply(this, arguments));\n  }\n\n  return Entries;\n}(app.Collection);\n\nEntries.model = \'Entry\';\nexports.default = Entries;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvamF2YXNjcmlwdHMvY29sbGVjdGlvbnMvZW50cmllcy5qcz8xOGViIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgRW50cmllcyA9IGZ1bmN0aW9uIChfYXBwJENvbGxlY3Rpb24pIHtcbiAgX2luaGVyaXRzKEVudHJpZXMsIF9hcHAkQ29sbGVjdGlvbik7XG5cbiAgZnVuY3Rpb24gRW50cmllcygpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRW50cmllcyk7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEVudHJpZXMuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihFbnRyaWVzKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICByZXR1cm4gRW50cmllcztcbn0oYXBwLkNvbGxlY3Rpb24pO1xuXG5FbnRyaWVzLm1vZGVsID0gJ0VudHJ5JztcbmV4cG9ydHMuZGVmYXVsdCA9IEVudHJpZXM7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hc3NldHMvamF2YXNjcmlwdHMvY29sbGVjdGlvbnMvZW50cmllcy5qc1xuLy8gbW9kdWxlIGlkID0gMTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///11\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar AppCache = function () {\n  _createClass(AppCache, null, [{\n    key: 'isEnabled',\n    value: function isEnabled() {\n      try {\n        return applicationCache && applicationCache.status !== applicationCache.UNCACHED;\n      } catch (error) {}\n    }\n  }]);\n\n  function AppCache() {\n    _classCallCheck(this, AppCache);\n\n    this.onProgress = this.onProgress.bind(this);\n    this.onUpdateReady = this.onUpdateReady.bind(this);\n    this.cache = applicationCache;\n    this.notifyUpdate = true;\n    if (this.cache.status === this.cache.UPDATEREADY) {\n      this.onUpdateReady();\n    }\n\n    $.on(this.cache, 'progress', this.onProgress);\n    $.on(this.cache, 'updateready', this.onUpdateReady);\n  }\n\n  _createClass(AppCache, [{\n    key: 'update',\n    value: function update() {\n      this.notifyUpdate = true;\n      this.notifyProgress = true;\n      try {\n        this.cache.update();\n      } catch (error) {}\n    }\n  }, {\n    key: 'updateInBackground',\n    value: function updateInBackground() {\n      this.notifyUpdate = false;\n      this.notifyProgress = false;\n      try {\n        this.cache.update();\n      } catch (error) {}\n    }\n  }, {\n    key: 'reload',\n    value: function reload() {\n      $.on(this.cache, 'updateready noupdate error', function () {\n        return window.location = '/';\n      });\n      this.notifyUpdate = false;\n      this.notifyProgress = true;\n      try {\n        this.cache.update();\n      } catch (error) {}\n    }\n  }, {\n    key: 'onProgress',\n    value: function onProgress(event) {\n      if (this.notifyProgress) {\n        this.trigger('progress', event);\n      }\n    }\n  }, {\n    key: 'onUpdateReady',\n    value: function onUpdateReady() {\n      if (this.notifyUpdate) {\n        this.trigger('updateready');\n      }\n    }\n  }]);\n\n  return AppCache;\n}();\n\nexports.default = AppCache;\n\n$.extend(undefined.prototype, Events);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvamF2YXNjcmlwdHMvYXBwL2FwcGNhY2hlLmpzPzgzMzEiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgQXBwQ2FjaGUgPSBmdW5jdGlvbiAoKSB7XG4gIF9jcmVhdGVDbGFzcyhBcHBDYWNoZSwgbnVsbCwgW3tcbiAgICBrZXk6ICdpc0VuYWJsZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0VuYWJsZWQoKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gYXBwbGljYXRpb25DYWNoZSAmJiBhcHBsaWNhdGlvbkNhY2hlLnN0YXR1cyAhPT0gYXBwbGljYXRpb25DYWNoZS5VTkNBQ0hFRDtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7fVxuICAgIH1cbiAgfV0pO1xuXG4gIGZ1bmN0aW9uIEFwcENhY2hlKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBcHBDYWNoZSk7XG5cbiAgICB0aGlzLm9uUHJvZ3Jlc3MgPSB0aGlzLm9uUHJvZ3Jlc3MuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uVXBkYXRlUmVhZHkgPSB0aGlzLm9uVXBkYXRlUmVhZHkuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNhY2hlID0gYXBwbGljYXRpb25DYWNoZTtcbiAgICB0aGlzLm5vdGlmeVVwZGF0ZSA9IHRydWU7XG4gICAgaWYgKHRoaXMuY2FjaGUuc3RhdHVzID09PSB0aGlzLmNhY2hlLlVQREFURVJFQURZKSB7XG4gICAgICB0aGlzLm9uVXBkYXRlUmVhZHkoKTtcbiAgICB9XG5cbiAgICAkLm9uKHRoaXMuY2FjaGUsICdwcm9ncmVzcycsIHRoaXMub25Qcm9ncmVzcyk7XG4gICAgJC5vbih0aGlzLmNhY2hlLCAndXBkYXRlcmVhZHknLCB0aGlzLm9uVXBkYXRlUmVhZHkpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEFwcENhY2hlLCBbe1xuICAgIGtleTogJ3VwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgIHRoaXMubm90aWZ5VXBkYXRlID0gdHJ1ZTtcbiAgICAgIHRoaXMubm90aWZ5UHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5jYWNoZS51cGRhdGUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7fVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3VwZGF0ZUluQmFja2dyb3VuZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUluQmFja2dyb3VuZCgpIHtcbiAgICAgIHRoaXMubm90aWZ5VXBkYXRlID0gZmFsc2U7XG4gICAgICB0aGlzLm5vdGlmeVByb2dyZXNzID0gZmFsc2U7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLmNhY2hlLnVwZGF0ZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHt9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVsb2FkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVsb2FkKCkge1xuICAgICAgJC5vbih0aGlzLmNhY2hlLCAndXBkYXRlcmVhZHkgbm91cGRhdGUgZXJyb3InLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cubG9jYXRpb24gPSAnLyc7XG4gICAgICB9KTtcbiAgICAgIHRoaXMubm90aWZ5VXBkYXRlID0gZmFsc2U7XG4gICAgICB0aGlzLm5vdGlmeVByb2dyZXNzID0gdHJ1ZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuY2FjaGUudXBkYXRlKCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge31cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvblByb2dyZXNzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Qcm9ncmVzcyhldmVudCkge1xuICAgICAgaWYgKHRoaXMubm90aWZ5UHJvZ3Jlc3MpIHtcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdwcm9ncmVzcycsIGV2ZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvblVwZGF0ZVJlYWR5JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25VcGRhdGVSZWFkeSgpIHtcbiAgICAgIGlmICh0aGlzLm5vdGlmeVVwZGF0ZSkge1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ3VwZGF0ZXJlYWR5Jyk7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEFwcENhY2hlO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBBcHBDYWNoZTtcblxuJC5leHRlbmQodW5kZWZpbmVkLnByb3RvdHlwZSwgRXZlbnRzKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Fzc2V0cy9qYXZhc2NyaXB0cy9hcHAvYXBwY2FjaGUuanNcbi8vIG1vZHVsZSBpZCA9IDEyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///12\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Shortcuts = function () {\n  function Shortcuts() {\n    _classCallCheck(this, Shortcuts);\n\n    this.onKeydown = this.onKeydown.bind(this);\n    this.onKeypress = this.onKeypress.bind(this);\n    this.isMac = $.isMac();\n    this.start();\n  }\n\n  _createClass(Shortcuts, [{\n    key: 'start',\n    value: function start() {\n      $.on(document, 'keydown', this.onKeydown);\n      $.on(document, 'keypress', this.onKeypress);\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      $.off(document, 'keydown', this.onKeydown);\n      $.off(document, 'keypress', this.onKeypress);\n    }\n  }, {\n    key: 'swapArrowKeysBehavior',\n    value: function swapArrowKeysBehavior() {\n      return app.settings.get('arrowScroll');\n    }\n  }, {\n    key: 'showTip',\n    value: function showTip() {\n      app.showTip('KeyNav');\n      return this.showTip = null;\n    }\n  }, {\n    key: 'onKeydown',\n    value: function onKeydown(event) {\n      var _this = this;\n\n      if (this.buggyEvent(event)) {\n        return;\n      }\n      var result = function () {\n        if (event.ctrlKey || event.metaKey) {\n          if (!event.altKey && !event.shiftKey) {\n            return _this.handleKeydownSuperEvent(event);\n          }\n        } else if (event.shiftKey) {\n          if (!event.altKey) {\n            return _this.handleKeydownShiftEvent(event);\n          }\n        } else if (event.altKey) {\n          return _this.handleKeydownAltEvent(event);\n        } else {\n          return _this.handleKeydownEvent(event);\n        }\n      }();\n\n      if (result === false) {\n        event.preventDefault();\n      }\n    }\n  }, {\n    key: 'onKeypress',\n    value: function onKeypress(event) {\n      if (this.buggyEvent(event)) {\n        return;\n      }\n      if (!event.ctrlKey && !event.metaKey) {\n        var result = this.handleKeypressEvent(event);\n        if (result === false) {\n          event.preventDefault();\n        }\n      }\n    }\n  }, {\n    key: 'handleKeydownEvent',\n    value: function handleKeydownEvent(event, _force) {\n      if (!_force && [37, 38, 39, 40].includes(event.which) && this.swapArrowKeysBehavior()) {\n        return this.handleKeydownAltEvent(event, true);\n      }\n\n      if (!event.target.form && (48 <= event.which && event.which <= 57 || 65 <= event.which && event.which <= 90)) {\n        this.trigger('typing');\n        return;\n      }\n\n      switch (event.which) {\n        case 8:\n          if (!event.target.form) {\n            return this.trigger('typing');\n          }\n          break;\n        case 13:\n          return this.trigger('enter');\n        case 27:\n          this.trigger('escape');\n          return false;\n        case 32:\n          if (event.target.type === 'search' && (!this.lastKeypress || this.lastKeypress < Date.now() - 500)) {\n            this.trigger('pageDown');\n            return false;\n          }\n          break;\n        case 33:\n          return this.trigger('pageUp');\n        case 34:\n          return this.trigger('pageDown');\n        case 35:\n          if (!event.target.form) {\n            return this.trigger('pageBottom');\n          }\n          break;\n        case 36:\n          if (!event.target.form) {\n            return this.trigger('pageTop');\n          }\n          break;\n        case 37:\n          if (!event.target.value) {\n            return this.trigger('left');\n          }\n          break;\n        case 38:\n          this.trigger('up');\n          if (typeof this.showTip === 'function') {\n            this.showTip();\n          }\n          return false;\n        case 39:\n          if (!event.target.value) {\n            return this.trigger('right');\n          }\n          break;\n        case 40:\n          this.trigger('down');\n          if (typeof this.showTip === 'function') {\n            this.showTip();\n          }\n          return false;\n        case 191:\n          if (!event.target.form) {\n            this.trigger('typing');\n            return false;\n          }\n          break;\n      }\n    }\n  }, {\n    key: 'handleKeydownSuperEvent',\n    value: function handleKeydownSuperEvent(event) {\n      switch (event.which) {\n        case 13:\n          return this.trigger('superEnter');\n        case 37:\n          if (this.isMac) {\n            this.trigger('superLeft');\n            return false;\n          }\n          break;\n        case 38:\n          this.trigger('pageTop');\n          return false;\n        case 39:\n          if (this.isMac) {\n            this.trigger('superRight');\n            return false;\n          }\n          break;\n        case 40:\n          this.trigger('pageBottom');\n          return false;\n        case 188:\n          this.trigger('preferences');\n          return false;\n      }\n    }\n  }, {\n    key: 'handleKeydownShiftEvent',\n    value: function handleKeydownShiftEvent(event, _force) {\n      if (!_force && [37, 38, 39, 40].includes(event.which) && this.swapArrowKeysBehavior()) {\n        return this.handleKeydownEvent(event, true);\n      }\n\n      if (!event.target.form && 65 <= event.which && event.which <= 90) {\n        this.trigger('typing');\n        return;\n      }\n\n      var selection = getSelection();\n\n      switch (event.which) {\n        case 32:\n          this.trigger('pageUp');\n          return false;\n        case 38:\n          if (selection != null && !selection.toString()) {\n            this.trigger('altUp');\n            return false;\n          }\n          break;\n        case 40:\n          if (selection != null && !selection.toString()) {\n            this.trigger('altDown');\n            return false;\n          }\n          break;\n      }\n    }\n  }, {\n    key: 'handleKeydownAltEvent',\n    value: function handleKeydownAltEvent(event, _force) {\n      if (!_force && [37, 38, 39, 40].includes(event.which) && this.swapArrowKeysBehavior()) {\n        return this.handleKeydownEvent(event, true);\n      }\n\n      switch (event.which) {\n        case 9:\n          return this.trigger('altRight', event);\n        case 37:\n          if (!this.isMac) {\n            this.trigger('superLeft');\n            return false;\n          }\n          break;\n        case 38:\n          this.trigger('altUp');\n          return false;\n        case 39:\n          if (!this.isMac) {\n            this.trigger('superRight');\n            return false;\n          }\n          break;\n        case 40:\n          this.trigger('altDown');\n          return false;\n        case 70:\n          return this.trigger('altF', event);\n        case 71:\n          this.trigger('altG');\n          return false;\n        case 79:\n          this.trigger('altO');\n          return false;\n        case 82:\n          this.trigger('altR');\n          return false;\n        case 83:\n          this.trigger('altS');\n          return false;\n      }\n    }\n  }, {\n    key: 'handleKeypressEvent',\n    value: function handleKeypressEvent(event) {\n      if (event.which === 63 && !event.target.value) {\n        this.trigger('help');\n        return false;\n      } else {\n        return this.lastKeypress = Date.now();\n      }\n    }\n  }, {\n    key: 'buggyEvent',\n    value: function buggyEvent(event) {\n      try {\n        event.target;\n        event.ctrlKey;\n        event.which;\n        return false;\n      } catch (error) {\n        return true;\n      }\n    }\n  }]);\n\n  return Shortcuts;\n}();\n\nexports.default = Shortcuts;\n\n\n$.extend(undefined.prototype, Events);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvamF2YXNjcmlwdHMvYXBwL3Nob3J0Y3V0cy5qcz81NDYwIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFNob3J0Y3V0cyA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU2hvcnRjdXRzKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTaG9ydGN1dHMpO1xuXG4gICAgdGhpcy5vbktleWRvd24gPSB0aGlzLm9uS2V5ZG93bi5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25LZXlwcmVzcyA9IHRoaXMub25LZXlwcmVzcy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaXNNYWMgPSAkLmlzTWFjKCk7XG4gICAgdGhpcy5zdGFydCgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFNob3J0Y3V0cywgW3tcbiAgICBrZXk6ICdzdGFydCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgJC5vbihkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLm9uS2V5ZG93bik7XG4gICAgICAkLm9uKGRvY3VtZW50LCAna2V5cHJlc3MnLCB0aGlzLm9uS2V5cHJlc3MpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3N0b3AnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgJC5vZmYoZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5vbktleWRvd24pO1xuICAgICAgJC5vZmYoZG9jdW1lbnQsICdrZXlwcmVzcycsIHRoaXMub25LZXlwcmVzcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc3dhcEFycm93S2V5c0JlaGF2aW9yJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3dhcEFycm93S2V5c0JlaGF2aW9yKCkge1xuICAgICAgcmV0dXJuIGFwcC5zZXR0aW5ncy5nZXQoJ2Fycm93U2Nyb2xsJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2hvd1RpcCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNob3dUaXAoKSB7XG4gICAgICBhcHAuc2hvd1RpcCgnS2V5TmF2Jyk7XG4gICAgICByZXR1cm4gdGhpcy5zaG93VGlwID0gbnVsbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbktleWRvd24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbktleWRvd24oZXZlbnQpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLmJ1Z2d5RXZlbnQoZXZlbnQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkpIHtcbiAgICAgICAgICBpZiAoIWV2ZW50LmFsdEtleSAmJiAhZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVLZXlkb3duU3VwZXJFdmVudChldmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgaWYgKCFldmVudC5hbHRLZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVLZXlkb3duU2hpZnRFdmVudChldmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmFsdEtleSkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVLZXlkb3duQWx0RXZlbnQoZXZlbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVLZXlkb3duRXZlbnQoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9KCk7XG5cbiAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25LZXlwcmVzcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uS2V5cHJlc3MoZXZlbnQpIHtcbiAgICAgIGlmICh0aGlzLmJ1Z2d5RXZlbnQoZXZlbnQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghZXZlbnQuY3RybEtleSAmJiAhZXZlbnQubWV0YUtleSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5oYW5kbGVLZXlwcmVzc0V2ZW50KGV2ZW50KTtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGFuZGxlS2V5ZG93bkV2ZW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlS2V5ZG93bkV2ZW50KGV2ZW50LCBfZm9yY2UpIHtcbiAgICAgIGlmICghX2ZvcmNlICYmIFszNywgMzgsIDM5LCA0MF0uaW5jbHVkZXMoZXZlbnQud2hpY2gpICYmIHRoaXMuc3dhcEFycm93S2V5c0JlaGF2aW9yKCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlS2V5ZG93bkFsdEV2ZW50KGV2ZW50LCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFldmVudC50YXJnZXQuZm9ybSAmJiAoNDggPD0gZXZlbnQud2hpY2ggJiYgZXZlbnQud2hpY2ggPD0gNTcgfHwgNjUgPD0gZXZlbnQud2hpY2ggJiYgZXZlbnQud2hpY2ggPD0gOTApKSB7XG4gICAgICAgIHRoaXMudHJpZ2dlcigndHlwaW5nJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoIChldmVudC53aGljaCkge1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgaWYgKCFldmVudC50YXJnZXQuZm9ybSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJpZ2dlcigndHlwaW5nJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgIHJldHVybiB0aGlzLnRyaWdnZXIoJ2VudGVyJyk7XG4gICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgdGhpcy50cmlnZ2VyKCdlc2NhcGUnKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNhc2UgMzI6XG4gICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC50eXBlID09PSAnc2VhcmNoJyAmJiAoIXRoaXMubGFzdEtleXByZXNzIHx8IHRoaXMubGFzdEtleXByZXNzIDwgRGF0ZS5ub3coKSAtIDUwMCkpIHtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcigncGFnZURvd24nKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzM6XG4gICAgICAgICAgcmV0dXJuIHRoaXMudHJpZ2dlcigncGFnZVVwJyk7XG4gICAgICAgIGNhc2UgMzQ6XG4gICAgICAgICAgcmV0dXJuIHRoaXMudHJpZ2dlcigncGFnZURvd24nKTtcbiAgICAgICAgY2FzZSAzNTpcbiAgICAgICAgICBpZiAoIWV2ZW50LnRhcmdldC5mb3JtKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmlnZ2VyKCdwYWdlQm90dG9tJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM2OlxuICAgICAgICAgIGlmICghZXZlbnQudGFyZ2V0LmZvcm0pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyaWdnZXIoJ3BhZ2VUb3AnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzc6XG4gICAgICAgICAgaWYgKCFldmVudC50YXJnZXQudmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyaWdnZXIoJ2xlZnQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzg6XG4gICAgICAgICAgdGhpcy50cmlnZ2VyKCd1cCcpO1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5zaG93VGlwID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLnNob3dUaXAoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjYXNlIDM5OlxuICAgICAgICAgIGlmICghZXZlbnQudGFyZ2V0LnZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmlnZ2VyKCdyaWdodCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICB0aGlzLnRyaWdnZXIoJ2Rvd24nKTtcbiAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuc2hvd1RpcCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5zaG93VGlwKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgY2FzZSAxOTE6XG4gICAgICAgICAgaWYgKCFldmVudC50YXJnZXQuZm9ybSkge1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCd0eXBpbmcnKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGFuZGxlS2V5ZG93blN1cGVyRXZlbnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVLZXlkb3duU3VwZXJFdmVudChldmVudCkge1xuICAgICAgc3dpdGNoIChldmVudC53aGljaCkge1xuICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgIHJldHVybiB0aGlzLnRyaWdnZXIoJ3N1cGVyRW50ZXInKTtcbiAgICAgICAgY2FzZSAzNzpcbiAgICAgICAgICBpZiAodGhpcy5pc01hYykge1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCdzdXBlckxlZnQnKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzg6XG4gICAgICAgICAgdGhpcy50cmlnZ2VyKCdwYWdlVG9wJyk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjYXNlIDM5OlxuICAgICAgICAgIGlmICh0aGlzLmlzTWFjKSB7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoJ3N1cGVyUmlnaHQnKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDA6XG4gICAgICAgICAgdGhpcy50cmlnZ2VyKCdwYWdlQm90dG9tJyk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjYXNlIDE4ODpcbiAgICAgICAgICB0aGlzLnRyaWdnZXIoJ3ByZWZlcmVuY2VzJyk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hhbmRsZUtleWRvd25TaGlmdEV2ZW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlS2V5ZG93blNoaWZ0RXZlbnQoZXZlbnQsIF9mb3JjZSkge1xuICAgICAgaWYgKCFfZm9yY2UgJiYgWzM3LCAzOCwgMzksIDQwXS5pbmNsdWRlcyhldmVudC53aGljaCkgJiYgdGhpcy5zd2FwQXJyb3dLZXlzQmVoYXZpb3IoKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVLZXlkb3duRXZlbnQoZXZlbnQsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWV2ZW50LnRhcmdldC5mb3JtICYmIDY1IDw9IGV2ZW50LndoaWNoICYmIGV2ZW50LndoaWNoIDw9IDkwKSB7XG4gICAgICAgIHRoaXMudHJpZ2dlcigndHlwaW5nJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHNlbGVjdGlvbiA9IGdldFNlbGVjdGlvbigpO1xuXG4gICAgICBzd2l0Y2ggKGV2ZW50LndoaWNoKSB7XG4gICAgICAgIGNhc2UgMzI6XG4gICAgICAgICAgdGhpcy50cmlnZ2VyKCdwYWdlVXAnKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNhc2UgMzg6XG4gICAgICAgICAgaWYgKHNlbGVjdGlvbiAhPSBudWxsICYmICFzZWxlY3Rpb24udG9TdHJpbmcoKSkge1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCdhbHRVcCcpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICBpZiAoc2VsZWN0aW9uICE9IG51bGwgJiYgIXNlbGVjdGlvbi50b1N0cmluZygpKSB7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoJ2FsdERvd24nKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGFuZGxlS2V5ZG93bkFsdEV2ZW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlS2V5ZG93bkFsdEV2ZW50KGV2ZW50LCBfZm9yY2UpIHtcbiAgICAgIGlmICghX2ZvcmNlICYmIFszNywgMzgsIDM5LCA0MF0uaW5jbHVkZXMoZXZlbnQud2hpY2gpICYmIHRoaXMuc3dhcEFycm93S2V5c0JlaGF2aW9yKCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlS2V5ZG93bkV2ZW50KGV2ZW50LCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoIChldmVudC53aGljaCkge1xuICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgcmV0dXJuIHRoaXMudHJpZ2dlcignYWx0UmlnaHQnLCBldmVudCk7XG4gICAgICAgIGNhc2UgMzc6XG4gICAgICAgICAgaWYgKCF0aGlzLmlzTWFjKSB7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoJ3N1cGVyTGVmdCcpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzODpcbiAgICAgICAgICB0aGlzLnRyaWdnZXIoJ2FsdFVwJyk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjYXNlIDM5OlxuICAgICAgICAgIGlmICghdGhpcy5pc01hYykge1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCdzdXBlclJpZ2h0Jyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQwOlxuICAgICAgICAgIHRoaXMudHJpZ2dlcignYWx0RG93bicpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgY2FzZSA3MDpcbiAgICAgICAgICByZXR1cm4gdGhpcy50cmlnZ2VyKCdhbHRGJywgZXZlbnQpO1xuICAgICAgICBjYXNlIDcxOlxuICAgICAgICAgIHRoaXMudHJpZ2dlcignYWx0RycpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgY2FzZSA3OTpcbiAgICAgICAgICB0aGlzLnRyaWdnZXIoJ2FsdE8nKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNhc2UgODI6XG4gICAgICAgICAgdGhpcy50cmlnZ2VyKCdhbHRSJyk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjYXNlIDgzOlxuICAgICAgICAgIHRoaXMudHJpZ2dlcignYWx0UycpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoYW5kbGVLZXlwcmVzc0V2ZW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlS2V5cHJlc3NFdmVudChldmVudCkge1xuICAgICAgaWYgKGV2ZW50LndoaWNoID09PSA2MyAmJiAhZXZlbnQudGFyZ2V0LnZhbHVlKSB7XG4gICAgICAgIHRoaXMudHJpZ2dlcignaGVscCcpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXN0S2V5cHJlc3MgPSBEYXRlLm5vdygpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2J1Z2d5RXZlbnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBidWdneUV2ZW50KGV2ZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICBldmVudC50YXJnZXQ7XG4gICAgICAgIGV2ZW50LmN0cmxLZXk7XG4gICAgICAgIGV2ZW50LndoaWNoO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU2hvcnRjdXRzO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBTaG9ydGN1dHM7XG5cblxuJC5leHRlbmQodW5kZWZpbmVkLnByb3RvdHlwZSwgRXZlbnRzKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Fzc2V0cy9qYXZhc2NyaXB0cy9hcHAvc2hvcnRjdXRzLmpzXG4vLyBtb2R1bGUgaWQgPSAxM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///13\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Router = function () {\n  function Router() {\n    _classCallCheck(this, Router);\n\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = this.constructor.routes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var _ref = _step.value;\n\n        var _ref2 = _slicedToArray(_ref, 2);\n\n        var path = _ref2[0];\n        var method = _ref2[1];\n\n        page(path, this[method].bind(this));\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    this.setInitialPath();\n  }\n\n  _createClass(Router, [{\n    key: 'start',\n    value: function start() {\n      page.start();\n    }\n  }, {\n    key: 'show',\n    value: function show(path) {\n      page.show(path);\n    }\n  }, {\n    key: 'triggerRoute',\n    value: function triggerRoute(name) {\n      this.trigger(name, this.context);\n      this.trigger('after', name, this.context);\n    }\n  }, {\n    key: 'before',\n    value: function before(context, next) {\n      var res = void 0;\n      var previousContext = this.context;\n      this.context = context;\n      this.trigger('before', context);\n\n      if (res = next()) {\n        this.context = previousContext;\n        return res;\n      } else {\n        return;\n      }\n    }\n  }, {\n    key: 'doc',\n    value: function doc(context, next) {\n      var doc = void 0;\n      if (doc = app.docs.findBySlug(context.params.doc) || app.disabledDocs.findBySlug(context.params.doc)) {\n        context.doc = doc;\n        context.entry = doc.toEntry();\n        this.triggerRoute('entry');\n        return;\n      } else {\n        return next();\n      }\n    }\n  }, {\n    key: 'type',\n    value: function type(context, next) {\n      var type = void 0;\n      var doc = app.docs.findBySlug(context.params.doc);\n\n      if (type = doc != null ? doc.types.findBy('slug', context.params.type) : undefined) {\n        context.doc = doc;\n        context.type = type;\n        this.triggerRoute('type');\n        return;\n      } else {\n        return next();\n      }\n    }\n  }, {\n    key: 'entry',\n    value: function entry(context, next) {\n      var entry = void 0;\n      var doc = app.docs.findBySlug(context.params.doc);\n      if (!doc) {\n        return next();\n      }\n      var path = context.params.path;\n      var hash = context.hash;\n\n\n      if (entry = doc.findEntryByPathAndHash(path, hash)) {\n        context.doc = doc;\n        context.entry = entry;\n        this.triggerRoute('entry');\n        return;\n      } else if (path.slice(-6) === '/index') {\n        path = path.substr(0, path.length - 6);\n        if (entry = doc.findEntryByPathAndHash(path, hash)) {\n          return entry.fullPath();\n        }\n      } else {\n        path = path + '/index';\n        if (entry = doc.findEntryByPathAndHash(path, hash)) {\n          return entry.fullPath();\n        }\n      }\n\n      return next();\n    }\n  }, {\n    key: 'root',\n    value: function root() {\n      if (app.isSingleDoc()) {\n        return '/';\n      }\n      this.triggerRoute('root');\n    }\n  }, {\n    key: 'settings',\n    value: function settings(context) {\n      if (app.isSingleDoc()) {\n        return '/#/' + context.path;\n      }\n      this.triggerRoute('settings');\n    }\n  }, {\n    key: 'offline',\n    value: function offline(context) {\n      if (app.isSingleDoc()) {\n        return '/#/' + context.path;\n      }\n      this.triggerRoute('offline');\n    }\n  }, {\n    key: 'about',\n    value: function about(context) {\n      if (app.isSingleDoc()) {\n        return '/#/' + context.path;\n      }\n      context.page = 'about';\n      this.triggerRoute('page');\n    }\n  }, {\n    key: 'news',\n    value: function news(context) {\n      if (app.isSingleDoc()) {\n        return '/#/' + context.path;\n      }\n      context.page = 'news';\n      this.triggerRoute('page');\n    }\n  }, {\n    key: 'help',\n    value: function help(context) {\n      if (app.isSingleDoc()) {\n        return '/#/' + context.path;\n      }\n      context.page = 'help';\n      this.triggerRoute('page');\n    }\n  }, {\n    key: 'notFound',\n    value: function notFound(context) {\n      this.triggerRoute('notFound');\n    }\n  }, {\n    key: 'isIndex',\n    value: function isIndex() {\n      return (this.context != null ? this.context.path : undefined) === '/' || app.isSingleDoc() && this.context != null && this.context.entry != null && this.context.entry.isIndex();\n    }\n  }, {\n    key: 'setInitialPath',\n    value: function setInitialPath() {\n      // Remove superfluous forward slashes at the beginning of the path\n      var path = void 0;\n      if ((path = location.pathname.replace(/^\\/{2,}/g, '/')) !== location.pathname) {\n        page.replace(path + location.search + location.hash, null, true);\n      }\n\n      if (location.pathname === '/') {\n        if (path = this.getInitialPathFromHash()) {\n          page.replace(path + location.search, null, true);\n        } else if (path = this.getInitialPathFromCookie()) {\n          page.replace(path + location.search + location.hash, null, true);\n        }\n      }\n    }\n  }, {\n    key: 'getInitialPathFromHash',\n    value: function getInitialPathFromHash() {\n      try {\n        var regExp = new RegExp(\"#/(.+)\");\n        var res = regExp.exec(decodeURIComponent(location.hash));\n\n        if (res != null) {\n          return res[1];\n        }\n      } catch (error) {}\n    }\n  }, {\n    key: 'getInitialPathFromCookie',\n    value: function getInitialPathFromCookie() {\n      var path = void 0;\n      if (path = Cookies.get('initial_path')) {\n        Cookies.expire('initial_path');\n        return path;\n      }\n    }\n  }, {\n    key: 'replaceHash',\n    value: function replaceHash(hash) {\n      page.replace(location.pathname + location.search + (hash || ''), null, true);\n    }\n  }]);\n\n  return Router;\n}();\n\nRouter.routes = [['*', 'before'], ['/', 'root'], ['/settings', 'settings'], ['/offline', 'offline'], ['/about', 'about'], ['/news', 'news'], ['/help', 'help'], ['/:doc-:type/', 'type'], ['/:doc/', 'doc'], ['/:doc/:path(*)', 'entry'], ['*', 'notFound']];\nexports.default = Router;\n\n$.extend(undefined.prototype, Events);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvamF2YXNjcmlwdHMvYXBwL3JvdXRlci5qcz82YzRkIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9zbGljZWRUb0FycmF5ID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9IHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgcmV0dXJuIGFycjsgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpIHsgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTsgfSBlbHNlIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH0gfTsgfSgpO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgUm91dGVyID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBSb3V0ZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJvdXRlcik7XG5cbiAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHRoaXMuY29uc3RydWN0b3Iucm91dGVzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICB2YXIgX3JlZiA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpO1xuXG4gICAgICAgIHZhciBwYXRoID0gX3JlZjJbMF07XG4gICAgICAgIHZhciBtZXRob2QgPSBfcmVmMlsxXTtcblxuICAgICAgICBwYWdlKHBhdGgsIHRoaXNbbWV0aG9kXS5iaW5kKHRoaXMpKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnNldEluaXRpYWxQYXRoKCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUm91dGVyLCBbe1xuICAgIGtleTogJ3N0YXJ0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICBwYWdlLnN0YXJ0KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2hvdycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNob3cocGF0aCkge1xuICAgICAgcGFnZS5zaG93KHBhdGgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3RyaWdnZXJSb3V0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRyaWdnZXJSb3V0ZShuYW1lKSB7XG4gICAgICB0aGlzLnRyaWdnZXIobmFtZSwgdGhpcy5jb250ZXh0KTtcbiAgICAgIHRoaXMudHJpZ2dlcignYWZ0ZXInLCBuYW1lLCB0aGlzLmNvbnRleHQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2JlZm9yZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGJlZm9yZShjb250ZXh0LCBuZXh0KSB7XG4gICAgICB2YXIgcmVzID0gdm9pZCAwO1xuICAgICAgdmFyIHByZXZpb3VzQ29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICB0aGlzLnRyaWdnZXIoJ2JlZm9yZScsIGNvbnRleHQpO1xuXG4gICAgICBpZiAocmVzID0gbmV4dCgpKSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IHByZXZpb3VzQ29udGV4dDtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkb2MnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkb2MoY29udGV4dCwgbmV4dCkge1xuICAgICAgdmFyIGRvYyA9IHZvaWQgMDtcbiAgICAgIGlmIChkb2MgPSBhcHAuZG9jcy5maW5kQnlTbHVnKGNvbnRleHQucGFyYW1zLmRvYykgfHwgYXBwLmRpc2FibGVkRG9jcy5maW5kQnlTbHVnKGNvbnRleHQucGFyYW1zLmRvYykpIHtcbiAgICAgICAgY29udGV4dC5kb2MgPSBkb2M7XG4gICAgICAgIGNvbnRleHQuZW50cnkgPSBkb2MudG9FbnRyeSgpO1xuICAgICAgICB0aGlzLnRyaWdnZXJSb3V0ZSgnZW50cnknKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICd0eXBlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdHlwZShjb250ZXh0LCBuZXh0KSB7XG4gICAgICB2YXIgdHlwZSA9IHZvaWQgMDtcbiAgICAgIHZhciBkb2MgPSBhcHAuZG9jcy5maW5kQnlTbHVnKGNvbnRleHQucGFyYW1zLmRvYyk7XG5cbiAgICAgIGlmICh0eXBlID0gZG9jICE9IG51bGwgPyBkb2MudHlwZXMuZmluZEJ5KCdzbHVnJywgY29udGV4dC5wYXJhbXMudHlwZSkgOiB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGV4dC5kb2MgPSBkb2M7XG4gICAgICAgIGNvbnRleHQudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMudHJpZ2dlclJvdXRlKCd0eXBlJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZW50cnknLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbnRyeShjb250ZXh0LCBuZXh0KSB7XG4gICAgICB2YXIgZW50cnkgPSB2b2lkIDA7XG4gICAgICB2YXIgZG9jID0gYXBwLmRvY3MuZmluZEJ5U2x1Zyhjb250ZXh0LnBhcmFtcy5kb2MpO1xuICAgICAgaWYgKCFkb2MpIHtcbiAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICAgIH1cbiAgICAgIHZhciBwYXRoID0gY29udGV4dC5wYXJhbXMucGF0aDtcbiAgICAgIHZhciBoYXNoID0gY29udGV4dC5oYXNoO1xuXG5cbiAgICAgIGlmIChlbnRyeSA9IGRvYy5maW5kRW50cnlCeVBhdGhBbmRIYXNoKHBhdGgsIGhhc2gpKSB7XG4gICAgICAgIGNvbnRleHQuZG9jID0gZG9jO1xuICAgICAgICBjb250ZXh0LmVudHJ5ID0gZW50cnk7XG4gICAgICAgIHRoaXMudHJpZ2dlclJvdXRlKCdlbnRyeScpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKHBhdGguc2xpY2UoLTYpID09PSAnL2luZGV4Jykge1xuICAgICAgICBwYXRoID0gcGF0aC5zdWJzdHIoMCwgcGF0aC5sZW5ndGggLSA2KTtcbiAgICAgICAgaWYgKGVudHJ5ID0gZG9jLmZpbmRFbnRyeUJ5UGF0aEFuZEhhc2gocGF0aCwgaGFzaCkpIHtcbiAgICAgICAgICByZXR1cm4gZW50cnkuZnVsbFBhdGgoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGF0aCA9IHBhdGggKyAnL2luZGV4JztcbiAgICAgICAgaWYgKGVudHJ5ID0gZG9jLmZpbmRFbnRyeUJ5UGF0aEFuZEhhc2gocGF0aCwgaGFzaCkpIHtcbiAgICAgICAgICByZXR1cm4gZW50cnkuZnVsbFBhdGgoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV4dCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3Jvb3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByb290KCkge1xuICAgICAgaWYgKGFwcC5pc1NpbmdsZURvYygpKSB7XG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgICB9XG4gICAgICB0aGlzLnRyaWdnZXJSb3V0ZSgncm9vdCcpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NldHRpbmdzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0dGluZ3MoY29udGV4dCkge1xuICAgICAgaWYgKGFwcC5pc1NpbmdsZURvYygpKSB7XG4gICAgICAgIHJldHVybiAnLyMvJyArIGNvbnRleHQucGF0aDtcbiAgICAgIH1cbiAgICAgIHRoaXMudHJpZ2dlclJvdXRlKCdzZXR0aW5ncycpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29mZmxpbmUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvZmZsaW5lKGNvbnRleHQpIHtcbiAgICAgIGlmIChhcHAuaXNTaW5nbGVEb2MoKSkge1xuICAgICAgICByZXR1cm4gJy8jLycgKyBjb250ZXh0LnBhdGg7XG4gICAgICB9XG4gICAgICB0aGlzLnRyaWdnZXJSb3V0ZSgnb2ZmbGluZScpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Fib3V0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWJvdXQoY29udGV4dCkge1xuICAgICAgaWYgKGFwcC5pc1NpbmdsZURvYygpKSB7XG4gICAgICAgIHJldHVybiAnLyMvJyArIGNvbnRleHQucGF0aDtcbiAgICAgIH1cbiAgICAgIGNvbnRleHQucGFnZSA9ICdhYm91dCc7XG4gICAgICB0aGlzLnRyaWdnZXJSb3V0ZSgncGFnZScpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ25ld3MnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBuZXdzKGNvbnRleHQpIHtcbiAgICAgIGlmIChhcHAuaXNTaW5nbGVEb2MoKSkge1xuICAgICAgICByZXR1cm4gJy8jLycgKyBjb250ZXh0LnBhdGg7XG4gICAgICB9XG4gICAgICBjb250ZXh0LnBhZ2UgPSAnbmV3cyc7XG4gICAgICB0aGlzLnRyaWdnZXJSb3V0ZSgncGFnZScpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hlbHAnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoZWxwKGNvbnRleHQpIHtcbiAgICAgIGlmIChhcHAuaXNTaW5nbGVEb2MoKSkge1xuICAgICAgICByZXR1cm4gJy8jLycgKyBjb250ZXh0LnBhdGg7XG4gICAgICB9XG4gICAgICBjb250ZXh0LnBhZ2UgPSAnaGVscCc7XG4gICAgICB0aGlzLnRyaWdnZXJSb3V0ZSgncGFnZScpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ25vdEZvdW5kJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gbm90Rm91bmQoY29udGV4dCkge1xuICAgICAgdGhpcy50cmlnZ2VyUm91dGUoJ25vdEZvdW5kJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaXNJbmRleCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzSW5kZXgoKSB7XG4gICAgICByZXR1cm4gKHRoaXMuY29udGV4dCAhPSBudWxsID8gdGhpcy5jb250ZXh0LnBhdGggOiB1bmRlZmluZWQpID09PSAnLycgfHwgYXBwLmlzU2luZ2xlRG9jKCkgJiYgdGhpcy5jb250ZXh0ICE9IG51bGwgJiYgdGhpcy5jb250ZXh0LmVudHJ5ICE9IG51bGwgJiYgdGhpcy5jb250ZXh0LmVudHJ5LmlzSW5kZXgoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZXRJbml0aWFsUGF0aCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEluaXRpYWxQYXRoKCkge1xuICAgICAgLy8gUmVtb3ZlIHN1cGVyZmx1b3VzIGZvcndhcmQgc2xhc2hlcyBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBwYXRoXG4gICAgICB2YXIgcGF0aCA9IHZvaWQgMDtcbiAgICAgIGlmICgocGF0aCA9IGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL15cXC97Mix9L2csICcvJykpICE9PSBsb2NhdGlvbi5wYXRobmFtZSkge1xuICAgICAgICBwYWdlLnJlcGxhY2UocGF0aCArIGxvY2F0aW9uLnNlYXJjaCArIGxvY2F0aW9uLmhhc2gsIG51bGwsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09ICcvJykge1xuICAgICAgICBpZiAocGF0aCA9IHRoaXMuZ2V0SW5pdGlhbFBhdGhGcm9tSGFzaCgpKSB7XG4gICAgICAgICAgcGFnZS5yZXBsYWNlKHBhdGggKyBsb2NhdGlvbi5zZWFyY2gsIG51bGwsIHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKHBhdGggPSB0aGlzLmdldEluaXRpYWxQYXRoRnJvbUNvb2tpZSgpKSB7XG4gICAgICAgICAgcGFnZS5yZXBsYWNlKHBhdGggKyBsb2NhdGlvbi5zZWFyY2ggKyBsb2NhdGlvbi5oYXNoLCBudWxsLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldEluaXRpYWxQYXRoRnJvbUhhc2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbml0aWFsUGF0aEZyb21IYXNoKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHJlZ0V4cCA9IG5ldyBSZWdFeHAoXCIjLyguKylcIik7XG4gICAgICAgIHZhciByZXMgPSByZWdFeHAuZXhlYyhkZWNvZGVVUklDb21wb25lbnQobG9jYXRpb24uaGFzaCkpO1xuXG4gICAgICAgIGlmIChyZXMgIT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiByZXNbMV07XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7fVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldEluaXRpYWxQYXRoRnJvbUNvb2tpZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEluaXRpYWxQYXRoRnJvbUNvb2tpZSgpIHtcbiAgICAgIHZhciBwYXRoID0gdm9pZCAwO1xuICAgICAgaWYgKHBhdGggPSBDb29raWVzLmdldCgnaW5pdGlhbF9wYXRoJykpIHtcbiAgICAgICAgQ29va2llcy5leHBpcmUoJ2luaXRpYWxfcGF0aCcpO1xuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZXBsYWNlSGFzaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlcGxhY2VIYXNoKGhhc2gpIHtcbiAgICAgIHBhZ2UucmVwbGFjZShsb2NhdGlvbi5wYXRobmFtZSArIGxvY2F0aW9uLnNlYXJjaCArIChoYXNoIHx8ICcnKSwgbnVsbCwgdHJ1ZSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFJvdXRlcjtcbn0oKTtcblxuUm91dGVyLnJvdXRlcyA9IFtbJyonLCAnYmVmb3JlJ10sIFsnLycsICdyb290J10sIFsnL3NldHRpbmdzJywgJ3NldHRpbmdzJ10sIFsnL29mZmxpbmUnLCAnb2ZmbGluZSddLCBbJy9hYm91dCcsICdhYm91dCddLCBbJy9uZXdzJywgJ25ld3MnXSwgWycvaGVscCcsICdoZWxwJ10sIFsnLzpkb2MtOnR5cGUvJywgJ3R5cGUnXSwgWycvOmRvYy8nLCAnZG9jJ10sIFsnLzpkb2MvOnBhdGgoKiknLCAnZW50cnknXSwgWycqJywgJ25vdEZvdW5kJ11dO1xuZXhwb3J0cy5kZWZhdWx0ID0gUm91dGVyO1xuXG4kLmV4dGVuZCh1bmRlZmluZWQucHJvdG90eXBlLCBFdmVudHMpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXNzZXRzL2phdmFzY3JpcHRzL2FwcC9yb3V0ZXIuanNcbi8vIG1vZHVsZSBpZCA9IDE0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///14\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _view = __webpack_require__(0);\n\nvar _view2 = _interopRequireDefault(_view);\n\nvar _mobile = __webpack_require__(2);\n\nvar _mobile2 = _interopRequireDefault(_mobile);\n\nvar _settings = __webpack_require__(16);\n\nvar _settings2 = _interopRequireDefault(_settings);\n\nvar _menu = __webpack_require__(17);\n\nvar _menu2 = _interopRequireDefault(_menu);\n\nvar _sidebar = __webpack_require__(18);\n\nvar _sidebar2 = _interopRequireDefault(_sidebar);\n\nvar _resizer = __webpack_require__(24);\n\nvar _resizer2 = _interopRequireDefault(_resizer);\n\nvar _content = __webpack_require__(25);\n\nvar _content2 = _interopRequireDefault(_content);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Document = function (_View) {\n  _inherits(Document, _View);\n\n  function Document() {\n    var _ref;\n\n    _classCallCheck(this, Document);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var _this = _possibleConstructorReturn(this, (_ref = Document.__proto__ || Object.getPrototypeOf(Document)).call.apply(_ref, [this].concat(args)));\n\n    _this.afterRoute = _this.afterRoute.bind(_this);\n    _this.onVisibilityChange = _this.onVisibilityChange.bind(_this);\n\n    _this.addSubview(_this.menu = new _menu2.default(), _this.addSubview(_this.sidebar = new _sidebar2.default()));\n\n    if (_resizer2.default.isSupported()) {\n      _this.addSubview(_this.resizer = new _resizer2.default());\n    }\n    _this.addSubview(_this.content = new _content2.default());\n    if (!app.isSingleDoc() && !app.isMobile()) {\n      _this.addSubview(_this.path = new Path());\n    }\n    if (!app.isSingleDoc()) {\n      _this.settings = new _settings2.default();\n    }\n\n    $.on(document.body, 'click', _this.onClick);\n\n    _this.activate();\n    return _this;\n  }\n\n  _createClass(Document, [{\n    key: 'setTitle',\n    value: function setTitle(title) {\n      return this.el.title = title ? title + ' \\u2014 DevDocs' : 'DevDocs API Documentation';\n    }\n  }, {\n    key: 'afterRoute',\n    value: function afterRoute(route) {\n      if (route === 'settings') {\n        if (this.settings != null) {\n          this.settings.activate();\n        }\n      } else {\n        if (this.settings != null) {\n          this.settings.deactivate();\n        }\n      }\n    }\n  }, {\n    key: 'onVisibilityChange',\n    value: function onVisibilityChange() {\n      if (this.el.visibilityState !== 'visible') {\n        return;\n      }\n      this.delay(function () {\n        if (app.isMobile() !== _mobile2.default.detect()) {\n          location.reload();\n        }\n      }, 300);\n    }\n  }, {\n    key: 'onHelp',\n    value: function onHelp() {\n      app.router.show('/help#shortcuts');\n    }\n  }, {\n    key: 'onPreferences',\n    value: function onPreferences() {\n      app.router.show('/settings');\n    }\n  }, {\n    key: 'onEscape',\n    value: function onEscape() {\n      var path = !app.isSingleDoc() || location.pathname === app.doc.fullPath() ? '/' : app.doc.fullPath();\n\n      app.router.show(path);\n    }\n  }, {\n    key: 'onBack',\n    value: function onBack() {\n      history.back();\n    }\n  }, {\n    key: 'onForward',\n    value: function onForward() {\n      history.forward();\n    }\n  }, {\n    key: 'onClick',\n    value: function onClick(event) {\n      var target = $.eventTarget(event);\n      if (!target.hasAttribute('data-behavior')) {\n        return;\n      }\n      $.stopEvent(event);\n      switch (target.getAttribute('data-behavior')) {\n        case 'back':\n          history.back();\n          break;\n        case 'reload':\n          window.location.reload();\n          break;\n        case 'reboot':\n          window.location = '/';\n          break;\n        case 'hard-reload':\n          app.reload();\n          break;\n        case 'reset':\n          if (confirm('Are you sure you want to reset DevDocs?')) {\n            app.reset();\n          }\n          break;\n      }\n    }\n  }]);\n\n  return Document;\n}(_view2.default);\n\nDocument.el = document;\nDocument.events = {\n  visibilitychange: 'onVisibilityChange'\n};\nDocument.shortcuts = {\n  help: 'onHelp',\n  preferences: 'onPreferences',\n  escape: 'onEscape',\n  superLeft: 'onBack',\n  superRight: 'onForward'\n};\nDocument.routes = {\n  after: 'afterRoute'\n};\nexports.default = Document;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvamF2YXNjcmlwdHMvdmlld3MvbGF5b3V0L2RvY3VtZW50LmpzPzA3NWYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3ZpZXcgPSByZXF1aXJlKCcuLi92aWV3Jyk7XG5cbnZhciBfdmlldzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF92aWV3KTtcblxudmFyIF9tb2JpbGUgPSByZXF1aXJlKCcuL21vYmlsZScpO1xuXG52YXIgX21vYmlsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb2JpbGUpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxudmFyIF9tZW51ID0gcmVxdWlyZSgnLi9tZW51Jyk7XG5cbnZhciBfbWVudTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tZW51KTtcblxudmFyIF9zaWRlYmFyID0gcmVxdWlyZSgnLi4vc2lkZWJhci9zaWRlYmFyJyk7XG5cbnZhciBfc2lkZWJhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaWRlYmFyKTtcblxudmFyIF9yZXNpemVyID0gcmVxdWlyZSgnLi9yZXNpemVyJyk7XG5cbnZhciBfcmVzaXplcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZXNpemVyKTtcblxudmFyIF9jb250ZW50ID0gcmVxdWlyZSgnLi4vY29udGVudC9jb250ZW50Jyk7XG5cbnZhciBfY29udGVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb250ZW50KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgRG9jdW1lbnQgPSBmdW5jdGlvbiAoX1ZpZXcpIHtcbiAgX2luaGVyaXRzKERvY3VtZW50LCBfVmlldyk7XG5cbiAgZnVuY3Rpb24gRG9jdW1lbnQoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRG9jdW1lbnQpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9yZWYgPSBEb2N1bWVudC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKERvY3VtZW50KSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSk7XG5cbiAgICBfdGhpcy5hZnRlclJvdXRlID0gX3RoaXMuYWZ0ZXJSb3V0ZS5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vblZpc2liaWxpdHlDaGFuZ2UgPSBfdGhpcy5vblZpc2liaWxpdHlDaGFuZ2UuYmluZChfdGhpcyk7XG5cbiAgICBfdGhpcy5hZGRTdWJ2aWV3KF90aGlzLm1lbnUgPSBuZXcgX21lbnUyLmRlZmF1bHQoKSwgX3RoaXMuYWRkU3VidmlldyhfdGhpcy5zaWRlYmFyID0gbmV3IF9zaWRlYmFyMi5kZWZhdWx0KCkpKTtcblxuICAgIGlmIChfcmVzaXplcjIuZGVmYXVsdC5pc1N1cHBvcnRlZCgpKSB7XG4gICAgICBfdGhpcy5hZGRTdWJ2aWV3KF90aGlzLnJlc2l6ZXIgPSBuZXcgX3Jlc2l6ZXIyLmRlZmF1bHQoKSk7XG4gICAgfVxuICAgIF90aGlzLmFkZFN1YnZpZXcoX3RoaXMuY29udGVudCA9IG5ldyBfY29udGVudDIuZGVmYXVsdCgpKTtcbiAgICBpZiAoIWFwcC5pc1NpbmdsZURvYygpICYmICFhcHAuaXNNb2JpbGUoKSkge1xuICAgICAgX3RoaXMuYWRkU3VidmlldyhfdGhpcy5wYXRoID0gbmV3IFBhdGgoKSk7XG4gICAgfVxuICAgIGlmICghYXBwLmlzU2luZ2xlRG9jKCkpIHtcbiAgICAgIF90aGlzLnNldHRpbmdzID0gbmV3IF9zZXR0aW5nczIuZGVmYXVsdCgpO1xuICAgIH1cblxuICAgICQub24oZG9jdW1lbnQuYm9keSwgJ2NsaWNrJywgX3RoaXMub25DbGljayk7XG5cbiAgICBfdGhpcy5hY3RpdmF0ZSgpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhEb2N1bWVudCwgW3tcbiAgICBrZXk6ICdzZXRUaXRsZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFRpdGxlKHRpdGxlKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbC50aXRsZSA9IHRpdGxlID8gdGl0bGUgKyAnIFxcdTIwMTQgRGV2RG9jcycgOiAnRGV2RG9jcyBBUEkgRG9jdW1lbnRhdGlvbic7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnYWZ0ZXJSb3V0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFmdGVyUm91dGUocm91dGUpIHtcbiAgICAgIGlmIChyb3V0ZSA9PT0gJ3NldHRpbmdzJykge1xuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncyAhPSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5zZXR0aW5ncy5hY3RpdmF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncyAhPSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5zZXR0aW5ncy5kZWFjdGl2YXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvblZpc2liaWxpdHlDaGFuZ2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblZpc2liaWxpdHlDaGFuZ2UoKSB7XG4gICAgICBpZiAodGhpcy5lbC52aXNpYmlsaXR5U3RhdGUgIT09ICd2aXNpYmxlJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmRlbGF5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGFwcC5pc01vYmlsZSgpICE9PSBfbW9iaWxlMi5kZWZhdWx0LmRldGVjdCgpKSB7XG4gICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDMwMCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25IZWxwJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25IZWxwKCkge1xuICAgICAgYXBwLnJvdXRlci5zaG93KCcvaGVscCNzaG9ydGN1dHMnKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvblByZWZlcmVuY2VzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25QcmVmZXJlbmNlcygpIHtcbiAgICAgIGFwcC5yb3V0ZXIuc2hvdygnL3NldHRpbmdzJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25Fc2NhcGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkVzY2FwZSgpIHtcbiAgICAgIHZhciBwYXRoID0gIWFwcC5pc1NpbmdsZURvYygpIHx8IGxvY2F0aW9uLnBhdGhuYW1lID09PSBhcHAuZG9jLmZ1bGxQYXRoKCkgPyAnLycgOiBhcHAuZG9jLmZ1bGxQYXRoKCk7XG5cbiAgICAgIGFwcC5yb3V0ZXIuc2hvdyhwYXRoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbkJhY2snLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkJhY2soKSB7XG4gICAgICBoaXN0b3J5LmJhY2soKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbkZvcndhcmQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkZvcndhcmQoKSB7XG4gICAgICBoaXN0b3J5LmZvcndhcmQoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbkNsaWNrJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25DbGljayhldmVudCkge1xuICAgICAgdmFyIHRhcmdldCA9ICQuZXZlbnRUYXJnZXQoZXZlbnQpO1xuICAgICAgaWYgKCF0YXJnZXQuaGFzQXR0cmlidXRlKCdkYXRhLWJlaGF2aW9yJykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgJC5zdG9wRXZlbnQoZXZlbnQpO1xuICAgICAgc3dpdGNoICh0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWJlaGF2aW9yJykpIHtcbiAgICAgICAgY2FzZSAnYmFjayc6XG4gICAgICAgICAgaGlzdG9yeS5iYWNrKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3JlbG9hZCc6XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdyZWJvb3QnOlxuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9ICcvJztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaGFyZC1yZWxvYWQnOlxuICAgICAgICAgIGFwcC5yZWxvYWQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncmVzZXQnOlxuICAgICAgICAgIGlmIChjb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVzZXQgRGV2RG9jcz8nKSkge1xuICAgICAgICAgICAgYXBwLnJlc2V0KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBEb2N1bWVudDtcbn0oX3ZpZXcyLmRlZmF1bHQpO1xuXG5Eb2N1bWVudC5lbCA9IGRvY3VtZW50O1xuRG9jdW1lbnQuZXZlbnRzID0ge1xuICB2aXNpYmlsaXR5Y2hhbmdlOiAnb25WaXNpYmlsaXR5Q2hhbmdlJ1xufTtcbkRvY3VtZW50LnNob3J0Y3V0cyA9IHtcbiAgaGVscDogJ29uSGVscCcsXG4gIHByZWZlcmVuY2VzOiAnb25QcmVmZXJlbmNlcycsXG4gIGVzY2FwZTogJ29uRXNjYXBlJyxcbiAgc3VwZXJMZWZ0OiAnb25CYWNrJyxcbiAgc3VwZXJSaWdodDogJ29uRm9yd2FyZCdcbn07XG5Eb2N1bWVudC5yb3V0ZXMgPSB7XG4gIGFmdGVyOiAnYWZ0ZXJSb3V0ZSdcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBEb2N1bWVudDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Fzc2V0cy9qYXZhc2NyaXB0cy92aWV3cy9sYXlvdXQvZG9jdW1lbnQuanNcbi8vIG1vZHVsZSBpZCA9IDE1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///15\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _view = __webpack_require__(0);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Settings = function (_View) {\n  _inherits(Settings, _View);\n\n  function Settings() {\n    var _ref;\n\n    _classCallCheck(this, Settings);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var _this = _possibleConstructorReturn(this, (_ref = Settings.__proto__ || Object.getPrototypeOf(Settings)).call.apply(_ref, [this].concat(args)));\n\n    _this.onChange = _this.onChange.bind(_this);\n    _this.onEnter = _this.onEnter.bind(_this);\n    _this.onSubmit = _this.onSubmit.bind(_this);\n    _this.onImport = _this.onImport.bind(_this);\n    _this.onClick = _this.onClick.bind(_this);\n    _this.onAppCacheProgress = _this.onAppCacheProgress.bind(_this);\n\n    _this.addSubview(_this.docPicker = new app.views.DocPicker());\n    return _this;\n  }\n\n  _createClass(Settings, [{\n    key: 'activate',\n    value: function activate() {\n      if (_get(Settings.prototype.__proto__ || Object.getPrototypeOf(Settings.prototype), 'activate', this).apply(this, arguments)) {\n        this.render();\n        document.body.classList.remove(SIDEBAR_HIDDEN_LAYOUT);\n        if (app.appCache != null) {\n          app.appCache.on('progress', this.onAppCacheProgress);\n        }\n      }\n    }\n  }, {\n    key: 'deactivate',\n    value: function deactivate() {\n      if (_get(Settings.prototype.__proto__ || Object.getPrototypeOf(Settings.prototype), 'deactivate', this).apply(this, arguments)) {\n        this.resetClass();\n        this.docPicker.detach();\n        if (app.settings.hasLayout(SIDEBAR_HIDDEN_LAYOUT)) {\n          document.body.classList.add(SIDEBAR_HIDDEN_LAYOUT);\n        }\n        if (app.appCache != null) {\n          app.appCache.off('progress', this.onAppCacheProgress);\n        }\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      this.docPicker.appendTo(this.sidebar);\n      this.refreshElements();\n      this.addClass('_in');\n    }\n  }, {\n    key: 'save',\n    value: function save(options) {\n      if (options == null) {\n        options = {};\n      }\n      if (!this.saving) {\n        var docs = void 0;\n        this.saving = true;\n\n        if (options.import) {\n          docs = app.settings.getDocs();\n        } else {\n          docs = this.docPicker.getSelectedDocs();\n          app.settings.setDocs(docs);\n        }\n\n        this.saveBtn.textContent = app.appCache ? 'Downloading\\u2026' : 'Saving\\u2026';\n        var disabledDocs = new app.collections.Docs(function () {\n          var result = [];\n          var _iteratorNormalCompletion = true;\n          var _didIteratorError = false;\n          var _iteratorError = undefined;\n\n          try {\n            for (var _iterator = app.docs.all()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n              var doc = _step.value;\n\n              if (docs.indexOf(doc.slug) === -1) {\n                result.push(doc);\n              }\n            }\n          } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n              }\n            } finally {\n              if (_didIteratorError) {\n                throw _iteratorError;\n              }\n            }\n          }\n\n          return result;\n        }());\n        disabledDocs.uninstall(function () {\n          app.db.migrate();\n          return app.reload();\n        });\n      }\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange() {\n      this.addClass('_dirty');\n    }\n  }, {\n    key: 'onEnter',\n    value: function onEnter() {\n      this.save();\n    }\n  }, {\n    key: 'onSubmit',\n    value: function onSubmit(event) {\n      event.preventDefault();\n      this.save();\n    }\n  }, {\n    key: 'onImport',\n    value: function onImport() {\n      this.addClass('_dirty');\n      this.save({\n        import: true\n      });\n    }\n  }, {\n    key: 'onClick',\n    value: function onClick(event) {\n      if (event.which !== 1) {\n        return;\n      }\n      if (event.target === this.backBtn) {\n        $.stopEvent(event);\n        app.router.show('/');\n      }\n    }\n  }, {\n    key: 'onAppCacheProgress',\n    value: function onAppCacheProgress(event) {\n      if (event.lengthComputable) {\n        var percentage = Math.round(event.loaded * 100 / event.total);\n        this.saveBtn.textContent = 'Downloading\\u2026 (' + percentage + '%)';\n      }\n    }\n  }]);\n\n  return Settings;\n}(_view2.default);\n\nSettings.SIDEBAR_HIDDEN_LAYOUT = '_sidebar-hidden';\nSettings.el = '._settings';\nSettings.elements = {\n  sidebar: '._sidebar',\n  saveBtn: 'button[type=\"submit\"]',\n  backBtn: 'button[data-back]'\n};\nSettings.events = {\n  import: 'onImport',\n  change: 'onChange',\n  submit: 'onSubmit',\n  click: 'onClick'\n};\nSettings.shortcuts = {\n  enter: 'onEnter'\n};\nexports.default = Settings;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvamF2YXNjcmlwdHMvdmlld3MvbGF5b3V0L3NldHRpbmdzLmpzPzI0NWEiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2dldCA9IGZ1bmN0aW9uIGdldChvYmplY3QsIHByb3BlcnR5LCByZWNlaXZlcikgeyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgcmV0dXJuIGdldChwYXJlbnQsIHByb3BlcnR5LCByZWNlaXZlcik7IH0gfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH07XG5cbnZhciBfdmlldyA9IHJlcXVpcmUoJy4uL3ZpZXcnKTtcblxudmFyIF92aWV3MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ZpZXcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBTZXR0aW5ncyA9IGZ1bmN0aW9uIChfVmlldykge1xuICBfaW5oZXJpdHMoU2V0dGluZ3MsIF9WaWV3KTtcblxuICBmdW5jdGlvbiBTZXR0aW5ncygpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZXR0aW5ncyk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoX3JlZiA9IFNldHRpbmdzLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2V0dGluZ3MpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKTtcblxuICAgIF90aGlzLm9uQ2hhbmdlID0gX3RoaXMub25DaGFuZ2UuYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25FbnRlciA9IF90aGlzLm9uRW50ZXIuYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25TdWJtaXQgPSBfdGhpcy5vblN1Ym1pdC5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vbkltcG9ydCA9IF90aGlzLm9uSW1wb3J0LmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uQ2xpY2sgPSBfdGhpcy5vbkNsaWNrLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uQXBwQ2FjaGVQcm9ncmVzcyA9IF90aGlzLm9uQXBwQ2FjaGVQcm9ncmVzcy5iaW5kKF90aGlzKTtcblxuICAgIF90aGlzLmFkZFN1YnZpZXcoX3RoaXMuZG9jUGlja2VyID0gbmV3IGFwcC52aWV3cy5Eb2NQaWNrZXIoKSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFNldHRpbmdzLCBbe1xuICAgIGtleTogJ2FjdGl2YXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICBpZiAoX2dldChTZXR0aW5ncy5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihTZXR0aW5ncy5wcm90b3R5cGUpLCAnYWN0aXZhdGUnLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSB7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShTSURFQkFSX0hJRERFTl9MQVlPVVQpO1xuICAgICAgICBpZiAoYXBwLmFwcENhY2hlICE9IG51bGwpIHtcbiAgICAgICAgICBhcHAuYXBwQ2FjaGUub24oJ3Byb2dyZXNzJywgdGhpcy5vbkFwcENhY2hlUHJvZ3Jlc3MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGVhY3RpdmF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlYWN0aXZhdGUoKSB7XG4gICAgICBpZiAoX2dldChTZXR0aW5ncy5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihTZXR0aW5ncy5wcm90b3R5cGUpLCAnZGVhY3RpdmF0ZScsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpIHtcbiAgICAgICAgdGhpcy5yZXNldENsYXNzKCk7XG4gICAgICAgIHRoaXMuZG9jUGlja2VyLmRldGFjaCgpO1xuICAgICAgICBpZiAoYXBwLnNldHRpbmdzLmhhc0xheW91dChTSURFQkFSX0hJRERFTl9MQVlPVVQpKSB7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFNJREVCQVJfSElEREVOX0xBWU9VVCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFwcC5hcHBDYWNoZSAhPSBudWxsKSB7XG4gICAgICAgICAgYXBwLmFwcENhY2hlLm9mZigncHJvZ3Jlc3MnLCB0aGlzLm9uQXBwQ2FjaGVQcm9ncmVzcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB0aGlzLmRvY1BpY2tlci5hcHBlbmRUbyh0aGlzLnNpZGViYXIpO1xuICAgICAgdGhpcy5yZWZyZXNoRWxlbWVudHMoKTtcbiAgICAgIHRoaXMuYWRkQ2xhc3MoJ19pbicpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NhdmUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlKG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zID09IG51bGwpIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLnNhdmluZykge1xuICAgICAgICB2YXIgZG9jcyA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5zYXZpbmcgPSB0cnVlO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmltcG9ydCkge1xuICAgICAgICAgIGRvY3MgPSBhcHAuc2V0dGluZ3MuZ2V0RG9jcygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRvY3MgPSB0aGlzLmRvY1BpY2tlci5nZXRTZWxlY3RlZERvY3MoKTtcbiAgICAgICAgICBhcHAuc2V0dGluZ3Muc2V0RG9jcyhkb2NzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2F2ZUJ0bi50ZXh0Q29udGVudCA9IGFwcC5hcHBDYWNoZSA/ICdEb3dubG9hZGluZ1xcdTIwMjYnIDogJ1NhdmluZ1xcdTIwMjYnO1xuICAgICAgICB2YXIgZGlzYWJsZWREb2NzID0gbmV3IGFwcC5jb2xsZWN0aW9ucy5Eb2NzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBhcHAuZG9jcy5hbGwoKVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgdmFyIGRvYyA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgIGlmIChkb2NzLmluZGV4T2YoZG9jLnNsdWcpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGRvYyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9KCkpO1xuICAgICAgICBkaXNhYmxlZERvY3MudW5pbnN0YWxsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBhcHAuZGIubWlncmF0ZSgpO1xuICAgICAgICAgIHJldHVybiBhcHAucmVsb2FkKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uQ2hhbmdlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25DaGFuZ2UoKSB7XG4gICAgICB0aGlzLmFkZENsYXNzKCdfZGlydHknKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbkVudGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25FbnRlcigpIHtcbiAgICAgIHRoaXMuc2F2ZSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uU3VibWl0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25TdWJtaXQoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLnNhdmUoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbkltcG9ydCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uSW1wb3J0KCkge1xuICAgICAgdGhpcy5hZGRDbGFzcygnX2RpcnR5Jyk7XG4gICAgICB0aGlzLnNhdmUoe1xuICAgICAgICBpbXBvcnQ6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uQ2xpY2snLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNsaWNrKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQud2hpY2ggIT09IDEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gdGhpcy5iYWNrQnRuKSB7XG4gICAgICAgICQuc3RvcEV2ZW50KGV2ZW50KTtcbiAgICAgICAgYXBwLnJvdXRlci5zaG93KCcvJyk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25BcHBDYWNoZVByb2dyZXNzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25BcHBDYWNoZVByb2dyZXNzKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQubGVuZ3RoQ29tcHV0YWJsZSkge1xuICAgICAgICB2YXIgcGVyY2VudGFnZSA9IE1hdGgucm91bmQoZXZlbnQubG9hZGVkICogMTAwIC8gZXZlbnQudG90YWwpO1xuICAgICAgICB0aGlzLnNhdmVCdG4udGV4dENvbnRlbnQgPSAnRG93bmxvYWRpbmdcXHUyMDI2ICgnICsgcGVyY2VudGFnZSArICclKSc7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFNldHRpbmdzO1xufShfdmlldzIuZGVmYXVsdCk7XG5cblNldHRpbmdzLlNJREVCQVJfSElEREVOX0xBWU9VVCA9ICdfc2lkZWJhci1oaWRkZW4nO1xuU2V0dGluZ3MuZWwgPSAnLl9zZXR0aW5ncyc7XG5TZXR0aW5ncy5lbGVtZW50cyA9IHtcbiAgc2lkZWJhcjogJy5fc2lkZWJhcicsXG4gIHNhdmVCdG46ICdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScsXG4gIGJhY2tCdG46ICdidXR0b25bZGF0YS1iYWNrXSdcbn07XG5TZXR0aW5ncy5ldmVudHMgPSB7XG4gIGltcG9ydDogJ29uSW1wb3J0JyxcbiAgY2hhbmdlOiAnb25DaGFuZ2UnLFxuICBzdWJtaXQ6ICdvblN1Ym1pdCcsXG4gIGNsaWNrOiAnb25DbGljaydcbn07XG5TZXR0aW5ncy5zaG9ydGN1dHMgPSB7XG4gIGVudGVyOiAnb25FbnRlcidcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBTZXR0aW5ncztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Fzc2V0cy9qYXZhc2NyaXB0cy92aWV3cy9sYXlvdXQvc2V0dGluZ3MuanNcbi8vIG1vZHVsZSBpZCA9IDE2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///16\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _view = __webpack_require__(0);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Menu = function (_View) {\n  _inherits(Menu, _View);\n\n  function Menu() {\n    var _ref;\n\n    _classCallCheck(this, Menu);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var _this = _possibleConstructorReturn(this, (_ref = Menu.__proto__ || Object.getPrototypeOf(Menu)).call.apply(_ref, [this].concat(args)));\n\n    _this.onGlobalClick = _this.onGlobalClick.bind(_this);\n    $.on(document.body, 'click', _this.onGlobalClick);\n    return _this;\n  }\n\n  _createClass(Menu, [{\n    key: 'onClick',\n    value: function onClick(event) {\n      var target = $.eventTarget(event);\n      if (target.tagName === 'A') {\n        target.blur();\n      }\n    }\n  }, {\n    key: 'onGlobalClick',\n    value: function onGlobalClick(event) {\n      if (event.which !== 1) {\n        return;\n      }\n      if (typeof event.target.hasAttribute === 'function' ? event.target.hasAttribute('data-toggle-menu') : undefined) {\n        this.toggleClass(this.constructor.activeClass);\n      } else if (this.hasClass(this.constructor.activeClass)) {\n        this.removeClass(this.constructor.activeClass);\n      }\n    }\n  }]);\n\n  return Menu;\n}(_view2.default);\n\nMenu.el = '._menu';\nMenu.activeClass = 'active';\nMenu.events = {\n  click: 'onClick'\n};\nexports.default = Menu;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvamF2YXNjcmlwdHMvdmlld3MvbGF5b3V0L21lbnUuanM/YjhmYyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfdmlldyA9IHJlcXVpcmUoJy4uL3ZpZXcnKTtcblxudmFyIF92aWV3MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ZpZXcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBNZW51ID0gZnVuY3Rpb24gKF9WaWV3KSB7XG4gIF9pbmhlcml0cyhNZW51LCBfVmlldyk7XG5cbiAgZnVuY3Rpb24gTWVudSgpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNZW51KTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfcmVmID0gTWVudS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKE1lbnUpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKTtcblxuICAgIF90aGlzLm9uR2xvYmFsQ2xpY2sgPSBfdGhpcy5vbkdsb2JhbENsaWNrLmJpbmQoX3RoaXMpO1xuICAgICQub24oZG9jdW1lbnQuYm9keSwgJ2NsaWNrJywgX3RoaXMub25HbG9iYWxDbGljayk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1lbnUsIFt7XG4gICAga2V5OiAnb25DbGljaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQpIHtcbiAgICAgIHZhciB0YXJnZXQgPSAkLmV2ZW50VGFyZ2V0KGV2ZW50KTtcbiAgICAgIGlmICh0YXJnZXQudGFnTmFtZSA9PT0gJ0EnKSB7XG4gICAgICAgIHRhcmdldC5ibHVyKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25HbG9iYWxDbGljaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uR2xvYmFsQ2xpY2soZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC53aGljaCAhPT0gMSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGV2ZW50LnRhcmdldC5oYXNBdHRyaWJ1dGUgPT09ICdmdW5jdGlvbicgPyBldmVudC50YXJnZXQuaGFzQXR0cmlidXRlKCdkYXRhLXRvZ2dsZS1tZW51JykgOiB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy50b2dnbGVDbGFzcyh0aGlzLmNvbnN0cnVjdG9yLmFjdGl2ZUNsYXNzKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5oYXNDbGFzcyh0aGlzLmNvbnN0cnVjdG9yLmFjdGl2ZUNsYXNzKSkge1xuICAgICAgICB0aGlzLnJlbW92ZUNsYXNzKHRoaXMuY29uc3RydWN0b3IuYWN0aXZlQ2xhc3MpO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNZW51O1xufShfdmlldzIuZGVmYXVsdCk7XG5cbk1lbnUuZWwgPSAnLl9tZW51Jztcbk1lbnUuYWN0aXZlQ2xhc3MgPSAnYWN0aXZlJztcbk1lbnUuZXZlbnRzID0ge1xuICBjbGljazogJ29uQ2xpY2snXG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gTWVudTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Fzc2V0cy9qYXZhc2NyaXB0cy92aWV3cy9sYXlvdXQvbWVudS5qc1xuLy8gbW9kdWxlIGlkID0gMTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///17\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _view = __webpack_require__(0);\n\nvar _view2 = _interopRequireDefault(_view);\n\nvar _search = __webpack_require__(19);\n\nvar _search2 = _interopRequireDefault(_search);\n\nvar _sidebar_hover = __webpack_require__(21);\n\nvar _sidebar_hover2 = _interopRequireDefault(_sidebar_hover);\n\nvar _results = __webpack_require__(22);\n\nvar _results2 = _interopRequireDefault(_results);\n\nvar _doc_list = __webpack_require__(23);\n\nvar _doc_list2 = _interopRequireDefault(_doc_list);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Sidebar = function (_View) {\n  _inherits(Sidebar, _View);\n\n  function Sidebar() {\n    var _ref;\n\n    _classCallCheck(this, Sidebar);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var _this = _possibleConstructorReturn(this, (_ref = Sidebar.__proto__ || Object.getPrototypeOf(Sidebar)).call.apply(_ref, [this].concat(args)));\n\n    _this.resetHoverOnMouseMove = _this.resetHoverOnMouseMove.bind(_this);\n    _this.resetHover = _this.resetHover.bind(_this);\n    _this.showResults = _this.showResults.bind(_this);\n    _this.onReady = _this.onReady.bind(_this);\n    _this.onScopeChange = _this.onScopeChange.bind(_this);\n    _this.onSearching = _this.onSearching.bind(_this);\n    _this.onSearchClear = _this.onSearchClear.bind(_this);\n    _this.onFocus = _this.onFocus.bind(_this);\n    _this.onSelect = _this.onSelect.bind(_this);\n    _this.onClick = _this.onClick.bind(_this);\n    _this.onAltR = _this.onAltR.bind(_this);\n    _this.onEscape = _this.onEscape.bind(_this);\n    _this.afterRoute = _this.afterRoute.bind(_this);\n\n    if (!app.isMobile()) {\n      _this.addSubview(_this.hover = new _sidebar_hover2.default(_this.el));\n    }\n    _this.addSubview(_this.search = new _search2.default());\n\n    _this.search.on('searching', _this.onSearching).on('clear', _this.onSearchClear).scope.on('change', _this.onScopeChange);\n\n    _this.results = new _results2.default(_this, _this.search);\n    _this.docList = new _doc_list2.default();\n\n    app.on('ready', _this.onReady);\n\n    $.on(document.documentElement, 'mouseleave', function (event) {\n      if (event.clientX < 10) {\n        return _this.display();\n      }\n    });\n    $.on(document.documentElement, 'mouseenter', function () {\n      return _this.resetDisplay({\n        forceNoHover: false\n      });\n    });\n    return _this;\n  }\n\n  _createClass(Sidebar, [{\n    key: 'display',\n    value: function display() {\n      this.addClass('show');\n    }\n  }, {\n    key: 'resetDisplay',\n    value: function resetDisplay(options) {\n      if (options == null) {\n        options = {};\n      }\n      if (!this.hasClass('show')) {\n        return;\n      }\n      this.removeClass('show');\n\n      if (options.forceNoHover !== false && !this.hasClass('no-hover')) {\n        this.addClass('no-hover');\n        $.on(window, 'mousemove', this.resetHoverOnMouseMove);\n      }\n    }\n  }, {\n    key: 'resetHoverOnMouseMove',\n    value: function resetHoverOnMouseMove() {\n      $.off(window, 'mousemove', this.resetHoverOnMouseMove);\n      return $.requestAnimationFrame(this.resetHover);\n    }\n  }, {\n    key: 'resetHover',\n    value: function resetHover() {\n      return this.removeClass('no-hover');\n    }\n  }, {\n    key: 'showView',\n    value: function showView(view) {\n      if (this.view !== view) {\n        if (this.hover != null) {\n          this.hover.hide();\n        }\n        this.saveScrollPosition();\n        if (this.view != null) {\n          this.view.deactivate();\n        }\n        this.view = view;\n        this.render();\n        this.view.activate();\n        this.restoreScrollPosition();\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      this.html(this.view);\n    }\n  }, {\n    key: 'showDocList',\n    value: function showDocList() {\n      this.showView(this.docList);\n    }\n  }, {\n    key: 'showResults',\n    value: function showResults() {\n      this.display();\n      this.showView(this.results);\n    }\n  }, {\n    key: 'reset',\n    value: function reset() {\n      this.display();\n      this.showDocList();\n      this.docList.reset();\n      this.search.reset();\n    }\n  }, {\n    key: 'onReady',\n    value: function onReady() {\n      this.view = this.docList;\n      this.render();\n      this.view.activate();\n    }\n  }, {\n    key: 'onScopeChange',\n    value: function onScopeChange(newDoc, previousDoc) {\n      if (previousDoc) {\n        this.docList.closeDoc(previousDoc);\n      }\n      if (newDoc) {\n        this.docList.reveal(newDoc.toEntry());\n      } else {\n        this.scrollToTop();\n      }\n    }\n  }, {\n    key: 'saveScrollPosition',\n    value: function saveScrollPosition() {\n      if (this.view === this.docList) {\n        this.scrollTop = this.el.scrollTop;\n      }\n    }\n  }, {\n    key: 'restoreScrollPosition',\n    value: function restoreScrollPosition() {\n      if (this.view === this.docList && this.scrollTop) {\n        this.el.scrollTop = this.scrollTop;\n        this.scrollTop = null;\n      } else {\n        this.scrollToTop();\n      }\n    }\n  }, {\n    key: 'scrollToTop',\n    value: function scrollToTop() {\n      this.el.scrollTop = 0;\n    }\n  }, {\n    key: 'onSearching',\n    value: function onSearching() {\n      this.showResults();\n    }\n  }, {\n    key: 'onSearchClear',\n    value: function onSearchClear() {\n      this.resetDisplay();\n      this.showDocList();\n    }\n  }, {\n    key: 'onFocus',\n    value: function onFocus(event) {\n      this.display();\n      if (event.target !== this.el) {\n        $.scrollTo(event.target, this.el, 'continuous', {\n          bottomGap: 2\n        });\n      }\n    }\n  }, {\n    key: 'onSelect',\n    value: function onSelect() {\n      this.resetDisplay();\n    }\n  }, {\n    key: 'onClick',\n    value: function onClick(event) {\n      if (event.which !== 1) {\n        return;\n      }\n\n      var target = $.eventTarget(event);\n\n      // TODO: Cleanup\n      if (target && typeof target.hasAttribute !== 'undefined' && target.hasAttribute && target.hasAttribute('data-reset-list')) {\n        $.stopEvent(event);\n        this.onAltR();\n      }\n    }\n  }, {\n    key: 'onAltR',\n    value: function onAltR() {\n      this.reset();\n      this.docList.reset({\n        revealCurrent: true\n      });\n      this.display();\n    }\n  }, {\n    key: 'onEscape',\n    value: function onEscape() {\n      var doc = void 0;\n      this.reset();\n      this.resetDisplay();\n      if (doc = this.search.getScopeDoc()) {\n        this.docList.reveal(doc.toEntry());\n      } else {\n        this.scrollToTop();\n      }\n    }\n  }, {\n    key: 'onDocEnabled',\n    value: function onDocEnabled() {\n      this.docList.onEnabled();\n      this.reset();\n    }\n  }, {\n    key: 'afterRoute',\n    value: function afterRoute(name, context) {\n      if ((app.shortcuts.eventInProgress != null ? app.shortcuts.eventInProgress.name : undefined) === 'escape') {\n        return;\n      }\n      if (!context.init && app.router.isIndex()) {\n        this.reset();\n      }\n      this.resetDisplay();\n    }\n  }]);\n\n  return Sidebar;\n}(_view2.default);\n\nSidebar.el = '._sidebar';\nSidebar.events = {\n  focus: 'onFocus',\n  select: 'onSelect',\n  click: 'onClick'\n};\nSidebar.routes = {\n  after: 'afterRoute'\n};\nSidebar.shortcuts = {\n  altR: 'onAltR',\n  escape: 'onEscape'\n};\nexports.default = Sidebar;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvamF2YXNjcmlwdHMvdmlld3Mvc2lkZWJhci9zaWRlYmFyLmpzPzM2YmEiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3ZpZXcgPSByZXF1aXJlKCcuLi92aWV3Jyk7XG5cbnZhciBfdmlldzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF92aWV3KTtcblxudmFyIF9zZWFyY2ggPSByZXF1aXJlKCcuLi9zZWFyY2gvc2VhcmNoJyk7XG5cbnZhciBfc2VhcmNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NlYXJjaCk7XG5cbnZhciBfc2lkZWJhcl9ob3ZlciA9IHJlcXVpcmUoJy4vc2lkZWJhcl9ob3ZlcicpO1xuXG52YXIgX3NpZGViYXJfaG92ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2lkZWJhcl9ob3Zlcik7XG5cbnZhciBfcmVzdWx0cyA9IHJlcXVpcmUoJy4vcmVzdWx0cycpO1xuXG52YXIgX3Jlc3VsdHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVzdWx0cyk7XG5cbnZhciBfZG9jX2xpc3QgPSByZXF1aXJlKCcuL2RvY19saXN0Jyk7XG5cbnZhciBfZG9jX2xpc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZG9jX2xpc3QpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBTaWRlYmFyID0gZnVuY3Rpb24gKF9WaWV3KSB7XG4gIF9pbmhlcml0cyhTaWRlYmFyLCBfVmlldyk7XG5cbiAgZnVuY3Rpb24gU2lkZWJhcigpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTaWRlYmFyKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfcmVmID0gU2lkZWJhci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFNpZGViYXIpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKTtcblxuICAgIF90aGlzLnJlc2V0SG92ZXJPbk1vdXNlTW92ZSA9IF90aGlzLnJlc2V0SG92ZXJPbk1vdXNlTW92ZS5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5yZXNldEhvdmVyID0gX3RoaXMucmVzZXRIb3Zlci5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5zaG93UmVzdWx0cyA9IF90aGlzLnNob3dSZXN1bHRzLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uUmVhZHkgPSBfdGhpcy5vblJlYWR5LmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uU2NvcGVDaGFuZ2UgPSBfdGhpcy5vblNjb3BlQ2hhbmdlLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uU2VhcmNoaW5nID0gX3RoaXMub25TZWFyY2hpbmcuYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25TZWFyY2hDbGVhciA9IF90aGlzLm9uU2VhcmNoQ2xlYXIuYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25Gb2N1cyA9IF90aGlzLm9uRm9jdXMuYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25TZWxlY3QgPSBfdGhpcy5vblNlbGVjdC5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vbkNsaWNrID0gX3RoaXMub25DbGljay5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vbkFsdFIgPSBfdGhpcy5vbkFsdFIuYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25Fc2NhcGUgPSBfdGhpcy5vbkVzY2FwZS5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5hZnRlclJvdXRlID0gX3RoaXMuYWZ0ZXJSb3V0ZS5iaW5kKF90aGlzKTtcblxuICAgIGlmICghYXBwLmlzTW9iaWxlKCkpIHtcbiAgICAgIF90aGlzLmFkZFN1YnZpZXcoX3RoaXMuaG92ZXIgPSBuZXcgX3NpZGViYXJfaG92ZXIyLmRlZmF1bHQoX3RoaXMuZWwpKTtcbiAgICB9XG4gICAgX3RoaXMuYWRkU3VidmlldyhfdGhpcy5zZWFyY2ggPSBuZXcgX3NlYXJjaDIuZGVmYXVsdCgpKTtcblxuICAgIF90aGlzLnNlYXJjaC5vbignc2VhcmNoaW5nJywgX3RoaXMub25TZWFyY2hpbmcpLm9uKCdjbGVhcicsIF90aGlzLm9uU2VhcmNoQ2xlYXIpLnNjb3BlLm9uKCdjaGFuZ2UnLCBfdGhpcy5vblNjb3BlQ2hhbmdlKTtcblxuICAgIF90aGlzLnJlc3VsdHMgPSBuZXcgX3Jlc3VsdHMyLmRlZmF1bHQoX3RoaXMsIF90aGlzLnNlYXJjaCk7XG4gICAgX3RoaXMuZG9jTGlzdCA9IG5ldyBfZG9jX2xpc3QyLmRlZmF1bHQoKTtcblxuICAgIGFwcC5vbigncmVhZHknLCBfdGhpcy5vblJlYWR5KTtcblxuICAgICQub24oZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCAnbW91c2VsZWF2ZScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKGV2ZW50LmNsaWVudFggPCAxMCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuZGlzcGxheSgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgICQub24oZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCAnbW91c2VlbnRlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5yZXNldERpc3BsYXkoe1xuICAgICAgICBmb3JjZU5vSG92ZXI6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoU2lkZWJhciwgW3tcbiAgICBrZXk6ICdkaXNwbGF5JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcGxheSgpIHtcbiAgICAgIHRoaXMuYWRkQ2xhc3MoJ3Nob3cnKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZXNldERpc3BsYXknLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldERpc3BsYXkob3B0aW9ucykge1xuICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuaGFzQ2xhc3MoJ3Nob3cnKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLnJlbW92ZUNsYXNzKCdzaG93Jyk7XG5cbiAgICAgIGlmIChvcHRpb25zLmZvcmNlTm9Ib3ZlciAhPT0gZmFsc2UgJiYgIXRoaXMuaGFzQ2xhc3MoJ25vLWhvdmVyJykpIHtcbiAgICAgICAgdGhpcy5hZGRDbGFzcygnbm8taG92ZXInKTtcbiAgICAgICAgJC5vbih3aW5kb3csICdtb3VzZW1vdmUnLCB0aGlzLnJlc2V0SG92ZXJPbk1vdXNlTW92ZSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVzZXRIb3Zlck9uTW91c2VNb3ZlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXRIb3Zlck9uTW91c2VNb3ZlKCkge1xuICAgICAgJC5vZmYod2luZG93LCAnbW91c2Vtb3ZlJywgdGhpcy5yZXNldEhvdmVyT25Nb3VzZU1vdmUpO1xuICAgICAgcmV0dXJuICQucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMucmVzZXRIb3Zlcik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVzZXRIb3ZlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0SG92ZXIoKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZW1vdmVDbGFzcygnbm8taG92ZXInKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzaG93VmlldycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNob3dWaWV3KHZpZXcpIHtcbiAgICAgIGlmICh0aGlzLnZpZXcgIT09IHZpZXcpIHtcbiAgICAgICAgaWYgKHRoaXMuaG92ZXIgIT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuaG92ZXIuaGlkZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2F2ZVNjcm9sbFBvc2l0aW9uKCk7XG4gICAgICAgIGlmICh0aGlzLnZpZXcgIT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMudmlldy5kZWFjdGl2YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgdGhpcy52aWV3LmFjdGl2YXRlKCk7XG4gICAgICAgIHRoaXMucmVzdG9yZVNjcm9sbFBvc2l0aW9uKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdGhpcy5odG1sKHRoaXMudmlldyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2hvd0RvY0xpc3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93RG9jTGlzdCgpIHtcbiAgICAgIHRoaXMuc2hvd1ZpZXcodGhpcy5kb2NMaXN0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzaG93UmVzdWx0cycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNob3dSZXN1bHRzKCkge1xuICAgICAgdGhpcy5kaXNwbGF5KCk7XG4gICAgICB0aGlzLnNob3dWaWV3KHRoaXMucmVzdWx0cyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVzZXQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgIHRoaXMuZGlzcGxheSgpO1xuICAgICAgdGhpcy5zaG93RG9jTGlzdCgpO1xuICAgICAgdGhpcy5kb2NMaXN0LnJlc2V0KCk7XG4gICAgICB0aGlzLnNlYXJjaC5yZXNldCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uUmVhZHknLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJlYWR5KCkge1xuICAgICAgdGhpcy52aWV3ID0gdGhpcy5kb2NMaXN0O1xuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgIHRoaXMudmlldy5hY3RpdmF0ZSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uU2NvcGVDaGFuZ2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblNjb3BlQ2hhbmdlKG5ld0RvYywgcHJldmlvdXNEb2MpIHtcbiAgICAgIGlmIChwcmV2aW91c0RvYykge1xuICAgICAgICB0aGlzLmRvY0xpc3QuY2xvc2VEb2MocHJldmlvdXNEb2MpO1xuICAgICAgfVxuICAgICAgaWYgKG5ld0RvYykge1xuICAgICAgICB0aGlzLmRvY0xpc3QucmV2ZWFsKG5ld0RvYy50b0VudHJ5KCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zY3JvbGxUb1RvcCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NhdmVTY3JvbGxQb3NpdGlvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNhdmVTY3JvbGxQb3NpdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnZpZXcgPT09IHRoaXMuZG9jTGlzdCkge1xuICAgICAgICB0aGlzLnNjcm9sbFRvcCA9IHRoaXMuZWwuc2Nyb2xsVG9wO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3Jlc3RvcmVTY3JvbGxQb3NpdGlvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc3RvcmVTY3JvbGxQb3NpdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnZpZXcgPT09IHRoaXMuZG9jTGlzdCAmJiB0aGlzLnNjcm9sbFRvcCkge1xuICAgICAgICB0aGlzLmVsLnNjcm9sbFRvcCA9IHRoaXMuc2Nyb2xsVG9wO1xuICAgICAgICB0aGlzLnNjcm9sbFRvcCA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNjcm9sbFRvVG9wKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2Nyb2xsVG9Ub3AnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzY3JvbGxUb1RvcCgpIHtcbiAgICAgIHRoaXMuZWwuc2Nyb2xsVG9wID0gMDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvblNlYXJjaGluZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uU2VhcmNoaW5nKCkge1xuICAgICAgdGhpcy5zaG93UmVzdWx0cygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uU2VhcmNoQ2xlYXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblNlYXJjaENsZWFyKCkge1xuICAgICAgdGhpcy5yZXNldERpc3BsYXkoKTtcbiAgICAgIHRoaXMuc2hvd0RvY0xpc3QoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbkZvY3VzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Gb2N1cyhldmVudCkge1xuICAgICAgdGhpcy5kaXNwbGF5KCk7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ICE9PSB0aGlzLmVsKSB7XG4gICAgICAgICQuc2Nyb2xsVG8oZXZlbnQudGFyZ2V0LCB0aGlzLmVsLCAnY29udGludW91cycsIHtcbiAgICAgICAgICBib3R0b21HYXA6IDJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25TZWxlY3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblNlbGVjdCgpIHtcbiAgICAgIHRoaXMucmVzZXREaXNwbGF5KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25DbGljaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC53aGljaCAhPT0gMSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciB0YXJnZXQgPSAkLmV2ZW50VGFyZ2V0KGV2ZW50KTtcblxuICAgICAgLy8gVE9ETzogQ2xlYW51cFxuICAgICAgaWYgKHRhcmdldCAmJiB0eXBlb2YgdGFyZ2V0Lmhhc0F0dHJpYnV0ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGFyZ2V0Lmhhc0F0dHJpYnV0ZSAmJiB0YXJnZXQuaGFzQXR0cmlidXRlKCdkYXRhLXJlc2V0LWxpc3QnKSkge1xuICAgICAgICAkLnN0b3BFdmVudChldmVudCk7XG4gICAgICAgIHRoaXMub25BbHRSKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25BbHRSJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25BbHRSKCkge1xuICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgdGhpcy5kb2NMaXN0LnJlc2V0KHtcbiAgICAgICAgcmV2ZWFsQ3VycmVudDogdHJ1ZVxuICAgICAgfSk7XG4gICAgICB0aGlzLmRpc3BsYXkoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbkVzY2FwZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uRXNjYXBlKCkge1xuICAgICAgdmFyIGRvYyA9IHZvaWQgMDtcbiAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgIHRoaXMucmVzZXREaXNwbGF5KCk7XG4gICAgICBpZiAoZG9jID0gdGhpcy5zZWFyY2guZ2V0U2NvcGVEb2MoKSkge1xuICAgICAgICB0aGlzLmRvY0xpc3QucmV2ZWFsKGRvYy50b0VudHJ5KCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zY3JvbGxUb1RvcCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uRG9jRW5hYmxlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uRG9jRW5hYmxlZCgpIHtcbiAgICAgIHRoaXMuZG9jTGlzdC5vbkVuYWJsZWQoKTtcbiAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdhZnRlclJvdXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWZ0ZXJSb3V0ZShuYW1lLCBjb250ZXh0KSB7XG4gICAgICBpZiAoKGFwcC5zaG9ydGN1dHMuZXZlbnRJblByb2dyZXNzICE9IG51bGwgPyBhcHAuc2hvcnRjdXRzLmV2ZW50SW5Qcm9ncmVzcy5uYW1lIDogdW5kZWZpbmVkKSA9PT0gJ2VzY2FwZScpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFjb250ZXh0LmluaXQgJiYgYXBwLnJvdXRlci5pc0luZGV4KCkpIHtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5yZXNldERpc3BsYXkoKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU2lkZWJhcjtcbn0oX3ZpZXcyLmRlZmF1bHQpO1xuXG5TaWRlYmFyLmVsID0gJy5fc2lkZWJhcic7XG5TaWRlYmFyLmV2ZW50cyA9IHtcbiAgZm9jdXM6ICdvbkZvY3VzJyxcbiAgc2VsZWN0OiAnb25TZWxlY3QnLFxuICBjbGljazogJ29uQ2xpY2snXG59O1xuU2lkZWJhci5yb3V0ZXMgPSB7XG4gIGFmdGVyOiAnYWZ0ZXJSb3V0ZSdcbn07XG5TaWRlYmFyLnNob3J0Y3V0cyA9IHtcbiAgYWx0UjogJ29uQWx0UicsXG4gIGVzY2FwZTogJ29uRXNjYXBlJ1xufTtcbmV4cG9ydHMuZGVmYXVsdCA9IFNpZGViYXI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hc3NldHMvamF2YXNjcmlwdHMvdmlld3Mvc2lkZWJhci9zaWRlYmFyLmpzXG4vLyBtb2R1bGUgaWQgPSAxOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///18\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _view = __webpack_require__(0);\n\nvar _view2 = _interopRequireDefault(_view);\n\nvar _search_scope = __webpack_require__(20);\n\nvar _search_scope2 = _interopRequireDefault(_search_scope);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Search = function (_View) {\n  _inherits(Search, _View);\n\n  function Search() {\n    var _ref;\n\n    _classCallCheck(this, Search);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var _this = _possibleConstructorReturn(this, (_ref = Search.__proto__ || Object.getPrototypeOf(Search)).call.apply(_ref, [this].concat(args)));\n\n    _this.focus = _this.focus.bind(_this);\n    _this.autoFocus = _this.autoFocus.bind(_this);\n    _this.onWindowFocus = _this.onWindowFocus.bind(_this);\n    _this.onReady = _this.onReady.bind(_this);\n    _this.onInput = _this.onInput.bind(_this);\n    _this.searchUrl = _this.searchUrl.bind(_this);\n    _this.google = _this.google.bind(_this);\n    _this.stackoverflow = _this.stackoverflow.bind(_this);\n    _this.onResults = _this.onResults.bind(_this);\n    _this.onEnd = _this.onEnd.bind(_this);\n    _this.onClick = _this.onClick.bind(_this);\n    _this.afterRoute = _this.afterRoute.bind(_this);\n\n    _this.addSubview(_this.scope = new _search_scope2.default(_this.el));\n\n    _this.searcher = new app.Searcher();\n    _this.searcher.on('results', _this.onResults).on('end', _this.onEnd);\n\n    app.on('ready', _this.onReady);\n    $.on(window, 'hashchange', _this.searchUrl);\n    $.on(window, 'focus', _this.onWindowFocus);\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: 'focus',\n    value: function focus() {\n      if (document.activeElement !== this.input) {\n        this.input.focus();\n      }\n    }\n  }, {\n    key: 'autoFocus',\n    value: function autoFocus() {\n      if (!app.isMobile() && !$.isAndroid() && !$.isIOS()) {\n        if ((document.activeElement != null ? document.activeElement.tagName : undefined) !== 'INPUT') {\n          this.input.focus();\n        }\n      }\n    }\n  }, {\n    key: 'onWindowFocus',\n    value: function onWindowFocus(event) {\n      if (event.target === window) {\n        return this.autoFocus();\n      }\n    }\n  }, {\n    key: 'getScopeDoc',\n    value: function getScopeDoc() {\n      if (this.scope.isActive()) {\n        return this.scope.getScope();\n      }\n    }\n  }, {\n    key: 'reset',\n    value: function reset(force) {\n      if (force || !this.input.value) {\n        this.scope.reset();\n      }\n      this.el.reset();\n      this.onInput();\n      this.autoFocus();\n    }\n  }, {\n    key: 'onReady',\n    value: function onReady() {\n      this.value = '';\n      this.delay(this.onInput);\n    }\n  }, {\n    key: 'onInput',\n    value: function onInput() {\n      if (this.value == null || // ignore events pre-\"ready\"\n      this.value === this.input.value) {\n        return;\n      }\n      this.value = this.input.value;\n\n      if (this.value.length) {\n        this.search();\n      } else {\n        this.clear();\n      }\n    }\n  }, {\n    key: 'search',\n    value: function search(url) {\n      if (url == null) {\n        url = false;\n      }\n      this.addClass(this.constructor.activeClass);\n      this.trigger('searching');\n\n      this.hasResults = null;\n      this.flags = {\n        urlSearch: url,\n        initialResults: true\n      };\n      this.searcher.find(this.scope.getScope().entries.all(), 'text', this.value);\n    }\n  }, {\n    key: 'searchUrl',\n    value: function searchUrl() {\n      var value = void 0;\n      if (location.pathname === '/') {\n        this.scope.searchUrl();\n      } else if (!app.router.isIndex()) {\n        return;\n      }\n\n      if (!(value = this.extractHashValue())) {\n        return;\n      }\n      this.input.value = this.value = value;\n      this.input.setSelectionRange(value.length, value.length);\n      this.search(true);\n      return true;\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      this.removeClass(this.constructor.activeClass);\n      this.trigger('clear');\n    }\n  }, {\n    key: 'externalSearch',\n    value: function externalSearch(url) {\n      var value = void 0;\n      if (value = this.value) {\n        if (this.scope.name()) {\n          value = this.scope.name() + ' ' + value;\n        }\n        $.popup('' + url + encodeURIComponent(value));\n        this.reset();\n      }\n    }\n  }, {\n    key: 'google',\n    value: function google() {\n      this.externalSearch(\"https://www.google.com/search?q=\");\n    }\n  }, {\n    key: 'stackoverflow',\n    value: function stackoverflow() {\n      this.externalSearch(\"https://stackoverflow.com/search?q=\");\n    }\n  }, {\n    key: 'onResults',\n    value: function onResults(results) {\n      if (results.length) {\n        this.hasResults = true;\n      }\n      this.trigger('results', results, this.flags);\n      this.flags.initialResults = false;\n    }\n  }, {\n    key: 'onEnd',\n    value: function onEnd() {\n      if (!this.hasResults) {\n        this.trigger('noresults');\n      }\n    }\n  }, {\n    key: 'onClick',\n    value: function onClick(event) {\n      if (event.target === this.resetLink) {\n        $.stopEvent(event);\n        this.reset();\n      }\n    }\n  }, {\n    key: 'onSubmit',\n    value: function onSubmit(event) {\n      $.stopEvent(event);\n    }\n  }, {\n    key: 'afterRoute',\n    value: function afterRoute(name, context) {\n      if ((app.shortcuts.eventInProgress != null ? app.shortcuts.eventInProgress.name : undefined) === 'escape') {\n        return;\n      }\n      if (!context.init && app.router.isIndex()) {\n        this.reset(true);\n      }\n      if (context.hash) {\n        this.delay(this.searchUrl);\n      }\n      $.requestAnimationFrame(this.autoFocus);\n    }\n  }, {\n    key: 'extractHashValue',\n    value: function extractHashValue() {\n      var value = void 0;\n      if ((value = this.getHashValue()) != null) {\n        app.router.replaceHash();\n        return value;\n      }\n    }\n  }, {\n    key: 'getHashValue',\n    value: function getHashValue() {\n      try {\n        var res = HASH_RGX.exec($.urlDecode(location.hash));\n        if (res != null) {\n          return res[1];\n        }\n      } catch (error) {}\n\n      return null;\n    }\n  }]);\n\n  return Search;\n}(_view2.default);\n\nSearch.SEARCH_PARAM = App.config.search_param;\nSearch.el = '._search';\nSearch.activeClass = '_search-active';\nSearch.elements = {\n  input: '._search-input',\n  resetLink: '._search-clear'\n};\nSearch.events = {\n  input: 'onInput',\n  click: 'onClick',\n  submit: 'onSubmit'\n};\nSearch.shortcuts = {\n  typing: 'focus',\n  altG: 'google',\n  altS: 'stackoverflow'\n};\nSearch.routes = {\n  after: 'afterRoute'\n};\nSearch.HASH_RGX = new RegExp('^#' + SEARCH_PARAM + '=(.*)');\nexports.default = Search;\n\n\nfunction __guard__(value, transform) {\n  return typeof value !== 'undefined' && value !== null ? transform(value) : undefined;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvamF2YXNjcmlwdHMvdmlld3Mvc2VhcmNoL3NlYXJjaC5qcz9kZmVhIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF92aWV3ID0gcmVxdWlyZSgnLi4vdmlldycpO1xuXG52YXIgX3ZpZXcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdmlldyk7XG5cbnZhciBfc2VhcmNoX3Njb3BlID0gcmVxdWlyZSgnLi9zZWFyY2hfc2NvcGUnKTtcblxudmFyIF9zZWFyY2hfc2NvcGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2VhcmNoX3Njb3BlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgU2VhcmNoID0gZnVuY3Rpb24gKF9WaWV3KSB7XG4gIF9pbmhlcml0cyhTZWFyY2gsIF9WaWV3KTtcblxuICBmdW5jdGlvbiBTZWFyY2goKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2VhcmNoKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfcmVmID0gU2VhcmNoLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2VhcmNoKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSk7XG5cbiAgICBfdGhpcy5mb2N1cyA9IF90aGlzLmZvY3VzLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLmF1dG9Gb2N1cyA9IF90aGlzLmF1dG9Gb2N1cy5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vbldpbmRvd0ZvY3VzID0gX3RoaXMub25XaW5kb3dGb2N1cy5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vblJlYWR5ID0gX3RoaXMub25SZWFkeS5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vbklucHV0ID0gX3RoaXMub25JbnB1dC5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5zZWFyY2hVcmwgPSBfdGhpcy5zZWFyY2hVcmwuYmluZChfdGhpcyk7XG4gICAgX3RoaXMuZ29vZ2xlID0gX3RoaXMuZ29vZ2xlLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLnN0YWNrb3ZlcmZsb3cgPSBfdGhpcy5zdGFja292ZXJmbG93LmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uUmVzdWx0cyA9IF90aGlzLm9uUmVzdWx0cy5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vbkVuZCA9IF90aGlzLm9uRW5kLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uQ2xpY2sgPSBfdGhpcy5vbkNsaWNrLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLmFmdGVyUm91dGUgPSBfdGhpcy5hZnRlclJvdXRlLmJpbmQoX3RoaXMpO1xuXG4gICAgX3RoaXMuYWRkU3VidmlldyhfdGhpcy5zY29wZSA9IG5ldyBfc2VhcmNoX3Njb3BlMi5kZWZhdWx0KF90aGlzLmVsKSk7XG5cbiAgICBfdGhpcy5zZWFyY2hlciA9IG5ldyBhcHAuU2VhcmNoZXIoKTtcbiAgICBfdGhpcy5zZWFyY2hlci5vbigncmVzdWx0cycsIF90aGlzLm9uUmVzdWx0cykub24oJ2VuZCcsIF90aGlzLm9uRW5kKTtcblxuICAgIGFwcC5vbigncmVhZHknLCBfdGhpcy5vblJlYWR5KTtcbiAgICAkLm9uKHdpbmRvdywgJ2hhc2hjaGFuZ2UnLCBfdGhpcy5zZWFyY2hVcmwpO1xuICAgICQub24od2luZG93LCAnZm9jdXMnLCBfdGhpcy5vbldpbmRvd0ZvY3VzKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoU2VhcmNoLCBbe1xuICAgIGtleTogJ2ZvY3VzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9jdXMoKSB7XG4gICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gdGhpcy5pbnB1dCkge1xuICAgICAgICB0aGlzLmlucHV0LmZvY3VzKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnYXV0b0ZvY3VzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYXV0b0ZvY3VzKCkge1xuICAgICAgaWYgKCFhcHAuaXNNb2JpbGUoKSAmJiAhJC5pc0FuZHJvaWQoKSAmJiAhJC5pc0lPUygpKSB7XG4gICAgICAgIGlmICgoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPSBudWxsID8gZG9jdW1lbnQuYWN0aXZlRWxlbWVudC50YWdOYW1lIDogdW5kZWZpbmVkKSAhPT0gJ0lOUFVUJykge1xuICAgICAgICAgIHRoaXMuaW5wdXQuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uV2luZG93Rm9jdXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbldpbmRvd0ZvY3VzKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSB3aW5kb3cpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXV0b0ZvY3VzKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0U2NvcGVEb2MnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTY29wZURvYygpIHtcbiAgICAgIGlmICh0aGlzLnNjb3BlLmlzQWN0aXZlKCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUuZ2V0U2NvcGUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZXNldCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0KGZvcmNlKSB7XG4gICAgICBpZiAoZm9yY2UgfHwgIXRoaXMuaW5wdXQudmFsdWUpIHtcbiAgICAgICAgdGhpcy5zY29wZS5yZXNldCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5lbC5yZXNldCgpO1xuICAgICAgdGhpcy5vbklucHV0KCk7XG4gICAgICB0aGlzLmF1dG9Gb2N1cygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uUmVhZHknLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJlYWR5KCkge1xuICAgICAgdGhpcy52YWx1ZSA9ICcnO1xuICAgICAgdGhpcy5kZWxheSh0aGlzLm9uSW5wdXQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uSW5wdXQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbklucHV0KCkge1xuICAgICAgaWYgKHRoaXMudmFsdWUgPT0gbnVsbCB8fCAvLyBpZ25vcmUgZXZlbnRzIHByZS1cInJlYWR5XCJcbiAgICAgIHRoaXMudmFsdWUgPT09IHRoaXMuaW5wdXQudmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuaW5wdXQudmFsdWU7XG5cbiAgICAgIGlmICh0aGlzLnZhbHVlLmxlbmd0aCkge1xuICAgICAgICB0aGlzLnNlYXJjaCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NlYXJjaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaCh1cmwpIHtcbiAgICAgIGlmICh1cmwgPT0gbnVsbCkge1xuICAgICAgICB1cmwgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuYWRkQ2xhc3ModGhpcy5jb25zdHJ1Y3Rvci5hY3RpdmVDbGFzcyk7XG4gICAgICB0aGlzLnRyaWdnZXIoJ3NlYXJjaGluZycpO1xuXG4gICAgICB0aGlzLmhhc1Jlc3VsdHMgPSBudWxsO1xuICAgICAgdGhpcy5mbGFncyA9IHtcbiAgICAgICAgdXJsU2VhcmNoOiB1cmwsXG4gICAgICAgIGluaXRpYWxSZXN1bHRzOiB0cnVlXG4gICAgICB9O1xuICAgICAgdGhpcy5zZWFyY2hlci5maW5kKHRoaXMuc2NvcGUuZ2V0U2NvcGUoKS5lbnRyaWVzLmFsbCgpLCAndGV4dCcsIHRoaXMudmFsdWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NlYXJjaFVybCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaFVybCgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHZvaWQgMDtcbiAgICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gJy8nKSB7XG4gICAgICAgIHRoaXMuc2NvcGUuc2VhcmNoVXJsKCk7XG4gICAgICB9IGVsc2UgaWYgKCFhcHAucm91dGVyLmlzSW5kZXgoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghKHZhbHVlID0gdGhpcy5leHRyYWN0SGFzaFZhbHVlKCkpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuaW5wdXQudmFsdWUgPSB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICB0aGlzLmlucHV0LnNldFNlbGVjdGlvblJhbmdlKHZhbHVlLmxlbmd0aCwgdmFsdWUubGVuZ3RoKTtcbiAgICAgIHRoaXMuc2VhcmNoKHRydWUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY2xlYXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgIHRoaXMucmVtb3ZlQ2xhc3ModGhpcy5jb25zdHJ1Y3Rvci5hY3RpdmVDbGFzcyk7XG4gICAgICB0aGlzLnRyaWdnZXIoJ2NsZWFyJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZXh0ZXJuYWxTZWFyY2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBleHRlcm5hbFNlYXJjaCh1cmwpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHZvaWQgMDtcbiAgICAgIGlmICh2YWx1ZSA9IHRoaXMudmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuc2NvcGUubmFtZSgpKSB7XG4gICAgICAgICAgdmFsdWUgPSB0aGlzLnNjb3BlLm5hbWUoKSArICcgJyArIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgICQucG9wdXAoJycgKyB1cmwgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpKTtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dvb2dsZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdvb2dsZSgpIHtcbiAgICAgIHRoaXMuZXh0ZXJuYWxTZWFyY2goXCJodHRwczovL3d3dy5nb29nbGUuY29tL3NlYXJjaD9xPVwiKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzdGFja292ZXJmbG93JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RhY2tvdmVyZmxvdygpIHtcbiAgICAgIHRoaXMuZXh0ZXJuYWxTZWFyY2goXCJodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3NlYXJjaD9xPVwiKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvblJlc3VsdHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJlc3VsdHMocmVzdWx0cykge1xuICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuaGFzUmVzdWx0cyA9IHRydWU7XG4gICAgICB9XG4gICAgICB0aGlzLnRyaWdnZXIoJ3Jlc3VsdHMnLCByZXN1bHRzLCB0aGlzLmZsYWdzKTtcbiAgICAgIHRoaXMuZmxhZ3MuaW5pdGlhbFJlc3VsdHMgPSBmYWxzZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbkVuZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uRW5kKCkge1xuICAgICAgaWYgKCF0aGlzLmhhc1Jlc3VsdHMpIHtcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdub3Jlc3VsdHMnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbkNsaWNrJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25DbGljayhldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gdGhpcy5yZXNldExpbmspIHtcbiAgICAgICAgJC5zdG9wRXZlbnQoZXZlbnQpO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25TdWJtaXQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblN1Ym1pdChldmVudCkge1xuICAgICAgJC5zdG9wRXZlbnQoZXZlbnQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2FmdGVyUm91dGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZnRlclJvdXRlKG5hbWUsIGNvbnRleHQpIHtcbiAgICAgIGlmICgoYXBwLnNob3J0Y3V0cy5ldmVudEluUHJvZ3Jlc3MgIT0gbnVsbCA/IGFwcC5zaG9ydGN1dHMuZXZlbnRJblByb2dyZXNzLm5hbWUgOiB1bmRlZmluZWQpID09PSAnZXNjYXBlJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWNvbnRleHQuaW5pdCAmJiBhcHAucm91dGVyLmlzSW5kZXgoKSkge1xuICAgICAgICB0aGlzLnJlc2V0KHRydWUpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbnRleHQuaGFzaCkge1xuICAgICAgICB0aGlzLmRlbGF5KHRoaXMuc2VhcmNoVXJsKTtcbiAgICAgIH1cbiAgICAgICQucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYXV0b0ZvY3VzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdleHRyYWN0SGFzaFZhbHVlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXh0cmFjdEhhc2hWYWx1ZSgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHZvaWQgMDtcbiAgICAgIGlmICgodmFsdWUgPSB0aGlzLmdldEhhc2hWYWx1ZSgpKSAhPSBudWxsKSB7XG4gICAgICAgIGFwcC5yb3V0ZXIucmVwbGFjZUhhc2goKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldEhhc2hWYWx1ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEhhc2hWYWx1ZSgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByZXMgPSBIQVNIX1JHWC5leGVjKCQudXJsRGVjb2RlKGxvY2F0aW9uLmhhc2gpKTtcbiAgICAgICAgaWYgKHJlcyAhPSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc1sxXTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHt9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTZWFyY2g7XG59KF92aWV3Mi5kZWZhdWx0KTtcblxuU2VhcmNoLlNFQVJDSF9QQVJBTSA9IGFwcC5jb25maWcuc2VhcmNoX3BhcmFtO1xuU2VhcmNoLmVsID0gJy5fc2VhcmNoJztcblNlYXJjaC5hY3RpdmVDbGFzcyA9ICdfc2VhcmNoLWFjdGl2ZSc7XG5TZWFyY2guZWxlbWVudHMgPSB7XG4gIGlucHV0OiAnLl9zZWFyY2gtaW5wdXQnLFxuICByZXNldExpbms6ICcuX3NlYXJjaC1jbGVhcidcbn07XG5TZWFyY2guZXZlbnRzID0ge1xuICBpbnB1dDogJ29uSW5wdXQnLFxuICBjbGljazogJ29uQ2xpY2snLFxuICBzdWJtaXQ6ICdvblN1Ym1pdCdcbn07XG5TZWFyY2guc2hvcnRjdXRzID0ge1xuICB0eXBpbmc6ICdmb2N1cycsXG4gIGFsdEc6ICdnb29nbGUnLFxuICBhbHRTOiAnc3RhY2tvdmVyZmxvdydcbn07XG5TZWFyY2gucm91dGVzID0ge1xuICBhZnRlcjogJ2FmdGVyUm91dGUnXG59O1xuU2VhcmNoLkhBU0hfUkdYID0gbmV3IFJlZ0V4cCgnXiMnICsgU0VBUkNIX1BBUkFNICsgJz0oLiopJyk7XG5leHBvcnRzLmRlZmF1bHQgPSBTZWFyY2g7XG5cblxuZnVuY3Rpb24gX19ndWFyZF9fKHZhbHVlLCB0cmFuc2Zvcm0pIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgIT09IG51bGwgPyB0cmFuc2Zvcm0odmFsdWUpIDogdW5kZWZpbmVkO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXNzZXRzL2phdmFzY3JpcHRzL3ZpZXdzL3NlYXJjaC9zZWFyY2guanNcbi8vIG1vZHVsZSBpZCA9IDE5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///19\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _view = __webpack_require__(0);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SearchScope = function (_View) {\n  _inherits(SearchScope, _View);\n\n  function SearchScope(el) {\n    _classCallCheck(this, SearchScope);\n\n    var _this = _possibleConstructorReturn(this, (SearchScope.__proto__ || Object.getPrototypeOf(SearchScope)).apply(this, arguments));\n\n    _this.onResults = _this.onResults.bind(_this);\n    _this.reset = _this.reset.bind(_this);\n    _this.onKeydown = _this.onKeydown.bind(_this);\n    _this.afterRoute = _this.afterRoute.bind(_this);\n    _this.el = el;\n\n    _this.refreshElements();\n\n    _this.placeholder = _this.input.getAttribute('placeholder');\n\n    _this.searcher = new app.SynchronousSearcher({\n      fuzzy_min_length: 2,\n      max_results: 1\n    });\n    _this.searcher.on('results', _this.onResults);\n    return _this;\n  }\n\n  _createClass(SearchScope, [{\n    key: 'getScope',\n    value: function getScope() {\n      return this.doc || app;\n    }\n  }, {\n    key: 'isActive',\n    value: function isActive() {\n      return !!this.doc;\n    }\n  }, {\n    key: 'name',\n    value: function name() {\n      return this.doc != null ? this.doc.name : undefined;\n    }\n  }, {\n    key: 'search',\n    value: function search(value, searchDisabled) {\n      if (searchDisabled == null) {\n        searchDisabled = false;\n      }\n      if (this.doc) {\n        return;\n      }\n      this.searcher.find(app.docs.all(), 'text', value);\n      if (!this.doc && searchDisabled) {\n        this.searcher.find(app.disabledDocs.all(), 'text', value);\n      }\n    }\n  }, {\n    key: 'searchUrl',\n    value: function searchUrl() {\n      var value = void 0;\n      if (value = this.extractHashValue()) {\n        this.search(value, true);\n      }\n    }\n  }, {\n    key: 'onResults',\n    value: function onResults(results) {\n      var doc = void 0;\n      if (!(doc = results[0])) {\n        return;\n      }\n      if (app.docs.contains(doc)) {\n        this.selectDoc(doc);\n      } else {\n        this.redirectToDoc(doc);\n      }\n    }\n  }, {\n    key: 'selectDoc',\n    value: function selectDoc(doc) {\n      var previousDoc = this.doc;\n      if (doc === previousDoc) {\n        return;\n      }\n      this.doc = doc;\n\n      this.tag.textContent = doc.fullName;\n      this.tag.style.display = 'block';\n\n      this.input.removeAttribute('placeholder');\n      this.input.value = this.input.value.slice(this.input.selectionStart);\n      this.input.style.paddingLeft = this.tag.offsetWidth + 10 + 'px';\n\n      $.trigger(this.input, 'input');\n      this.trigger('change', this.doc, previousDoc);\n    }\n  }, {\n    key: 'redirectToDoc',\n    value: function redirectToDoc(doc) {\n      var _location = location,\n          hash = _location.hash;\n\n      app.router.replaceHash('');\n      location.assign(doc.fullPath() + hash);\n    }\n  }, {\n    key: 'reset',\n    value: function reset() {\n      if (!this.doc) {\n        return;\n      }\n      var previousDoc = this.doc;\n      this.doc = null;\n\n      this.tag.textContent = '';\n      this.tag.style.display = 'none';\n\n      this.input.setAttribute('placeholder', this.placeholder);\n      this.input.style.paddingLeft = '';\n\n      this.trigger('change', null, previousDoc);\n    }\n  }, {\n    key: 'onKeydown',\n    value: function onKeydown(event) {\n      if (event.which === 8) {\n        // backspace\n        if (this.doc && !this.input.value) {\n          $.stopEvent(event);\n          this.reset();\n        }\n      } else if (!this.doc && this.input.value) {\n        if (event.ctrlKey || event.metaKey || event.altKey || event.shiftKey) {\n          return;\n        }\n        if (event.which === 9 || // tab\n        event.which === 32 && app.isMobile()) {\n          // space\n          this.search(this.input.value.slice(0, this.input.selectionStart));\n          if (this.doc) {\n            $.stopEvent(event);\n          }\n        }\n      }\n    }\n  }, {\n    key: 'extractHashValue',\n    value: function extractHashValue() {\n      var value = void 0;\n      if (value = this.getHashValue()) {\n        var newHash = $.urlDecode(location.hash).replace('#' + SEARCH_PARAM + '=' + value + ' ', '#' + SEARCH_PARAM + '=');\n        app.router.replaceHash(newHash);\n        return value;\n      }\n    }\n  }, {\n    key: 'getHashValue',\n    value: function getHashValue() {\n      try {\n        var res = HASH_RGX.exec($.urlDecode(location.hash));\n\n        if (res != null) {\n          return res[1];\n        }\n      } catch (error) {}\n\n      return null;\n    }\n  }, {\n    key: 'afterRoute',\n    value: function afterRoute(name, context) {\n      if (!app.isSingleDoc() && context.init && context.doc) {\n        this.selectDoc(context.doc);\n      }\n    }\n  }]);\n\n  return SearchScope;\n}(_view2.default);\n\nSearchScope.SEARCH_PARAM = App.config.search_param;\nSearchScope.elements = {\n  input: '._search-input',\n  tag: '._search-tag'\n};\nSearchScope.events = {\n  keydown: 'onKeydown'\n};\nSearchScope.routes = {\n  after: 'afterRoute'\n};\nSearchScope.HASH_RGX = new RegExp('^#' + SEARCH_PARAM + '=(.+?) .');\nexports.default = SearchScope;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvamF2YXNjcmlwdHMvdmlld3Mvc2VhcmNoL3NlYXJjaF9zY29wZS5qcz8yNDE2Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF92aWV3ID0gcmVxdWlyZSgnLi4vdmlldycpO1xuXG52YXIgX3ZpZXcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdmlldyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFNlYXJjaFNjb3BlID0gZnVuY3Rpb24gKF9WaWV3KSB7XG4gIF9pbmhlcml0cyhTZWFyY2hTY29wZSwgX1ZpZXcpO1xuXG4gIGZ1bmN0aW9uIFNlYXJjaFNjb3BlKGVsKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNlYXJjaFNjb3BlKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChTZWFyY2hTY29wZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFNlYXJjaFNjb3BlKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICBfdGhpcy5vblJlc3VsdHMgPSBfdGhpcy5vblJlc3VsdHMuYmluZChfdGhpcyk7XG4gICAgX3RoaXMucmVzZXQgPSBfdGhpcy5yZXNldC5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vbktleWRvd24gPSBfdGhpcy5vbktleWRvd24uYmluZChfdGhpcyk7XG4gICAgX3RoaXMuYWZ0ZXJSb3V0ZSA9IF90aGlzLmFmdGVyUm91dGUuYmluZChfdGhpcyk7XG4gICAgX3RoaXMuZWwgPSBlbDtcblxuICAgIF90aGlzLnJlZnJlc2hFbGVtZW50cygpO1xuXG4gICAgX3RoaXMucGxhY2Vob2xkZXIgPSBfdGhpcy5pbnB1dC5nZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJyk7XG5cbiAgICBfdGhpcy5zZWFyY2hlciA9IG5ldyBhcHAuU3luY2hyb25vdXNTZWFyY2hlcih7XG4gICAgICBmdXp6eV9taW5fbGVuZ3RoOiAyLFxuICAgICAgbWF4X3Jlc3VsdHM6IDFcbiAgICB9KTtcbiAgICBfdGhpcy5zZWFyY2hlci5vbigncmVzdWx0cycsIF90aGlzLm9uUmVzdWx0cyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFNlYXJjaFNjb3BlLCBbe1xuICAgIGtleTogJ2dldFNjb3BlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2NvcGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5kb2MgfHwgYXBwO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2lzQWN0aXZlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNBY3RpdmUoKSB7XG4gICAgICByZXR1cm4gISF0aGlzLmRvYztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICduYW1lJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gbmFtZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmRvYyAhPSBudWxsID8gdGhpcy5kb2MubmFtZSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZWFyY2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2godmFsdWUsIHNlYXJjaERpc2FibGVkKSB7XG4gICAgICBpZiAoc2VhcmNoRGlzYWJsZWQgPT0gbnVsbCkge1xuICAgICAgICBzZWFyY2hEaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuZG9jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2VhcmNoZXIuZmluZChhcHAuZG9jcy5hbGwoKSwgJ3RleHQnLCB2YWx1ZSk7XG4gICAgICBpZiAoIXRoaXMuZG9jICYmIHNlYXJjaERpc2FibGVkKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoZXIuZmluZChhcHAuZGlzYWJsZWREb2NzLmFsbCgpLCAndGV4dCcsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZWFyY2hVcmwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2hVcmwoKSB7XG4gICAgICB2YXIgdmFsdWUgPSB2b2lkIDA7XG4gICAgICBpZiAodmFsdWUgPSB0aGlzLmV4dHJhY3RIYXNoVmFsdWUoKSkge1xuICAgICAgICB0aGlzLnNlYXJjaCh2YWx1ZSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25SZXN1bHRzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SZXN1bHRzKHJlc3VsdHMpIHtcbiAgICAgIHZhciBkb2MgPSB2b2lkIDA7XG4gICAgICBpZiAoIShkb2MgPSByZXN1bHRzWzBdKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoYXBwLmRvY3MuY29udGFpbnMoZG9jKSkge1xuICAgICAgICB0aGlzLnNlbGVjdERvYyhkb2MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZWRpcmVjdFRvRG9jKGRvYyk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2VsZWN0RG9jJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VsZWN0RG9jKGRvYykge1xuICAgICAgdmFyIHByZXZpb3VzRG9jID0gdGhpcy5kb2M7XG4gICAgICBpZiAoZG9jID09PSBwcmV2aW91c0RvYykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmRvYyA9IGRvYztcblxuICAgICAgdGhpcy50YWcudGV4dENvbnRlbnQgPSBkb2MuZnVsbE5hbWU7XG4gICAgICB0aGlzLnRhZy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgICAgdGhpcy5pbnB1dC5yZW1vdmVBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJyk7XG4gICAgICB0aGlzLmlucHV0LnZhbHVlID0gdGhpcy5pbnB1dC52YWx1ZS5zbGljZSh0aGlzLmlucHV0LnNlbGVjdGlvblN0YXJ0KTtcbiAgICAgIHRoaXMuaW5wdXQuc3R5bGUucGFkZGluZ0xlZnQgPSB0aGlzLnRhZy5vZmZzZXRXaWR0aCArIDEwICsgJ3B4JztcblxuICAgICAgJC50cmlnZ2VyKHRoaXMuaW5wdXQsICdpbnB1dCcpO1xuICAgICAgdGhpcy50cmlnZ2VyKCdjaGFuZ2UnLCB0aGlzLmRvYywgcHJldmlvdXNEb2MpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlZGlyZWN0VG9Eb2MnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZWRpcmVjdFRvRG9jKGRvYykge1xuICAgICAgdmFyIF9sb2NhdGlvbiA9IGxvY2F0aW9uLFxuICAgICAgICAgIGhhc2ggPSBfbG9jYXRpb24uaGFzaDtcblxuICAgICAgYXBwLnJvdXRlci5yZXBsYWNlSGFzaCgnJyk7XG4gICAgICBsb2NhdGlvbi5hc3NpZ24oZG9jLmZ1bGxQYXRoKCkgKyBoYXNoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZXNldCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgaWYgKCF0aGlzLmRvYykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgcHJldmlvdXNEb2MgPSB0aGlzLmRvYztcbiAgICAgIHRoaXMuZG9jID0gbnVsbDtcblxuICAgICAgdGhpcy50YWcudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIHRoaXMudGFnLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgIHRoaXMuaW5wdXQuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsIHRoaXMucGxhY2Vob2xkZXIpO1xuICAgICAgdGhpcy5pbnB1dC5zdHlsZS5wYWRkaW5nTGVmdCA9ICcnO1xuXG4gICAgICB0aGlzLnRyaWdnZXIoJ2NoYW5nZScsIG51bGwsIHByZXZpb3VzRG9jKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbktleWRvd24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbktleWRvd24oZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC53aGljaCA9PT0gOCkge1xuICAgICAgICAvLyBiYWNrc3BhY2VcbiAgICAgICAgaWYgKHRoaXMuZG9jICYmICF0aGlzLmlucHV0LnZhbHVlKSB7XG4gICAgICAgICAgJC5zdG9wRXZlbnQoZXZlbnQpO1xuICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghdGhpcy5kb2MgJiYgdGhpcy5pbnB1dC52YWx1ZSkge1xuICAgICAgICBpZiAoZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5IHx8IGV2ZW50LmFsdEtleSB8fCBldmVudC5zaGlmdEtleSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnQud2hpY2ggPT09IDkgfHwgLy8gdGFiXG4gICAgICAgIGV2ZW50LndoaWNoID09PSAzMiAmJiBhcHAuaXNNb2JpbGUoKSkge1xuICAgICAgICAgIC8vIHNwYWNlXG4gICAgICAgICAgdGhpcy5zZWFyY2godGhpcy5pbnB1dC52YWx1ZS5zbGljZSgwLCB0aGlzLmlucHV0LnNlbGVjdGlvblN0YXJ0KSk7XG4gICAgICAgICAgaWYgKHRoaXMuZG9jKSB7XG4gICAgICAgICAgICAkLnN0b3BFdmVudChldmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZXh0cmFjdEhhc2hWYWx1ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGV4dHJhY3RIYXNoVmFsdWUoKSB7XG4gICAgICB2YXIgdmFsdWUgPSB2b2lkIDA7XG4gICAgICBpZiAodmFsdWUgPSB0aGlzLmdldEhhc2hWYWx1ZSgpKSB7XG4gICAgICAgIHZhciBuZXdIYXNoID0gJC51cmxEZWNvZGUobG9jYXRpb24uaGFzaCkucmVwbGFjZSgnIycgKyBTRUFSQ0hfUEFSQU0gKyAnPScgKyB2YWx1ZSArICcgJywgJyMnICsgU0VBUkNIX1BBUkFNICsgJz0nKTtcbiAgICAgICAgYXBwLnJvdXRlci5yZXBsYWNlSGFzaChuZXdIYXNoKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldEhhc2hWYWx1ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEhhc2hWYWx1ZSgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByZXMgPSBIQVNIX1JHWC5leGVjKCQudXJsRGVjb2RlKGxvY2F0aW9uLmhhc2gpKTtcblxuICAgICAgICBpZiAocmVzICE9IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gcmVzWzFdO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge31cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnYWZ0ZXJSb3V0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFmdGVyUm91dGUobmFtZSwgY29udGV4dCkge1xuICAgICAgaWYgKCFhcHAuaXNTaW5nbGVEb2MoKSAmJiBjb250ZXh0LmluaXQgJiYgY29udGV4dC5kb2MpIHtcbiAgICAgICAgdGhpcy5zZWxlY3REb2MoY29udGV4dC5kb2MpO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTZWFyY2hTY29wZTtcbn0oX3ZpZXcyLmRlZmF1bHQpO1xuXG5TZWFyY2hTY29wZS5TRUFSQ0hfUEFSQU0gPSBhcHAuY29uZmlnLnNlYXJjaF9wYXJhbTtcblNlYXJjaFNjb3BlLmVsZW1lbnRzID0ge1xuICBpbnB1dDogJy5fc2VhcmNoLWlucHV0JyxcbiAgdGFnOiAnLl9zZWFyY2gtdGFnJ1xufTtcblNlYXJjaFNjb3BlLmV2ZW50cyA9IHtcbiAga2V5ZG93bjogJ29uS2V5ZG93bidcbn07XG5TZWFyY2hTY29wZS5yb3V0ZXMgPSB7XG4gIGFmdGVyOiAnYWZ0ZXJSb3V0ZSdcbn07XG5TZWFyY2hTY29wZS5IQVNIX1JHWCA9IG5ldyBSZWdFeHAoJ14jJyArIFNFQVJDSF9QQVJBTSArICc9KC4rPykgLicpO1xuZXhwb3J0cy5kZWZhdWx0ID0gU2VhcmNoU2NvcGU7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hc3NldHMvamF2YXNjcmlwdHMvdmlld3Mvc2VhcmNoL3NlYXJjaF9zY29wZS5qc1xuLy8gbW9kdWxlIGlkID0gMjBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///20\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _view = __webpack_require__(0);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SidebarHover = function (_View) {\n  _inherits(SidebarHover, _View);\n\n  function SidebarHover(el) {\n    _classCallCheck(this, SidebarHover);\n\n    var _this = _possibleConstructorReturn(this, (SidebarHover.__proto__ || Object.getPrototypeOf(SidebarHover)).apply(this, arguments));\n\n    _this.position = _this.position.bind(_this);\n    _this.onFocus = _this.onFocus.bind(_this);\n    _this.onBlur = _this.onBlur.bind(_this);\n    _this.onMouseover = _this.onMouseover.bind(_this);\n    _this.onMouseout = _this.onMouseout.bind(_this);\n    _this.onScroll = _this.onScroll.bind(_this);\n    _this.onClick = _this.onClick.bind(_this);\n    _this.onRoute = _this.onRoute.bind(_this);\n    _this.el = el;\n\n    // TODO Cleanup (el_)\n    var el_ = document.createElement('div');\n    el_.style.cssText = 'pointer-events: auto';\n\n    if (el_.style.pointerEvents !== 'auto') {\n      delete _this.constructor.events.mouseover;\n    }\n    return _this;\n  }\n\n  _createClass(SidebarHover, [{\n    key: 'show',\n    value: function show(el) {\n      if (el !== this.cursor) {\n        this.hide();\n        if (this.isTarget(el) && this.isTruncated(el.lastElementChild || el)) {\n          this.cursor = el;\n          this.clone = this.makeClone(this.cursor);\n          $.append(document.body, this.clone);\n          if (this.offsetTop == null) {\n            this.offsetTop = this.el.offsetTop;\n          }\n          this.position();\n        }\n      }\n    }\n  }, {\n    key: 'hide',\n    value: function hide() {\n      if (this.cursor) {\n        $.remove(this.clone);\n        this.cursor = this.clone = null;\n      }\n    }\n  }, {\n    key: 'position',\n    value: function position() {\n      if (this.cursor) {\n        var rect = $.rect(this.cursor);\n        if (rect.top >= this.offsetTop) {\n          this.clone.style.top = rect.top + 'px';\n          this.clone.style.left = rect.left + 'px';\n        } else {\n          this.hide();\n        }\n      }\n    }\n  }, {\n    key: 'makeClone',\n    value: function makeClone(el) {\n      var clone = el.cloneNode(true);\n      clone.classList.add('clone');\n      return clone;\n    }\n  }, {\n    key: 'isTarget',\n    value: function isTarget(el) {\n      if (el != null && el.classList) {\n        return el.classList.contains(this.constructor.itemClass);\n      }\n\n      return false;\n    }\n  }, {\n    key: 'isSelected',\n    value: function isSelected(el) {\n      return el.classList.contains('active');\n    }\n  }, {\n    key: 'isTruncated',\n    value: function isTruncated(el) {\n      return el.scrollWidth > el.offsetWidth;\n    }\n  }, {\n    key: 'onFocus',\n    value: function onFocus(event) {\n      this.focusTime = Date.now();\n      this.show(event.target);\n    }\n  }, {\n    key: 'onBlur',\n    value: function onBlur() {\n      this.hide();\n    }\n  }, {\n    key: 'onMouseover',\n    value: function onMouseover(event) {\n      if (this.isTarget(event.target) && !this.isSelected(event.target) && this.mouseActivated()) {\n        this.show(event.target);\n      }\n    }\n  }, {\n    key: 'onMouseout',\n    value: function onMouseout(event) {\n      if (this.isTarget(event.target) && this.mouseActivated()) {\n        this.hide();\n      }\n    }\n  }, {\n    key: 'mouseActivated',\n    value: function mouseActivated() {\n      // Skip mouse events caused by focus events scrolling the sidebar.\n      return !this.focusTime || Date.now() - this.focusTime > 500;\n    }\n  }, {\n    key: 'onScroll',\n    value: function onScroll() {\n      this.position();\n    }\n  }, {\n    key: 'onClick',\n    value: function onClick(event) {\n      if (event.target === this.clone) {\n        $.click(this.cursor);\n      }\n    }\n  }, {\n    key: 'onRoute',\n    value: function onRoute() {\n      this.hide();\n    }\n  }]);\n\n  return SidebarHover;\n}(_view2.default);\n\nSidebarHover.itemClass = '_list-hover';\nSidebarHover.events = {\n  focus: 'onFocus',\n  blur: 'onBlur',\n  mouseover: 'onMouseover',\n  mouseout: 'onMouseout',\n  scroll: 'onScroll',\n  click: 'onClick'\n};\nSidebarHover.routes = {\n  after: 'onRoute'\n};\nexports.default = SidebarHover;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvamF2YXNjcmlwdHMvdmlld3Mvc2lkZWJhci9zaWRlYmFyX2hvdmVyLmpzPzk5MzQiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3ZpZXcgPSByZXF1aXJlKCcuLi92aWV3Jyk7XG5cbnZhciBfdmlldzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF92aWV3KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgU2lkZWJhckhvdmVyID0gZnVuY3Rpb24gKF9WaWV3KSB7XG4gIF9pbmhlcml0cyhTaWRlYmFySG92ZXIsIF9WaWV3KTtcblxuICBmdW5jdGlvbiBTaWRlYmFySG92ZXIoZWwpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2lkZWJhckhvdmVyKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChTaWRlYmFySG92ZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihTaWRlYmFySG92ZXIpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblxuICAgIF90aGlzLnBvc2l0aW9uID0gX3RoaXMucG9zaXRpb24uYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25Gb2N1cyA9IF90aGlzLm9uRm9jdXMuYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25CbHVyID0gX3RoaXMub25CbHVyLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uTW91c2VvdmVyID0gX3RoaXMub25Nb3VzZW92ZXIuYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25Nb3VzZW91dCA9IF90aGlzLm9uTW91c2VvdXQuYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25TY3JvbGwgPSBfdGhpcy5vblNjcm9sbC5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vbkNsaWNrID0gX3RoaXMub25DbGljay5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vblJvdXRlID0gX3RoaXMub25Sb3V0ZS5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5lbCA9IGVsO1xuXG4gICAgLy8gVE9ETyBDbGVhbnVwIChlbF8pXG4gICAgdmFyIGVsXyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGVsXy5zdHlsZS5jc3NUZXh0ID0gJ3BvaW50ZXItZXZlbnRzOiBhdXRvJztcblxuICAgIGlmIChlbF8uc3R5bGUucG9pbnRlckV2ZW50cyAhPT0gJ2F1dG8nKSB7XG4gICAgICBkZWxldGUgX3RoaXMuY29uc3RydWN0b3IuZXZlbnRzLm1vdXNlb3ZlcjtcbiAgICB9XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFNpZGViYXJIb3ZlciwgW3tcbiAgICBrZXk6ICdzaG93JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdyhlbCkge1xuICAgICAgaWYgKGVsICE9PSB0aGlzLmN1cnNvcikge1xuICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgaWYgKHRoaXMuaXNUYXJnZXQoZWwpICYmIHRoaXMuaXNUcnVuY2F0ZWQoZWwubGFzdEVsZW1lbnRDaGlsZCB8fCBlbCkpIHtcbiAgICAgICAgICB0aGlzLmN1cnNvciA9IGVsO1xuICAgICAgICAgIHRoaXMuY2xvbmUgPSB0aGlzLm1ha2VDbG9uZSh0aGlzLmN1cnNvcik7XG4gICAgICAgICAgJC5hcHBlbmQoZG9jdW1lbnQuYm9keSwgdGhpcy5jbG9uZSk7XG4gICAgICAgICAgaWYgKHRoaXMub2Zmc2V0VG9wID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMub2Zmc2V0VG9wID0gdGhpcy5lbC5vZmZzZXRUb3A7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMucG9zaXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hpZGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoaWRlKCkge1xuICAgICAgaWYgKHRoaXMuY3Vyc29yKSB7XG4gICAgICAgICQucmVtb3ZlKHRoaXMuY2xvbmUpO1xuICAgICAgICB0aGlzLmN1cnNvciA9IHRoaXMuY2xvbmUgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3Bvc2l0aW9uJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcG9zaXRpb24oKSB7XG4gICAgICBpZiAodGhpcy5jdXJzb3IpIHtcbiAgICAgICAgdmFyIHJlY3QgPSAkLnJlY3QodGhpcy5jdXJzb3IpO1xuICAgICAgICBpZiAocmVjdC50b3AgPj0gdGhpcy5vZmZzZXRUb3ApIHtcbiAgICAgICAgICB0aGlzLmNsb25lLnN0eWxlLnRvcCA9IHJlY3QudG9wICsgJ3B4JztcbiAgICAgICAgICB0aGlzLmNsb25lLnN0eWxlLmxlZnQgPSByZWN0LmxlZnQgKyAncHgnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnbWFrZUNsb25lJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFrZUNsb25lKGVsKSB7XG4gICAgICB2YXIgY2xvbmUgPSBlbC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBjbG9uZS5jbGFzc0xpc3QuYWRkKCdjbG9uZScpO1xuICAgICAgcmV0dXJuIGNsb25lO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2lzVGFyZ2V0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNUYXJnZXQoZWwpIHtcbiAgICAgIGlmIChlbCAhPSBudWxsICYmIGVsLmNsYXNzTGlzdCkge1xuICAgICAgICByZXR1cm4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuY29uc3RydWN0b3IuaXRlbUNsYXNzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2lzU2VsZWN0ZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc1NlbGVjdGVkKGVsKSB7XG4gICAgICByZXR1cm4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdpc1RydW5jYXRlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzVHJ1bmNhdGVkKGVsKSB7XG4gICAgICByZXR1cm4gZWwuc2Nyb2xsV2lkdGggPiBlbC5vZmZzZXRXaWR0aDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbkZvY3VzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Gb2N1cyhldmVudCkge1xuICAgICAgdGhpcy5mb2N1c1RpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgdGhpcy5zaG93KGV2ZW50LnRhcmdldCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25CbHVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25CbHVyKCkge1xuICAgICAgdGhpcy5oaWRlKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25Nb3VzZW92ZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbk1vdXNlb3ZlcihldmVudCkge1xuICAgICAgaWYgKHRoaXMuaXNUYXJnZXQoZXZlbnQudGFyZ2V0KSAmJiAhdGhpcy5pc1NlbGVjdGVkKGV2ZW50LnRhcmdldCkgJiYgdGhpcy5tb3VzZUFjdGl2YXRlZCgpKSB7XG4gICAgICAgIHRoaXMuc2hvdyhldmVudC50YXJnZXQpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uTW91c2VvdXQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbk1vdXNlb3V0KGV2ZW50KSB7XG4gICAgICBpZiAodGhpcy5pc1RhcmdldChldmVudC50YXJnZXQpICYmIHRoaXMubW91c2VBY3RpdmF0ZWQoKSkge1xuICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdtb3VzZUFjdGl2YXRlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1vdXNlQWN0aXZhdGVkKCkge1xuICAgICAgLy8gU2tpcCBtb3VzZSBldmVudHMgY2F1c2VkIGJ5IGZvY3VzIGV2ZW50cyBzY3JvbGxpbmcgdGhlIHNpZGViYXIuXG4gICAgICByZXR1cm4gIXRoaXMuZm9jdXNUaW1lIHx8IERhdGUubm93KCkgLSB0aGlzLmZvY3VzVGltZSA+IDUwMDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvblNjcm9sbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uU2Nyb2xsKCkge1xuICAgICAgdGhpcy5wb3NpdGlvbigpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uQ2xpY2snLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNsaWNrKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSB0aGlzLmNsb25lKSB7XG4gICAgICAgICQuY2xpY2sodGhpcy5jdXJzb3IpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uUm91dGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJvdXRlKCkge1xuICAgICAgdGhpcy5oaWRlKCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFNpZGViYXJIb3Zlcjtcbn0oX3ZpZXcyLmRlZmF1bHQpO1xuXG5TaWRlYmFySG92ZXIuaXRlbUNsYXNzID0gJ19saXN0LWhvdmVyJztcblNpZGViYXJIb3Zlci5ldmVudHMgPSB7XG4gIGZvY3VzOiAnb25Gb2N1cycsXG4gIGJsdXI6ICdvbkJsdXInLFxuICBtb3VzZW92ZXI6ICdvbk1vdXNlb3ZlcicsXG4gIG1vdXNlb3V0OiAnb25Nb3VzZW91dCcsXG4gIHNjcm9sbDogJ29uU2Nyb2xsJyxcbiAgY2xpY2s6ICdvbkNsaWNrJ1xufTtcblNpZGViYXJIb3Zlci5yb3V0ZXMgPSB7XG4gIGFmdGVyOiAnb25Sb3V0ZSdcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBTaWRlYmFySG92ZXI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hc3NldHMvamF2YXNjcmlwdHMvdmlld3Mvc2lkZWJhci9zaWRlYmFyX2hvdmVyLmpzXG4vLyBtb2R1bGUgaWQgPSAyMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///21\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _view = __webpack_require__(0);\n\nvar _view2 = _interopRequireDefault(_view);\n\nvar _list_focus = __webpack_require__(3);\n\nvar _list_focus2 = _interopRequireDefault(_list_focus);\n\nvar _list_fold = __webpack_require__(4);\n\nvar _list_fold2 = _interopRequireDefault(_list_fold);\n\nvar _list_select = __webpack_require__(5);\n\nvar _list_select2 = _interopRequireDefault(_list_select);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Results = function (_View) {\n  _inherits(Results, _View);\n\n  function Results(sidebar, search) {\n    _classCallCheck(this, Results);\n\n    var _this = _possibleConstructorReturn(this, (Results.__proto__ || Object.getPrototypeOf(Results)).apply(this, arguments));\n\n    _this.onResults = _this.onResults.bind(_this);\n    _this.onNoResults = _this.onNoResults.bind(_this);\n    _this.onClear = _this.onClear.bind(_this);\n    _this.afterRoute = _this.afterRoute.bind(_this);\n    _this.onClick = _this.onClick.bind(_this);\n    _this.sidebar = sidebar;\n    _this.search = search;\n\n    _this.addSubview(_this.listFocus = new _list_focus2.default(_this.el));\n    _this.addSubview(_this.listSelect = new _list_select2.default(_this.el));\n\n    _this.search.on('results', _this.onResults).on('noresults', _this.onNoResults).on('clear', _this.onClear);\n    return _this;\n  }\n\n  _createClass(Results, [{\n    key: 'deactivate',\n    value: function deactivate() {\n      if (_get(Results.prototype.__proto__ || Object.getPrototypeOf(Results.prototype), 'deactivate', this).apply(this, arguments)) {\n        this.empty();\n      }\n    }\n  }, {\n    key: 'onResults',\n    value: function onResults(entries, flags) {\n      if (flags.initialResults) {\n        if (this.listFocus != null) {\n          this.listFocus.blur();\n        }\n      }\n      if (flags.initialResults) {\n        this.empty();\n      }\n      this.append(this.tmpl('sidebarResult', entries));\n\n      if (flags.initialResults) {\n        if (flags.urlSearch) {\n          this.openFirst();\n        } else {\n          this.focusFirst();\n        }\n      }\n    }\n  }, {\n    key: 'onNoResults',\n    value: function onNoResults() {\n      this.html(this.tmpl('sidebarNoResults'));\n    }\n  }, {\n    key: 'onClear',\n    value: function onClear() {\n      this.empty();\n    }\n  }, {\n    key: 'focusFirst',\n    value: function focusFirst() {\n      if (!app.isMobile()) {\n        if (this.listFocus != null) {\n          this.listFocus.focusOnNextFrame(this.el.firstElementChild);\n        }\n      }\n    }\n  }, {\n    key: 'openFirst',\n    value: function openFirst() {\n      if (this.el.firstElementChild != null) {\n        this.el.firstElementChild.click();\n      }\n    }\n  }, {\n    key: 'onDocEnabled',\n    value: function onDocEnabled(doc) {\n      app.router.show(doc.fullPath());\n      return this.sidebar.onDocEnabled();\n    }\n  }, {\n    key: 'afterRoute',\n    value: function afterRoute(route, context) {\n      if (route === 'entry') {\n        this.listSelect.selectByHref(context.entry.fullPath());\n      } else {\n        this.listSelect.deselect();\n      }\n    }\n  }, {\n    key: 'onClick',\n    value: function onClick(event) {\n      var slug = void 0;\n      if (event.which !== 1) {\n        return;\n      }\n      if (slug = $.eventTarget(event).getAttribute('data-enable')) {\n        $.stopEvent(event);\n        var doc = app.disabledDocs.findBy('slug', slug);\n        if (doc) {\n          return app.enableDoc(doc, this.onDocEnabled.bind(this, doc), $.noop);\n        }\n      }\n    }\n  }]);\n\n  return Results;\n}(_view2.default);\n\nResults.className = '_list';\nResults.events = {\n  click: 'onClick'\n};\nResults.routes = {\n  after: 'afterRoute'\n};\nexports.default = Results;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvamF2YXNjcmlwdHMvdmlld3Mvc2lkZWJhci9yZXN1bHRzLmpzPzFlZTEiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2dldCA9IGZ1bmN0aW9uIGdldChvYmplY3QsIHByb3BlcnR5LCByZWNlaXZlcikgeyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgcmV0dXJuIGdldChwYXJlbnQsIHByb3BlcnR5LCByZWNlaXZlcik7IH0gfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH07XG5cbnZhciBfdmlldyA9IHJlcXVpcmUoJy4uL3ZpZXcnKTtcblxudmFyIF92aWV3MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ZpZXcpO1xuXG52YXIgX2xpc3RfZm9jdXMgPSByZXF1aXJlKCcuLi9saXN0L2xpc3RfZm9jdXMnKTtcblxudmFyIF9saXN0X2ZvY3VzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xpc3RfZm9jdXMpO1xuXG52YXIgX2xpc3RfZm9sZCA9IHJlcXVpcmUoJy4uL2xpc3QvbGlzdF9mb2xkJyk7XG5cbnZhciBfbGlzdF9mb2xkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xpc3RfZm9sZCk7XG5cbnZhciBfbGlzdF9zZWxlY3QgPSByZXF1aXJlKCcuLi9saXN0L2xpc3Rfc2VsZWN0Jyk7XG5cbnZhciBfbGlzdF9zZWxlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbGlzdF9zZWxlY3QpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSZXN1bHRzID0gZnVuY3Rpb24gKF9WaWV3KSB7XG4gIF9pbmhlcml0cyhSZXN1bHRzLCBfVmlldyk7XG5cbiAgZnVuY3Rpb24gUmVzdWx0cyhzaWRlYmFyLCBzZWFyY2gpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVzdWx0cyk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmVzdWx0cy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJlc3VsdHMpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblxuICAgIF90aGlzLm9uUmVzdWx0cyA9IF90aGlzLm9uUmVzdWx0cy5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vbk5vUmVzdWx0cyA9IF90aGlzLm9uTm9SZXN1bHRzLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uQ2xlYXIgPSBfdGhpcy5vbkNsZWFyLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLmFmdGVyUm91dGUgPSBfdGhpcy5hZnRlclJvdXRlLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uQ2xpY2sgPSBfdGhpcy5vbkNsaWNrLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLnNpZGViYXIgPSBzaWRlYmFyO1xuICAgIF90aGlzLnNlYXJjaCA9IHNlYXJjaDtcblxuICAgIF90aGlzLmFkZFN1YnZpZXcoX3RoaXMubGlzdEZvY3VzID0gbmV3IF9saXN0X2ZvY3VzMi5kZWZhdWx0KF90aGlzLmVsKSk7XG4gICAgX3RoaXMuYWRkU3VidmlldyhfdGhpcy5saXN0U2VsZWN0ID0gbmV3IF9saXN0X3NlbGVjdDIuZGVmYXVsdChfdGhpcy5lbCkpO1xuXG4gICAgX3RoaXMuc2VhcmNoLm9uKCdyZXN1bHRzJywgX3RoaXMub25SZXN1bHRzKS5vbignbm9yZXN1bHRzJywgX3RoaXMub25Ob1Jlc3VsdHMpLm9uKCdjbGVhcicsIF90aGlzLm9uQ2xlYXIpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhSZXN1bHRzLCBbe1xuICAgIGtleTogJ2RlYWN0aXZhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWFjdGl2YXRlKCkge1xuICAgICAgaWYgKF9nZXQoUmVzdWx0cy5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSZXN1bHRzLnByb3RvdHlwZSksICdkZWFjdGl2YXRlJywgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKSkge1xuICAgICAgICB0aGlzLmVtcHR5KCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25SZXN1bHRzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SZXN1bHRzKGVudHJpZXMsIGZsYWdzKSB7XG4gICAgICBpZiAoZmxhZ3MuaW5pdGlhbFJlc3VsdHMpIHtcbiAgICAgICAgaWYgKHRoaXMubGlzdEZvY3VzICE9IG51bGwpIHtcbiAgICAgICAgICB0aGlzLmxpc3RGb2N1cy5ibHVyKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChmbGFncy5pbml0aWFsUmVzdWx0cykge1xuICAgICAgICB0aGlzLmVtcHR5KCk7XG4gICAgICB9XG4gICAgICB0aGlzLmFwcGVuZCh0aGlzLnRtcGwoJ3NpZGViYXJSZXN1bHQnLCBlbnRyaWVzKSk7XG5cbiAgICAgIGlmIChmbGFncy5pbml0aWFsUmVzdWx0cykge1xuICAgICAgICBpZiAoZmxhZ3MudXJsU2VhcmNoKSB7XG4gICAgICAgICAgdGhpcy5vcGVuRmlyc3QoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmZvY3VzRmlyc3QoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uTm9SZXN1bHRzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Ob1Jlc3VsdHMoKSB7XG4gICAgICB0aGlzLmh0bWwodGhpcy50bXBsKCdzaWRlYmFyTm9SZXN1bHRzJykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uQ2xlYXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNsZWFyKCkge1xuICAgICAgdGhpcy5lbXB0eSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2ZvY3VzRmlyc3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb2N1c0ZpcnN0KCkge1xuICAgICAgaWYgKCFhcHAuaXNNb2JpbGUoKSkge1xuICAgICAgICBpZiAodGhpcy5saXN0Rm9jdXMgIT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMubGlzdEZvY3VzLmZvY3VzT25OZXh0RnJhbWUodGhpcy5lbC5maXJzdEVsZW1lbnRDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvcGVuRmlyc3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuRmlyc3QoKSB7XG4gICAgICBpZiAodGhpcy5lbC5maXJzdEVsZW1lbnRDaGlsZCAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuZWwuZmlyc3RFbGVtZW50Q2hpbGQuY2xpY2soKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbkRvY0VuYWJsZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkRvY0VuYWJsZWQoZG9jKSB7XG4gICAgICBhcHAucm91dGVyLnNob3coZG9jLmZ1bGxQYXRoKCkpO1xuICAgICAgcmV0dXJuIHRoaXMuc2lkZWJhci5vbkRvY0VuYWJsZWQoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdhZnRlclJvdXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWZ0ZXJSb3V0ZShyb3V0ZSwgY29udGV4dCkge1xuICAgICAgaWYgKHJvdXRlID09PSAnZW50cnknKSB7XG4gICAgICAgIHRoaXMubGlzdFNlbGVjdC5zZWxlY3RCeUhyZWYoY29udGV4dC5lbnRyeS5mdWxsUGF0aCgpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubGlzdFNlbGVjdC5kZXNlbGVjdCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uQ2xpY2snLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNsaWNrKGV2ZW50KSB7XG4gICAgICB2YXIgc2x1ZyA9IHZvaWQgMDtcbiAgICAgIGlmIChldmVudC53aGljaCAhPT0gMSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoc2x1ZyA9ICQuZXZlbnRUYXJnZXQoZXZlbnQpLmdldEF0dHJpYnV0ZSgnZGF0YS1lbmFibGUnKSkge1xuICAgICAgICAkLnN0b3BFdmVudChldmVudCk7XG4gICAgICAgIHZhciBkb2MgPSBhcHAuZGlzYWJsZWREb2NzLmZpbmRCeSgnc2x1ZycsIHNsdWcpO1xuICAgICAgICBpZiAoZG9jKSB7XG4gICAgICAgICAgcmV0dXJuIGFwcC5lbmFibGVEb2MoZG9jLCB0aGlzLm9uRG9jRW5hYmxlZC5iaW5kKHRoaXMsIGRvYyksICQubm9vcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUmVzdWx0cztcbn0oX3ZpZXcyLmRlZmF1bHQpO1xuXG5SZXN1bHRzLmNsYXNzTmFtZSA9ICdfbGlzdCc7XG5SZXN1bHRzLmV2ZW50cyA9IHtcbiAgY2xpY2s6ICdvbkNsaWNrJ1xufTtcblJlc3VsdHMucm91dGVzID0ge1xuICBhZnRlcjogJ2FmdGVyUm91dGUnXG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gUmVzdWx0cztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Fzc2V0cy9qYXZhc2NyaXB0cy92aWV3cy9zaWRlYmFyL3Jlc3VsdHMuanNcbi8vIG1vZHVsZSBpZCA9IDIyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///22\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _view = __webpack_require__(0);\n\nvar _view2 = _interopRequireDefault(_view);\n\nvar _list_focus = __webpack_require__(3);\n\nvar _list_focus2 = _interopRequireDefault(_list_focus);\n\nvar _list_fold = __webpack_require__(4);\n\nvar _list_fold2 = _interopRequireDefault(_list_fold);\n\nvar _list_select = __webpack_require__(5);\n\nvar _list_select2 = _interopRequireDefault(_list_select);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DocList = function (_View) {\n  _inherits(DocList, _View);\n\n  function DocList() {\n    var _ref;\n\n    _classCallCheck(this, DocList);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var _this = _possibleConstructorReturn(this, (_ref = DocList.__proto__ || Object.getPrototypeOf(DocList)).call.apply(_ref, [this].concat(args)));\n\n    _this.render = _this.render.bind(_this);\n    _this.onOpen = _this.onOpen.bind(_this);\n    _this.onClose = _this.onClose.bind(_this);\n    _this.onClick = _this.onClick.bind(_this);\n    _this.onEnabled = _this.onEnabled.bind(_this);\n    _this.afterRoute = _this.afterRoute.bind(_this);\n\n    _this.lists = {};\n\n    _this.addSubview(_this.listFocus = new _list_focus2.default(_this.el));\n    _this.addSubview(_this.listFold = new _list_fold2.default(_this.el));\n    _this.addSubview(_this.listSelect = new _list_select2.default(_this.el));\n\n    app.on('ready', _this.render);\n    return _this;\n  }\n\n  _createClass(DocList, [{\n    key: 'activate',\n    value: function activate() {\n      if (_get(DocList.prototype.__proto__ || Object.getPrototypeOf(DocList.prototype), 'activate', this).apply(this, arguments)) {\n        for (var slug in this.lists) {\n          var list = this.lists[slug];\n          list.activate();\n        }\n        this.listSelect.selectCurrent();\n      }\n    }\n  }, {\n    key: 'deactivate',\n    value: function deactivate() {\n      if (_get(DocList.prototype.__proto__ || Object.getPrototypeOf(DocList.prototype), 'deactivate', this).apply(this, arguments)) {\n        for (var slug in this.lists) {\n          var list = this.lists[slug];\n          list.deactivate();\n        }\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var html = '';\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = app.docs.all()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var doc = _step.value;\n\n          html += this.tmpl('sidebarDoc', doc, {\n            fullName: app.docs.countAllBy('name', doc.name) > 1\n          });\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      this.html(html);\n      if (!app.isSingleDoc() && app.disabledDocs.size() !== 0) {\n        this.renderDisabled();\n      }\n    }\n  }, {\n    key: 'renderDisabled',\n    value: function renderDisabled() {\n      this.append(this.tmpl('sidebarDisabled', {\n        count: app.disabledDocs.size()\n      }));\n      this.refreshElements();\n      this.renderDisabledList();\n    }\n  }, {\n    key: 'renderDisabledList',\n    value: function renderDisabledList() {\n      if (app.settings.get('hideDisabled')) {\n        this.removeDisabledList();\n      } else {\n        this.appendDisabledList();\n      }\n    }\n  }, {\n    key: 'appendDisabledList',\n    value: function appendDisabledList() {\n      var _ref2;\n\n      var doc = void 0;\n      var html = '';\n      var docs = (_ref2 = []).concat.apply(_ref2, _toConsumableArray(app.disabledDocs.all() || []));\n\n      while (doc = docs.shift()) {\n        if (doc.version != null) {\n          var versions = '';\n          while (true) {\n            versions += this.tmpl('sidebarDoc', doc, {\n              disabled: true\n            });\n            if ((docs[0] != null ? docs[0].name : undefined) !== doc.name) {\n              break;\n            }\n            doc = docs.shift();\n          }\n          html += this.tmpl('sidebarDisabledVersionedDoc', doc, versions);\n        } else {\n          html += this.tmpl('sidebarDoc', doc, {\n            disabled: true\n          });\n        }\n      }\n\n      this.append(this.tmpl('sidebarDisabledList', html));\n      this.disabledTitle.classList.add('open-title');\n      this.refreshElements();\n    }\n  }, {\n    key: 'removeDisabledList',\n    value: function removeDisabledList() {\n      if (this.disabledList) {\n        $.remove(this.disabledList);\n      }\n      this.disabledTitle.classList.remove('open-title');\n      this.refreshElements();\n    }\n  }, {\n    key: 'reset',\n    value: function reset(options) {\n      if (options == null) {\n        options = {};\n      }\n      this.listSelect.deselect();\n      if (this.listFocus != null) {\n        this.listFocus.blur();\n      }\n      this.listFold.reset();\n      if (options.revealCurrent || app.isSingleDoc()) {\n        this.revealCurrent();\n      }\n    }\n  }, {\n    key: 'onOpen',\n    value: function onOpen(event) {\n      $.stopEvent(event);\n      var doc = app.docs.findBy('slug', event.target.getAttribute('data-slug'));\n\n      if (doc && !this.lists[doc.slug]) {\n        this.lists[doc.slug] = doc.types.isEmpty() ? new app.views.EntryList(doc.entries.all()) : new app.views.TypeList(doc);\n        $.after(event.target, this.lists[doc.slug].el);\n      }\n    }\n  }, {\n    key: 'onClose',\n    value: function onClose(event) {\n      $.stopEvent(event);\n      var doc = app.docs.findBy('slug', event.target.getAttribute('data-slug'));\n\n      if (doc && this.lists[doc.slug]) {\n        this.lists[doc.slug].detach();\n        delete this.lists[doc.slug];\n      }\n    }\n  }, {\n    key: 'select',\n    value: function select(model) {\n      this.listSelect.selectByHref(model != null ? model.fullPath() : undefined);\n    }\n  }, {\n    key: 'reveal',\n    value: function reveal(model) {\n      this.openDoc(model.doc);\n      if (model.type) {\n        this.openType(model.getType());\n      }\n      this.focus(model);\n      this.paginateTo(model);\n      this.scrollTo(model);\n    }\n  }, {\n    key: 'focus',\n    value: function focus(model) {\n      if (this.listFocus != null) {\n        this.listFocus.focus(this.find('a[href=\\'' + model.fullPath() + '\\']'));\n      }\n    }\n  }, {\n    key: 'revealCurrent',\n    value: function revealCurrent() {\n      var model = void 0;\n      if (model = app.router.context.type || app.router.context.entry) {\n        this.reveal(model);\n        this.select(model);\n      }\n    }\n  }, {\n    key: 'openDoc',\n    value: function openDoc(doc) {\n      if (app.disabledDocs.contains(doc) && doc.version) {\n        this.listFold.open(this.find('[data-slug=\\'' + doc.slug_without_version + '\\']'));\n      }\n      this.listFold.open(this.find('[data-slug=\\'' + doc.slug + '\\']'));\n    }\n  }, {\n    key: 'closeDoc',\n    value: function closeDoc(doc) {\n      this.listFold.close(this.find('[data-slug=\\'' + doc.slug + '\\']'));\n    }\n  }, {\n    key: 'openType',\n    value: function openType(type) {\n      this.listFold.open(this.lists[type.doc.slug].find('[data-slug=\\'' + type.slug + '\\']'));\n    }\n  }, {\n    key: 'paginateTo',\n    value: function paginateTo(model) {\n      if (this.lists[model.doc.slug] != null) {\n        this.lists[model.doc.slug].paginateTo(model);\n      }\n    }\n  }, {\n    key: 'scrollTo',\n    value: function scrollTo(model) {\n      $.scrollTo(this.find('a[href=\\'' + model.fullPath() + '\\']'), null, 'top', {\n        margin: app.isMobile() ? 48 : 0\n      });\n    }\n  }, {\n    key: 'toggleDisabled',\n    value: function toggleDisabled() {\n      if (this.disabledTitle.classList.contains('open-title')) {\n        this.removeDisabledList();\n        app.settings.set('hideDisabled', true);\n      } else {\n        this.appendDisabledList();\n        app.settings.set('hideDisabled', false);\n      }\n    }\n  }, {\n    key: 'onClick',\n    value: function onClick(event) {\n      var slug = void 0;\n      var target = $.eventTarget(event);\n      if (this.disabledTitle && $.hasChild(this.disabledTitle, target) && target.tagName !== 'A') {\n        $.stopEvent(event);\n        this.toggleDisabled();\n      } else if (slug = target.getAttribute('data-enable')) {\n        $.stopEvent(event);\n        var doc = app.disabledDocs.findBy('slug', slug);\n        if (doc) {\n          app.enableDoc(doc, this.onEnabled, this.onEnabled);\n        }\n      }\n    }\n  }, {\n    key: 'onEnabled',\n    value: function onEnabled() {\n      this.reset();\n      this.render();\n    }\n  }, {\n    key: 'afterRoute',\n    value: function afterRoute(route, context) {\n      if (context.init) {\n        if (this.activated) {\n          this.reset({\n            revealCurrent: true\n          });\n        }\n      } else {\n        this.select(context.type || context.entry);\n      }\n    }\n  }]);\n\n  return DocList;\n}(_view2.default);\n\nDocList.className = '_list';\nDocList.attributes = {\n  role: 'navigation'\n};\nDocList.events = {\n  open: 'onOpen',\n  close: 'onClose',\n  click: 'onClick'\n};\nDocList.routes = {\n  after: 'afterRoute'\n};\nDocList.elements = {\n  disabledTitle: '._list-title',\n  disabledList: '._disabled-list'\n};\nexports.default = DocList;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvamF2YXNjcmlwdHMvdmlld3Mvc2lkZWJhci9kb2NfbGlzdC5qcz82ODE1Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQob2JqZWN0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IHJldHVybiBnZXQocGFyZW50LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpOyB9IH0gZWxzZSBpZiAoXCJ2YWx1ZVwiIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9O1xuXG52YXIgX3ZpZXcgPSByZXF1aXJlKCcuLi92aWV3Jyk7XG5cbnZhciBfdmlldzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF92aWV3KTtcblxudmFyIF9saXN0X2ZvY3VzID0gcmVxdWlyZSgnLi4vbGlzdC9saXN0X2ZvY3VzJyk7XG5cbnZhciBfbGlzdF9mb2N1czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9saXN0X2ZvY3VzKTtcblxudmFyIF9saXN0X2ZvbGQgPSByZXF1aXJlKCcuLi9saXN0L2xpc3RfZm9sZCcpO1xuXG52YXIgX2xpc3RfZm9sZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9saXN0X2ZvbGQpO1xuXG52YXIgX2xpc3Rfc2VsZWN0ID0gcmVxdWlyZSgnLi4vbGlzdC9saXN0X3NlbGVjdCcpO1xuXG52YXIgX2xpc3Rfc2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xpc3Rfc2VsZWN0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIERvY0xpc3QgPSBmdW5jdGlvbiAoX1ZpZXcpIHtcbiAgX2luaGVyaXRzKERvY0xpc3QsIF9WaWV3KTtcblxuICBmdW5jdGlvbiBEb2NMaXN0KCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERvY0xpc3QpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9yZWYgPSBEb2NMaXN0Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRG9jTGlzdCkpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpO1xuXG4gICAgX3RoaXMucmVuZGVyID0gX3RoaXMucmVuZGVyLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uT3BlbiA9IF90aGlzLm9uT3Blbi5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vbkNsb3NlID0gX3RoaXMub25DbG9zZS5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vbkNsaWNrID0gX3RoaXMub25DbGljay5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vbkVuYWJsZWQgPSBfdGhpcy5vbkVuYWJsZWQuYmluZChfdGhpcyk7XG4gICAgX3RoaXMuYWZ0ZXJSb3V0ZSA9IF90aGlzLmFmdGVyUm91dGUuYmluZChfdGhpcyk7XG5cbiAgICBfdGhpcy5saXN0cyA9IHt9O1xuXG4gICAgX3RoaXMuYWRkU3VidmlldyhfdGhpcy5saXN0Rm9jdXMgPSBuZXcgX2xpc3RfZm9jdXMyLmRlZmF1bHQoX3RoaXMuZWwpKTtcbiAgICBfdGhpcy5hZGRTdWJ2aWV3KF90aGlzLmxpc3RGb2xkID0gbmV3IF9saXN0X2ZvbGQyLmRlZmF1bHQoX3RoaXMuZWwpKTtcbiAgICBfdGhpcy5hZGRTdWJ2aWV3KF90aGlzLmxpc3RTZWxlY3QgPSBuZXcgX2xpc3Rfc2VsZWN0Mi5kZWZhdWx0KF90aGlzLmVsKSk7XG5cbiAgICBhcHAub24oJ3JlYWR5JywgX3RoaXMucmVuZGVyKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRG9jTGlzdCwgW3tcbiAgICBrZXk6ICdhY3RpdmF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgaWYgKF9nZXQoRG9jTGlzdC5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihEb2NMaXN0LnByb3RvdHlwZSksICdhY3RpdmF0ZScsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpIHtcbiAgICAgICAgZm9yICh2YXIgc2x1ZyBpbiB0aGlzLmxpc3RzKSB7XG4gICAgICAgICAgdmFyIGxpc3QgPSB0aGlzLmxpc3RzW3NsdWddO1xuICAgICAgICAgIGxpc3QuYWN0aXZhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxpc3RTZWxlY3Quc2VsZWN0Q3VycmVudCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2RlYWN0aXZhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWFjdGl2YXRlKCkge1xuICAgICAgaWYgKF9nZXQoRG9jTGlzdC5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihEb2NMaXN0LnByb3RvdHlwZSksICdkZWFjdGl2YXRlJywgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKSkge1xuICAgICAgICBmb3IgKHZhciBzbHVnIGluIHRoaXMubGlzdHMpIHtcbiAgICAgICAgICB2YXIgbGlzdCA9IHRoaXMubGlzdHNbc2x1Z107XG4gICAgICAgICAgbGlzdC5kZWFjdGl2YXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgaHRtbCA9ICcnO1xuICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGFwcC5kb2NzLmFsbCgpW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgIHZhciBkb2MgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgIGh0bWwgKz0gdGhpcy50bXBsKCdzaWRlYmFyRG9jJywgZG9jLCB7XG4gICAgICAgICAgICBmdWxsTmFtZTogYXBwLmRvY3MuY291bnRBbGxCeSgnbmFtZScsIGRvYy5uYW1lKSA+IDFcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaHRtbChodG1sKTtcbiAgICAgIGlmICghYXBwLmlzU2luZ2xlRG9jKCkgJiYgYXBwLmRpc2FibGVkRG9jcy5zaXplKCkgIT09IDApIHtcbiAgICAgICAgdGhpcy5yZW5kZXJEaXNhYmxlZCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlckRpc2FibGVkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyRGlzYWJsZWQoKSB7XG4gICAgICB0aGlzLmFwcGVuZCh0aGlzLnRtcGwoJ3NpZGViYXJEaXNhYmxlZCcsIHtcbiAgICAgICAgY291bnQ6IGFwcC5kaXNhYmxlZERvY3Muc2l6ZSgpXG4gICAgICB9KSk7XG4gICAgICB0aGlzLnJlZnJlc2hFbGVtZW50cygpO1xuICAgICAgdGhpcy5yZW5kZXJEaXNhYmxlZExpc3QoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXJEaXNhYmxlZExpc3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJEaXNhYmxlZExpc3QoKSB7XG4gICAgICBpZiAoYXBwLnNldHRpbmdzLmdldCgnaGlkZURpc2FibGVkJykpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVEaXNhYmxlZExpc3QoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYXBwZW5kRGlzYWJsZWRMaXN0KCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnYXBwZW5kRGlzYWJsZWRMaXN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYXBwZW5kRGlzYWJsZWRMaXN0KCkge1xuICAgICAgdmFyIF9yZWYyO1xuXG4gICAgICB2YXIgZG9jID0gdm9pZCAwO1xuICAgICAgdmFyIGh0bWwgPSAnJztcbiAgICAgIHZhciBkb2NzID0gKF9yZWYyID0gW10pLmNvbmNhdC5hcHBseShfcmVmMiwgX3RvQ29uc3VtYWJsZUFycmF5KGFwcC5kaXNhYmxlZERvY3MuYWxsKCkgfHwgW10pKTtcblxuICAgICAgd2hpbGUgKGRvYyA9IGRvY3Muc2hpZnQoKSkge1xuICAgICAgICBpZiAoZG9jLnZlcnNpb24gIT0gbnVsbCkge1xuICAgICAgICAgIHZhciB2ZXJzaW9ucyA9ICcnO1xuICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICB2ZXJzaW9ucyArPSB0aGlzLnRtcGwoJ3NpZGViYXJEb2MnLCBkb2MsIHtcbiAgICAgICAgICAgICAgZGlzYWJsZWQ6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKChkb2NzWzBdICE9IG51bGwgPyBkb2NzWzBdLm5hbWUgOiB1bmRlZmluZWQpICE9PSBkb2MubmFtZSkge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvYyA9IGRvY3Muc2hpZnQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaHRtbCArPSB0aGlzLnRtcGwoJ3NpZGViYXJEaXNhYmxlZFZlcnNpb25lZERvYycsIGRvYywgdmVyc2lvbnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGh0bWwgKz0gdGhpcy50bXBsKCdzaWRlYmFyRG9jJywgZG9jLCB7XG4gICAgICAgICAgICBkaXNhYmxlZDogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYXBwZW5kKHRoaXMudG1wbCgnc2lkZWJhckRpc2FibGVkTGlzdCcsIGh0bWwpKTtcbiAgICAgIHRoaXMuZGlzYWJsZWRUaXRsZS5jbGFzc0xpc3QuYWRkKCdvcGVuLXRpdGxlJyk7XG4gICAgICB0aGlzLnJlZnJlc2hFbGVtZW50cygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbW92ZURpc2FibGVkTGlzdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZURpc2FibGVkTGlzdCgpIHtcbiAgICAgIGlmICh0aGlzLmRpc2FibGVkTGlzdCkge1xuICAgICAgICAkLnJlbW92ZSh0aGlzLmRpc2FibGVkTGlzdCk7XG4gICAgICB9XG4gICAgICB0aGlzLmRpc2FibGVkVGl0bGUuY2xhc3NMaXN0LnJlbW92ZSgnb3Blbi10aXRsZScpO1xuICAgICAgdGhpcy5yZWZyZXNoRWxlbWVudHMoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZXNldCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0KG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zID09IG51bGwpIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuICAgICAgdGhpcy5saXN0U2VsZWN0LmRlc2VsZWN0KCk7XG4gICAgICBpZiAodGhpcy5saXN0Rm9jdXMgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLmxpc3RGb2N1cy5ibHVyKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmxpc3RGb2xkLnJlc2V0KCk7XG4gICAgICBpZiAob3B0aW9ucy5yZXZlYWxDdXJyZW50IHx8IGFwcC5pc1NpbmdsZURvYygpKSB7XG4gICAgICAgIHRoaXMucmV2ZWFsQ3VycmVudCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uT3BlbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uT3BlbihldmVudCkge1xuICAgICAgJC5zdG9wRXZlbnQoZXZlbnQpO1xuICAgICAgdmFyIGRvYyA9IGFwcC5kb2NzLmZpbmRCeSgnc2x1ZycsIGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2x1ZycpKTtcblxuICAgICAgaWYgKGRvYyAmJiAhdGhpcy5saXN0c1tkb2Muc2x1Z10pIHtcbiAgICAgICAgdGhpcy5saXN0c1tkb2Muc2x1Z10gPSBkb2MudHlwZXMuaXNFbXB0eSgpID8gbmV3IGFwcC52aWV3cy5FbnRyeUxpc3QoZG9jLmVudHJpZXMuYWxsKCkpIDogbmV3IGFwcC52aWV3cy5UeXBlTGlzdChkb2MpO1xuICAgICAgICAkLmFmdGVyKGV2ZW50LnRhcmdldCwgdGhpcy5saXN0c1tkb2Muc2x1Z10uZWwpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uQ2xvc2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNsb3NlKGV2ZW50KSB7XG4gICAgICAkLnN0b3BFdmVudChldmVudCk7XG4gICAgICB2YXIgZG9jID0gYXBwLmRvY3MuZmluZEJ5KCdzbHVnJywgZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1zbHVnJykpO1xuXG4gICAgICBpZiAoZG9jICYmIHRoaXMubGlzdHNbZG9jLnNsdWddKSB7XG4gICAgICAgIHRoaXMubGlzdHNbZG9jLnNsdWddLmRldGFjaCgpO1xuICAgICAgICBkZWxldGUgdGhpcy5saXN0c1tkb2Muc2x1Z107XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2VsZWN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VsZWN0KG1vZGVsKSB7XG4gICAgICB0aGlzLmxpc3RTZWxlY3Quc2VsZWN0QnlIcmVmKG1vZGVsICE9IG51bGwgPyBtb2RlbC5mdWxsUGF0aCgpIDogdW5kZWZpbmVkKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZXZlYWwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXZlYWwobW9kZWwpIHtcbiAgICAgIHRoaXMub3BlbkRvYyhtb2RlbC5kb2MpO1xuICAgICAgaWYgKG1vZGVsLnR5cGUpIHtcbiAgICAgICAgdGhpcy5vcGVuVHlwZShtb2RlbC5nZXRUeXBlKCkpO1xuICAgICAgfVxuICAgICAgdGhpcy5mb2N1cyhtb2RlbCk7XG4gICAgICB0aGlzLnBhZ2luYXRlVG8obW9kZWwpO1xuICAgICAgdGhpcy5zY3JvbGxUbyhtb2RlbCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZm9jdXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb2N1cyhtb2RlbCkge1xuICAgICAgaWYgKHRoaXMubGlzdEZvY3VzICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5saXN0Rm9jdXMuZm9jdXModGhpcy5maW5kKCdhW2hyZWY9XFwnJyArIG1vZGVsLmZ1bGxQYXRoKCkgKyAnXFwnXScpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZXZlYWxDdXJyZW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmV2ZWFsQ3VycmVudCgpIHtcbiAgICAgIHZhciBtb2RlbCA9IHZvaWQgMDtcbiAgICAgIGlmIChtb2RlbCA9IGFwcC5yb3V0ZXIuY29udGV4dC50eXBlIHx8IGFwcC5yb3V0ZXIuY29udGV4dC5lbnRyeSkge1xuICAgICAgICB0aGlzLnJldmVhbChtb2RlbCk7XG4gICAgICAgIHRoaXMuc2VsZWN0KG1vZGVsKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvcGVuRG9jJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb3BlbkRvYyhkb2MpIHtcbiAgICAgIGlmIChhcHAuZGlzYWJsZWREb2NzLmNvbnRhaW5zKGRvYykgJiYgZG9jLnZlcnNpb24pIHtcbiAgICAgICAgdGhpcy5saXN0Rm9sZC5vcGVuKHRoaXMuZmluZCgnW2RhdGEtc2x1Zz1cXCcnICsgZG9jLnNsdWdfd2l0aG91dF92ZXJzaW9uICsgJ1xcJ10nKSk7XG4gICAgICB9XG4gICAgICB0aGlzLmxpc3RGb2xkLm9wZW4odGhpcy5maW5kKCdbZGF0YS1zbHVnPVxcJycgKyBkb2Muc2x1ZyArICdcXCddJykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Nsb3NlRG9jJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2VEb2MoZG9jKSB7XG4gICAgICB0aGlzLmxpc3RGb2xkLmNsb3NlKHRoaXMuZmluZCgnW2RhdGEtc2x1Zz1cXCcnICsgZG9jLnNsdWcgKyAnXFwnXScpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvcGVuVHlwZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW5UeXBlKHR5cGUpIHtcbiAgICAgIHRoaXMubGlzdEZvbGQub3Blbih0aGlzLmxpc3RzW3R5cGUuZG9jLnNsdWddLmZpbmQoJ1tkYXRhLXNsdWc9XFwnJyArIHR5cGUuc2x1ZyArICdcXCddJykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3BhZ2luYXRlVG8nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwYWdpbmF0ZVRvKG1vZGVsKSB7XG4gICAgICBpZiAodGhpcy5saXN0c1ttb2RlbC5kb2Muc2x1Z10gIT0gbnVsbCkge1xuICAgICAgICB0aGlzLmxpc3RzW21vZGVsLmRvYy5zbHVnXS5wYWdpbmF0ZVRvKG1vZGVsKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzY3JvbGxUbycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNjcm9sbFRvKG1vZGVsKSB7XG4gICAgICAkLnNjcm9sbFRvKHRoaXMuZmluZCgnYVtocmVmPVxcJycgKyBtb2RlbC5mdWxsUGF0aCgpICsgJ1xcJ10nKSwgbnVsbCwgJ3RvcCcsIHtcbiAgICAgICAgbWFyZ2luOiBhcHAuaXNNb2JpbGUoKSA/IDQ4IDogMFxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAndG9nZ2xlRGlzYWJsZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b2dnbGVEaXNhYmxlZCgpIHtcbiAgICAgIGlmICh0aGlzLmRpc2FibGVkVGl0bGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdvcGVuLXRpdGxlJykpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVEaXNhYmxlZExpc3QoKTtcbiAgICAgICAgYXBwLnNldHRpbmdzLnNldCgnaGlkZURpc2FibGVkJywgdHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmFwcGVuZERpc2FibGVkTGlzdCgpO1xuICAgICAgICBhcHAuc2V0dGluZ3Muc2V0KCdoaWRlRGlzYWJsZWQnLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25DbGljaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQpIHtcbiAgICAgIHZhciBzbHVnID0gdm9pZCAwO1xuICAgICAgdmFyIHRhcmdldCA9ICQuZXZlbnRUYXJnZXQoZXZlbnQpO1xuICAgICAgaWYgKHRoaXMuZGlzYWJsZWRUaXRsZSAmJiAkLmhhc0NoaWxkKHRoaXMuZGlzYWJsZWRUaXRsZSwgdGFyZ2V0KSAmJiB0YXJnZXQudGFnTmFtZSAhPT0gJ0EnKSB7XG4gICAgICAgICQuc3RvcEV2ZW50KGV2ZW50KTtcbiAgICAgICAgdGhpcy50b2dnbGVEaXNhYmxlZCgpO1xuICAgICAgfSBlbHNlIGlmIChzbHVnID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1lbmFibGUnKSkge1xuICAgICAgICAkLnN0b3BFdmVudChldmVudCk7XG4gICAgICAgIHZhciBkb2MgPSBhcHAuZGlzYWJsZWREb2NzLmZpbmRCeSgnc2x1ZycsIHNsdWcpO1xuICAgICAgICBpZiAoZG9jKSB7XG4gICAgICAgICAgYXBwLmVuYWJsZURvYyhkb2MsIHRoaXMub25FbmFibGVkLCB0aGlzLm9uRW5hYmxlZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbkVuYWJsZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkVuYWJsZWQoKSB7XG4gICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2FmdGVyUm91dGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZnRlclJvdXRlKHJvdXRlLCBjb250ZXh0KSB7XG4gICAgICBpZiAoY29udGV4dC5pbml0KSB7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2YXRlZCkge1xuICAgICAgICAgIHRoaXMucmVzZXQoe1xuICAgICAgICAgICAgcmV2ZWFsQ3VycmVudDogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNlbGVjdChjb250ZXh0LnR5cGUgfHwgY29udGV4dC5lbnRyeSk7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIERvY0xpc3Q7XG59KF92aWV3Mi5kZWZhdWx0KTtcblxuRG9jTGlzdC5jbGFzc05hbWUgPSAnX2xpc3QnO1xuRG9jTGlzdC5hdHRyaWJ1dGVzID0ge1xuICByb2xlOiAnbmF2aWdhdGlvbidcbn07XG5Eb2NMaXN0LmV2ZW50cyA9IHtcbiAgb3BlbjogJ29uT3BlbicsXG4gIGNsb3NlOiAnb25DbG9zZScsXG4gIGNsaWNrOiAnb25DbGljaydcbn07XG5Eb2NMaXN0LnJvdXRlcyA9IHtcbiAgYWZ0ZXI6ICdhZnRlclJvdXRlJ1xufTtcbkRvY0xpc3QuZWxlbWVudHMgPSB7XG4gIGRpc2FibGVkVGl0bGU6ICcuX2xpc3QtdGl0bGUnLFxuICBkaXNhYmxlZExpc3Q6ICcuX2Rpc2FibGVkLWxpc3QnXG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gRG9jTGlzdDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Fzc2V0cy9qYXZhc2NyaXB0cy92aWV3cy9zaWRlYmFyL2RvY19saXN0LmpzXG4vLyBtb2R1bGUgaWQgPSAyM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///23\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _view = __webpack_require__(0);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Resizer = function (_View) {\n  _inherits(Resizer, _View);\n\n  function Resizer() {\n    var _ref;\n\n    _classCallCheck(this, Resizer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var _this = _possibleConstructorReturn(this, (_ref = Resizer.__proto__ || Object.getPrototypeOf(Resizer)).call.apply(_ref, [this].concat(args)));\n\n    _this.onDragStart = _this.onDragStart.bind(_this);\n    _this.onDrag = _this.onDrag.bind(_this);\n    _this.onDragEnd = _this.onDragEnd.bind(_this);\n\n    _this.el.setAttribute('draggable', 'true');\n    _this.appendTo($('._app'));\n\n    _this.style = $('style[data-resizer]');\n    _this.size = _this.style.getAttribute('data-size');\n    return _this;\n  }\n\n  _createClass(Resizer, [{\n    key: 'resize',\n    value: function resize(value, save) {\n      value -= app.el.offsetLeft;\n      if (!(value > 0)) {\n        return;\n      }\n      value = Math.min(Math.max(Math.round(value), MIN), MAX);\n      var newSize = value + 'px';\n      this.style.innerHTML = this.style.innerHTML.replace(new RegExp(this.size, 'g'), newSize);\n      this.size = newSize;\n      if (save) {\n        app.settings.setSize(value);\n        if (app.appCache != null) {\n          app.appCache.updateInBackground();\n        }\n      }\n    }\n  }, {\n    key: 'onDragStart',\n    value: function onDragStart(event) {\n      this.style.removeAttribute('disabled');\n      event.dataTransfer.effectAllowed = 'link';\n      event.dataTransfer.setData('Text', '');\n      $.on(window, 'dragover', this.onDrag);\n    }\n  }, {\n    key: 'onDrag',\n    value: function onDrag(event) {\n      var value = event.pageX;\n      if (!(value > 0)) {\n        return;\n      }\n      this.lastDragValue = value;\n      if (this.lastDrag && this.lastDrag > Date.now() - 50) {\n        return;\n      }\n      this.lastDrag = Date.now();\n      this.resize(value, false);\n    }\n  }, {\n    key: 'onDragEnd',\n    value: function onDragEnd(event) {\n      $.off(window, 'dragover', this.onDrag);\n      var value = event.pageX || event.screenX - window.screenX;\n      if (this.lastDragValue && !(this.lastDragValue - 5 < value && value < this.lastDragValue + 5)) {\n        // https://github.com/freeCodeCamp/devdocs/issues/265\n        value = this.lastDragValue;\n      }\n      this.resize(value, true);\n    }\n  }], [{\n    key: 'isSupported',\n    value: function isSupported() {\n      return 'ondragstart' in document.createElement('div') && !app.isMobile();\n    }\n  }]);\n\n  return Resizer;\n}(_view2.default);\n\nResizer.className = '_resizer';\nResizer.events = {\n  dragstart: 'onDragStart',\n  dragend: 'onDragEnd'\n};\nResizer.MIN = 260;\nResizer.MAX = 600;\nexports.default = Resizer;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvamF2YXNjcmlwdHMvdmlld3MvbGF5b3V0L3Jlc2l6ZXIuanM/MjljMSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfdmlldyA9IHJlcXVpcmUoJy4uL3ZpZXcnKTtcblxudmFyIF92aWV3MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ZpZXcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSZXNpemVyID0gZnVuY3Rpb24gKF9WaWV3KSB7XG4gIF9pbmhlcml0cyhSZXNpemVyLCBfVmlldyk7XG5cbiAgZnVuY3Rpb24gUmVzaXplcigpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZXNpemVyKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfcmVmID0gUmVzaXplci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJlc2l6ZXIpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKTtcblxuICAgIF90aGlzLm9uRHJhZ1N0YXJ0ID0gX3RoaXMub25EcmFnU3RhcnQuYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25EcmFnID0gX3RoaXMub25EcmFnLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uRHJhZ0VuZCA9IF90aGlzLm9uRHJhZ0VuZC5iaW5kKF90aGlzKTtcblxuICAgIF90aGlzLmVsLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgJ3RydWUnKTtcbiAgICBfdGhpcy5hcHBlbmRUbygkKCcuX2FwcCcpKTtcblxuICAgIF90aGlzLnN0eWxlID0gJCgnc3R5bGVbZGF0YS1yZXNpemVyXScpO1xuICAgIF90aGlzLnNpemUgPSBfdGhpcy5zdHlsZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2l6ZScpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhSZXNpemVyLCBbe1xuICAgIGtleTogJ3Jlc2l6ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2l6ZSh2YWx1ZSwgc2F2ZSkge1xuICAgICAgdmFsdWUgLT0gYXBwLmVsLm9mZnNldExlZnQ7XG4gICAgICBpZiAoISh2YWx1ZSA+IDApKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gTWF0aC5taW4oTWF0aC5tYXgoTWF0aC5yb3VuZCh2YWx1ZSksIE1JTiksIE1BWCk7XG4gICAgICB2YXIgbmV3U2l6ZSA9IHZhbHVlICsgJ3B4JztcbiAgICAgIHRoaXMuc3R5bGUuaW5uZXJIVE1MID0gdGhpcy5zdHlsZS5pbm5lckhUTUwucmVwbGFjZShuZXcgUmVnRXhwKHRoaXMuc2l6ZSwgJ2cnKSwgbmV3U2l6ZSk7XG4gICAgICB0aGlzLnNpemUgPSBuZXdTaXplO1xuICAgICAgaWYgKHNhdmUpIHtcbiAgICAgICAgYXBwLnNldHRpbmdzLnNldFNpemUodmFsdWUpO1xuICAgICAgICBpZiAoYXBwLmFwcENhY2hlICE9IG51bGwpIHtcbiAgICAgICAgICBhcHAuYXBwQ2FjaGUudXBkYXRlSW5CYWNrZ3JvdW5kKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbkRyYWdTdGFydCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uRHJhZ1N0YXJ0KGV2ZW50KSB7XG4gICAgICB0aGlzLnN0eWxlLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gJ2xpbmsnO1xuICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLnNldERhdGEoJ1RleHQnLCAnJyk7XG4gICAgICAkLm9uKHdpbmRvdywgJ2RyYWdvdmVyJywgdGhpcy5vbkRyYWcpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uRHJhZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uRHJhZyhldmVudCkge1xuICAgICAgdmFyIHZhbHVlID0gZXZlbnQucGFnZVg7XG4gICAgICBpZiAoISh2YWx1ZSA+IDApKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMubGFzdERyYWdWYWx1ZSA9IHZhbHVlO1xuICAgICAgaWYgKHRoaXMubGFzdERyYWcgJiYgdGhpcy5sYXN0RHJhZyA+IERhdGUubm93KCkgLSA1MCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmxhc3REcmFnID0gRGF0ZS5ub3coKTtcbiAgICAgIHRoaXMucmVzaXplKHZhbHVlLCBmYWxzZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25EcmFnRW5kJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25EcmFnRW5kKGV2ZW50KSB7XG4gICAgICAkLm9mZih3aW5kb3csICdkcmFnb3ZlcicsIHRoaXMub25EcmFnKTtcbiAgICAgIHZhciB2YWx1ZSA9IGV2ZW50LnBhZ2VYIHx8IGV2ZW50LnNjcmVlblggLSB3aW5kb3cuc2NyZWVuWDtcbiAgICAgIGlmICh0aGlzLmxhc3REcmFnVmFsdWUgJiYgISh0aGlzLmxhc3REcmFnVmFsdWUgLSA1IDwgdmFsdWUgJiYgdmFsdWUgPCB0aGlzLmxhc3REcmFnVmFsdWUgKyA1KSkge1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZnJlZUNvZGVDYW1wL2RldmRvY3MvaXNzdWVzLzI2NVxuICAgICAgICB2YWx1ZSA9IHRoaXMubGFzdERyYWdWYWx1ZTtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVzaXplKHZhbHVlLCB0cnVlKTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogJ2lzU3VwcG9ydGVkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNTdXBwb3J0ZWQoKSB7XG4gICAgICByZXR1cm4gJ29uZHJhZ3N0YXJ0JyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSAmJiAhYXBwLmlzTW9iaWxlKCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFJlc2l6ZXI7XG59KF92aWV3Mi5kZWZhdWx0KTtcblxuUmVzaXplci5jbGFzc05hbWUgPSAnX3Jlc2l6ZXInO1xuUmVzaXplci5ldmVudHMgPSB7XG4gIGRyYWdzdGFydDogJ29uRHJhZ1N0YXJ0JyxcbiAgZHJhZ2VuZDogJ29uRHJhZ0VuZCdcbn07XG5SZXNpemVyLk1JTiA9IDI2MDtcblJlc2l6ZXIuTUFYID0gNjAwO1xuZXhwb3J0cy5kZWZhdWx0ID0gUmVzaXplcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Fzc2V0cy9qYXZhc2NyaXB0cy92aWV3cy9sYXlvdXQvcmVzaXplci5qc1xuLy8gbW9kdWxlIGlkID0gMjRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///24\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _root_page = __webpack_require__(26);\n\nvar _root_page2 = _interopRequireDefault(_root_page);\n\nvar _entry_page = __webpack_require__(27);\n\nvar _entry_page2 = _interopRequireDefault(_entry_page);\n\nvar _offline_page = __webpack_require__(28);\n\nvar _offline_page2 = _interopRequireDefault(_offline_page);\n\nvar _settings_page = __webpack_require__(29);\n\nvar _settings_page2 = _interopRequireDefault(_settings_page);\n\nvar _static_page = __webpack_require__(30);\n\nvar _static_page2 = _interopRequireDefault(_static_page);\n\nvar _type_page = __webpack_require__(31);\n\nvar _type_page2 = _interopRequireDefault(_type_page);\n\nvar _view = __webpack_require__(0);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Content = function (_View) {\n  _inherits(Content, _View);\n\n  function Content() {\n    var _ref;\n\n    _classCallCheck(this, Content);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var _this = _possibleConstructorReturn(this, (_ref = Content.__proto__ || Object.getPrototypeOf(Content)).call.apply(_ref, [this].concat(args)));\n\n    _this.scrollToTop = _this.scrollToTop.bind(_this);\n    _this.scrollToBottom = _this.scrollToBottom.bind(_this);\n    _this.scrollStepUp = _this.scrollStepUp.bind(_this);\n    _this.scrollStepDown = _this.scrollStepDown.bind(_this);\n    _this.scrollPageUp = _this.scrollPageUp.bind(_this);\n    _this.scrollPageDown = _this.scrollPageDown.bind(_this);\n    _this.onReady = _this.onReady.bind(_this);\n    _this.onBootError = _this.onBootError.bind(_this);\n    _this.onEntryLoading = _this.onEntryLoading.bind(_this);\n    _this.onEntryLoaded = _this.onEntryLoaded.bind(_this);\n    _this.beforeRoute = _this.beforeRoute.bind(_this);\n    _this.afterRoute = _this.afterRoute.bind(_this);\n    _this.onClick = _this.onClick.bind(_this);\n    _this.onAltF = _this.onAltF.bind(_this);\n\n    _this.scrollEl = app.isMobile() ? document.scrollingElement || document.body : _this.el;\n    _this.scrollMap = {};\n    _this.scrollStack = [];\n\n    _this.rootPage = new _root_page2.default();\n    _this.staticPage = new _static_page2.default();\n    _this.settingsPage = new _settings_page2.default();\n    _this.offlinePage = new _offline_page2.default();\n    _this.typePage = new _type_page2.default();\n    _this.entryPage = new _entry_page2.default();\n\n    _this.entryPage.on('loading', _this.onEntryLoading).on('loaded', _this.onEntryLoaded);\n\n    app.on('ready', _this.onReady).on('bootError', _this.onBootError);\n\n    return _this;\n  }\n\n  _createClass(Content, [{\n    key: 'show',\n    value: function show(view) {\n      this.hideLoading();\n      if (view !== this.view) {\n        if (this.view != null) {\n          this.view.deactivate();\n        }\n        this.html(this.view = view);\n        this.view.activate();\n      }\n    }\n  }, {\n    key: 'showLoading',\n    value: function showLoading() {\n      this.addClass(this.constructor.loadingClass);\n    }\n  }, {\n    key: 'isLoading',\n    value: function isLoading() {\n      return this.el.classList.contains(this.constructor.loadingClass);\n    }\n  }, {\n    key: 'hideLoading',\n    value: function hideLoading() {\n      this.removeClass(this.constructor.loadingClass);\n    }\n  }, {\n    key: 'scrollTo',\n    value: function scrollTo(value) {\n      this.scrollEl.scrollTop = value || 0;\n    }\n  }, {\n    key: 'smoothScrollTo',\n    value: function smoothScrollTo(value) {\n      if (app.settings.get('fastScroll')) {\n        this.scrollTo(value);\n      } else {\n        $.smoothScroll(this.scrollEl, value || 0);\n      }\n    }\n  }, {\n    key: 'scrollBy',\n    value: function scrollBy(n) {\n      this.smoothScrollTo(this.scrollEl.scrollTop + n);\n    }\n  }, {\n    key: 'scrollToTop',\n    value: function scrollToTop() {\n      this.smoothScrollTo(0);\n    }\n  }, {\n    key: 'scrollToBottom',\n    value: function scrollToBottom() {\n      this.smoothScrollTo(this.scrollEl.scrollHeight);\n    }\n  }, {\n    key: 'scrollStepUp',\n    value: function scrollStepUp() {\n      this.scrollBy(-80);\n    }\n  }, {\n    key: 'scrollStepDown',\n    value: function scrollStepDown() {\n      this.scrollBy(80);\n    }\n  }, {\n    key: 'scrollPageUp',\n    value: function scrollPageUp() {\n      this.scrollBy(40 - this.scrollEl.clientHeight);\n    }\n  }, {\n    key: 'scrollPageDown',\n    value: function scrollPageDown() {\n      this.scrollBy(this.scrollEl.clientHeight - 40);\n    }\n  }, {\n    key: 'scrollToTarget',\n    value: function scrollToTarget() {\n      var el = void 0;\n      if (this.routeCtx.hash && (el = this.findTargetByHash(this.routeCtx.hash))) {\n        $.scrollToWithImageLock(el, this.scrollEl, 'top', {\n          margin: this.scrollEl === this.el ? 0 : $.offset(this.el).top\n        });\n        $.highlight(el, {\n          className: '_highlight'\n        });\n      } else {\n        this.scrollTo(this.scrollMap[this.routeCtx.state.id]);\n      }\n    }\n  }, {\n    key: 'onReady',\n    value: function onReady() {\n      this.hideLoading();\n    }\n  }, {\n    key: 'onBootError',\n    value: function onBootError() {\n      this.hideLoading();\n      this.html(this.tmpl('bootError'));\n    }\n  }, {\n    key: 'onEntryLoading',\n    value: function onEntryLoading() {\n      this.showLoading();\n      if (this.scrollToTargetTimeout) {\n        clearTimeout(this.scrollToTargetTimeout);\n        this.scrollToTargetTimeout = null;\n      }\n    }\n  }, {\n    key: 'onEntryLoaded',\n    value: function onEntryLoaded() {\n      this.hideLoading();\n      if (this.scrollToTargetTimeout) {\n        clearTimeout(this.scrollToTargetTimeout);\n        this.scrollToTargetTimeout = null;\n      }\n      this.scrollToTarget();\n    }\n  }, {\n    key: 'beforeRoute',\n    value: function beforeRoute(context) {\n      this.cacheScrollPosition();\n      this.routeCtx = context;\n      this.scrollToTargetTimeout = this.delay(this.scrollToTarget);\n    }\n  }, {\n    key: 'cacheScrollPosition',\n    value: function cacheScrollPosition() {\n      if (!this.routeCtx || this.routeCtx.hash) {\n        return;\n      }\n      if (this.routeCtx.path === '/') {\n        return;\n      }\n\n      if (this.scrollMap[this.routeCtx.state.id] == null) {\n        this.scrollStack.push(this.routeCtx.state.id);\n        while (this.scrollStack.length > App.config.history_cache_size) {\n          delete this.scrollMap[this.scrollStack.shift()];\n        }\n      }\n\n      this.scrollMap[this.routeCtx.state.id] = this.scrollEl.scrollTop;\n    }\n  }, {\n    key: 'afterRoute',\n    value: function afterRoute(route, context) {\n      switch (route) {\n        case 'root':\n          this.show(this.rootPage);\n          break;\n        case 'entry':\n          this.show(this.entryPage);\n          break;\n        case 'type':\n          this.show(this.typePage);\n          break;\n        case 'settings':\n          this.show(this.settingsPage);\n          break;\n        case 'offline':\n          this.show(this.offlinePage);\n          break;\n        default:\n          this.show(this.staticPage);\n      }\n\n      this.view.onRoute(context);\n      app.document.setTitle(typeof this.view.getTitle === 'function' ? this.view.getTitle() : undefined);\n    }\n  }, {\n    key: 'onClick',\n    value: function onClick(event) {\n      var link = $.closestLink($.eventTarget(event), this.el);\n      if (link && this.isExternalUrl(link.getAttribute('href'))) {\n        $.stopEvent(event);\n        $.popup(link);\n      }\n    }\n  }, {\n    key: 'onAltF',\n    value: function onAltF(event) {\n      if (!document.activeElement || !$.hasChild(this.el, document.activeElement)) {\n        var element = this.find('a:not(:empty)');\n\n        if (element) {\n          element.focus();\n        }\n\n        return $.stopEvent(event);\n      }\n    }\n  }, {\n    key: 'findTargetByHash',\n    value: function findTargetByHash(hash) {\n      var el = function () {\n        try {\n          return $.id(decodeURIComponent(hash));\n        } catch (error) {}\n      }();\n      if (!el) {\n        el = function () {\n          try {\n            return $.id(hash);\n          } catch (error1) {}\n        }();\n      }\n      return el;\n    }\n  }, {\n    key: 'isExternalUrl',\n    value: function isExternalUrl(url) {\n      var needle = null;\n\n      if (url) {\n        needle = url.slice(0, 6);\n      }\n\n      return needle && ['http:/', 'https:'].includes(needle);\n    }\n  }]);\n\n  return Content;\n}(_view2.default);\n\nContent.el = '._content';\nContent.loadingClass = '_content-loading';\nContent.events = {\n  click: 'onClick'\n};\nContent.shortcuts = {\n  altUp: 'scrollStepUp',\n  altDown: 'scrollStepDown',\n  pageUp: 'scrollPageUp',\n  pageDown: 'scrollPageDown',\n  pageTop: 'scrollToTop',\n  pageBottom: 'scrollToBottom',\n  altF: 'onAltF'\n};\nContent.routes = {\n  before: 'beforeRoute',\n  after: 'afterRoute'\n};\nexports.default = Content;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvamF2YXNjcmlwdHMvdmlld3MvY29udGVudC9jb250ZW50LmpzPzgyMDYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3Jvb3RfcGFnZSA9IHJlcXVpcmUoJy4vcm9vdF9wYWdlJyk7XG5cbnZhciBfcm9vdF9wYWdlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Jvb3RfcGFnZSk7XG5cbnZhciBfZW50cnlfcGFnZSA9IHJlcXVpcmUoJy4vZW50cnlfcGFnZScpO1xuXG52YXIgX2VudHJ5X3BhZ2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZW50cnlfcGFnZSk7XG5cbnZhciBfb2ZmbGluZV9wYWdlID0gcmVxdWlyZSgnLi9vZmZsaW5lX3BhZ2UnKTtcblxudmFyIF9vZmZsaW5lX3BhZ2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2ZmbGluZV9wYWdlKTtcblxudmFyIF9zZXR0aW5nc19wYWdlID0gcmVxdWlyZSgnLi9zZXR0aW5nc19wYWdlJyk7XG5cbnZhciBfc2V0dGluZ3NfcGFnZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5nc19wYWdlKTtcblxudmFyIF9zdGF0aWNfcGFnZSA9IHJlcXVpcmUoJy4vc3RhdGljX3BhZ2UnKTtcblxudmFyIF9zdGF0aWNfcGFnZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdGF0aWNfcGFnZSk7XG5cbnZhciBfdHlwZV9wYWdlID0gcmVxdWlyZSgnLi90eXBlX3BhZ2UnKTtcblxudmFyIF90eXBlX3BhZ2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHlwZV9wYWdlKTtcblxudmFyIF92aWV3ID0gcmVxdWlyZSgnLi4vdmlldycpO1xuXG52YXIgX3ZpZXcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdmlldyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIENvbnRlbnQgPSBmdW5jdGlvbiAoX1ZpZXcpIHtcbiAgX2luaGVyaXRzKENvbnRlbnQsIF9WaWV3KTtcblxuICBmdW5jdGlvbiBDb250ZW50KCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbnRlbnQpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9yZWYgPSBDb250ZW50Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ29udGVudCkpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpO1xuXG4gICAgX3RoaXMuc2Nyb2xsVG9Ub3AgPSBfdGhpcy5zY3JvbGxUb1RvcC5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5zY3JvbGxUb0JvdHRvbSA9IF90aGlzLnNjcm9sbFRvQm90dG9tLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLnNjcm9sbFN0ZXBVcCA9IF90aGlzLnNjcm9sbFN0ZXBVcC5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5zY3JvbGxTdGVwRG93biA9IF90aGlzLnNjcm9sbFN0ZXBEb3duLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLnNjcm9sbFBhZ2VVcCA9IF90aGlzLnNjcm9sbFBhZ2VVcC5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5zY3JvbGxQYWdlRG93biA9IF90aGlzLnNjcm9sbFBhZ2VEb3duLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uUmVhZHkgPSBfdGhpcy5vblJlYWR5LmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uQm9vdEVycm9yID0gX3RoaXMub25Cb290RXJyb3IuYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25FbnRyeUxvYWRpbmcgPSBfdGhpcy5vbkVudHJ5TG9hZGluZy5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vbkVudHJ5TG9hZGVkID0gX3RoaXMub25FbnRyeUxvYWRlZC5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5iZWZvcmVSb3V0ZSA9IF90aGlzLmJlZm9yZVJvdXRlLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLmFmdGVyUm91dGUgPSBfdGhpcy5hZnRlclJvdXRlLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uQ2xpY2sgPSBfdGhpcy5vbkNsaWNrLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uQWx0RiA9IF90aGlzLm9uQWx0Ri5iaW5kKF90aGlzKTtcblxuICAgIF90aGlzLnNjcm9sbEVsID0gYXBwLmlzTW9iaWxlKCkgPyBkb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50IHx8IGRvY3VtZW50LmJvZHkgOiBfdGhpcy5lbDtcbiAgICBfdGhpcy5zY3JvbGxNYXAgPSB7fTtcbiAgICBfdGhpcy5zY3JvbGxTdGFjayA9IFtdO1xuXG4gICAgX3RoaXMucm9vdFBhZ2UgPSBuZXcgX3Jvb3RfcGFnZTIuZGVmYXVsdCgpO1xuICAgIF90aGlzLnN0YXRpY1BhZ2UgPSBuZXcgX3N0YXRpY19wYWdlMi5kZWZhdWx0KCk7XG4gICAgX3RoaXMuc2V0dGluZ3NQYWdlID0gbmV3IF9zZXR0aW5nc19wYWdlMi5kZWZhdWx0KCk7XG4gICAgX3RoaXMub2ZmbGluZVBhZ2UgPSBuZXcgX29mZmxpbmVfcGFnZTIuZGVmYXVsdCgpO1xuICAgIF90aGlzLnR5cGVQYWdlID0gbmV3IF90eXBlX3BhZ2UyLmRlZmF1bHQoKTtcbiAgICBfdGhpcy5lbnRyeVBhZ2UgPSBuZXcgX2VudHJ5X3BhZ2UyLmRlZmF1bHQoKTtcblxuICAgIF90aGlzLmVudHJ5UGFnZS5vbignbG9hZGluZycsIF90aGlzLm9uRW50cnlMb2FkaW5nKS5vbignbG9hZGVkJywgX3RoaXMub25FbnRyeUxvYWRlZCk7XG5cbiAgICBhcHAub24oJ3JlYWR5JywgX3RoaXMub25SZWFkeSkub24oJ2Jvb3RFcnJvcicsIF90aGlzLm9uQm9vdEVycm9yKTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDb250ZW50LCBbe1xuICAgIGtleTogJ3Nob3cnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93KHZpZXcpIHtcbiAgICAgIHRoaXMuaGlkZUxvYWRpbmcoKTtcbiAgICAgIGlmICh2aWV3ICE9PSB0aGlzLnZpZXcpIHtcbiAgICAgICAgaWYgKHRoaXMudmlldyAhPSBudWxsKSB7XG4gICAgICAgICAgdGhpcy52aWV3LmRlYWN0aXZhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmh0bWwodGhpcy52aWV3ID0gdmlldyk7XG4gICAgICAgIHRoaXMudmlldy5hY3RpdmF0ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3Nob3dMb2FkaW5nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd0xvYWRpbmcoKSB7XG4gICAgICB0aGlzLmFkZENsYXNzKHRoaXMuY29uc3RydWN0b3IubG9hZGluZ0NsYXNzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdpc0xvYWRpbmcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0xvYWRpbmcoKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbC5jbGFzc0xpc3QuY29udGFpbnModGhpcy5jb25zdHJ1Y3Rvci5sb2FkaW5nQ2xhc3MpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hpZGVMb2FkaW5nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZUxvYWRpbmcoKSB7XG4gICAgICB0aGlzLnJlbW92ZUNsYXNzKHRoaXMuY29uc3RydWN0b3IubG9hZGluZ0NsYXNzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzY3JvbGxUbycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNjcm9sbFRvKHZhbHVlKSB7XG4gICAgICB0aGlzLnNjcm9sbEVsLnNjcm9sbFRvcCA9IHZhbHVlIHx8IDA7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc21vb3RoU2Nyb2xsVG8nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzbW9vdGhTY3JvbGxUbyh2YWx1ZSkge1xuICAgICAgaWYgKGFwcC5zZXR0aW5ncy5nZXQoJ2Zhc3RTY3JvbGwnKSkge1xuICAgICAgICB0aGlzLnNjcm9sbFRvKHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQuc21vb3RoU2Nyb2xsKHRoaXMuc2Nyb2xsRWwsIHZhbHVlIHx8IDApO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3Njcm9sbEJ5JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2Nyb2xsQnkobikge1xuICAgICAgdGhpcy5zbW9vdGhTY3JvbGxUbyh0aGlzLnNjcm9sbEVsLnNjcm9sbFRvcCArIG4pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3Njcm9sbFRvVG9wJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2Nyb2xsVG9Ub3AoKSB7XG4gICAgICB0aGlzLnNtb290aFNjcm9sbFRvKDApO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3Njcm9sbFRvQm90dG9tJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2Nyb2xsVG9Cb3R0b20oKSB7XG4gICAgICB0aGlzLnNtb290aFNjcm9sbFRvKHRoaXMuc2Nyb2xsRWwuc2Nyb2xsSGVpZ2h0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzY3JvbGxTdGVwVXAnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzY3JvbGxTdGVwVXAoKSB7XG4gICAgICB0aGlzLnNjcm9sbEJ5KC04MCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2Nyb2xsU3RlcERvd24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzY3JvbGxTdGVwRG93bigpIHtcbiAgICAgIHRoaXMuc2Nyb2xsQnkoODApO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3Njcm9sbFBhZ2VVcCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNjcm9sbFBhZ2VVcCgpIHtcbiAgICAgIHRoaXMuc2Nyb2xsQnkoNDAgLSB0aGlzLnNjcm9sbEVsLmNsaWVudEhlaWdodCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2Nyb2xsUGFnZURvd24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzY3JvbGxQYWdlRG93bigpIHtcbiAgICAgIHRoaXMuc2Nyb2xsQnkodGhpcy5zY3JvbGxFbC5jbGllbnRIZWlnaHQgLSA0MCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2Nyb2xsVG9UYXJnZXQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzY3JvbGxUb1RhcmdldCgpIHtcbiAgICAgIHZhciBlbCA9IHZvaWQgMDtcbiAgICAgIGlmICh0aGlzLnJvdXRlQ3R4Lmhhc2ggJiYgKGVsID0gdGhpcy5maW5kVGFyZ2V0QnlIYXNoKHRoaXMucm91dGVDdHguaGFzaCkpKSB7XG4gICAgICAgICQuc2Nyb2xsVG9XaXRoSW1hZ2VMb2NrKGVsLCB0aGlzLnNjcm9sbEVsLCAndG9wJywge1xuICAgICAgICAgIG1hcmdpbjogdGhpcy5zY3JvbGxFbCA9PT0gdGhpcy5lbCA/IDAgOiAkLm9mZnNldCh0aGlzLmVsKS50b3BcbiAgICAgICAgfSk7XG4gICAgICAgICQuaGlnaGxpZ2h0KGVsLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiAnX2hpZ2hsaWdodCdcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNjcm9sbFRvKHRoaXMuc2Nyb2xsTWFwW3RoaXMucm91dGVDdHguc3RhdGUuaWRdKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvblJlYWR5JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SZWFkeSgpIHtcbiAgICAgIHRoaXMuaGlkZUxvYWRpbmcoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbkJvb3RFcnJvcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQm9vdEVycm9yKCkge1xuICAgICAgdGhpcy5oaWRlTG9hZGluZygpO1xuICAgICAgdGhpcy5odG1sKHRoaXMudG1wbCgnYm9vdEVycm9yJykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uRW50cnlMb2FkaW5nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25FbnRyeUxvYWRpbmcoKSB7XG4gICAgICB0aGlzLnNob3dMb2FkaW5nKCk7XG4gICAgICBpZiAodGhpcy5zY3JvbGxUb1RhcmdldFRpbWVvdXQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuc2Nyb2xsVG9UYXJnZXRUaW1lb3V0KTtcbiAgICAgICAgdGhpcy5zY3JvbGxUb1RhcmdldFRpbWVvdXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uRW50cnlMb2FkZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkVudHJ5TG9hZGVkKCkge1xuICAgICAgdGhpcy5oaWRlTG9hZGluZygpO1xuICAgICAgaWYgKHRoaXMuc2Nyb2xsVG9UYXJnZXRUaW1lb3V0KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnNjcm9sbFRvVGFyZ2V0VGltZW91dCk7XG4gICAgICAgIHRoaXMuc2Nyb2xsVG9UYXJnZXRUaW1lb3V0ID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2Nyb2xsVG9UYXJnZXQoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdiZWZvcmVSb3V0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGJlZm9yZVJvdXRlKGNvbnRleHQpIHtcbiAgICAgIHRoaXMuY2FjaGVTY3JvbGxQb3NpdGlvbigpO1xuICAgICAgdGhpcy5yb3V0ZUN0eCA9IGNvbnRleHQ7XG4gICAgICB0aGlzLnNjcm9sbFRvVGFyZ2V0VGltZW91dCA9IHRoaXMuZGVsYXkodGhpcy5zY3JvbGxUb1RhcmdldCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY2FjaGVTY3JvbGxQb3NpdGlvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNhY2hlU2Nyb2xsUG9zaXRpb24oKSB7XG4gICAgICBpZiAoIXRoaXMucm91dGVDdHggfHwgdGhpcy5yb3V0ZUN0eC5oYXNoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnJvdXRlQ3R4LnBhdGggPT09ICcvJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnNjcm9sbE1hcFt0aGlzLnJvdXRlQ3R4LnN0YXRlLmlkXSA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuc2Nyb2xsU3RhY2sucHVzaCh0aGlzLnJvdXRlQ3R4LnN0YXRlLmlkKTtcbiAgICAgICAgd2hpbGUgKHRoaXMuc2Nyb2xsU3RhY2subGVuZ3RoID4gYXBwLmNvbmZpZy5oaXN0b3J5X2NhY2hlX3NpemUpIHtcbiAgICAgICAgICBkZWxldGUgdGhpcy5zY3JvbGxNYXBbdGhpcy5zY3JvbGxTdGFjay5zaGlmdCgpXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLnNjcm9sbE1hcFt0aGlzLnJvdXRlQ3R4LnN0YXRlLmlkXSA9IHRoaXMuc2Nyb2xsRWwuc2Nyb2xsVG9wO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2FmdGVyUm91dGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZnRlclJvdXRlKHJvdXRlLCBjb250ZXh0KSB7XG4gICAgICBzd2l0Y2ggKHJvdXRlKSB7XG4gICAgICAgIGNhc2UgJ3Jvb3QnOlxuICAgICAgICAgIHRoaXMuc2hvdyh0aGlzLnJvb3RQYWdlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZW50cnknOlxuICAgICAgICAgIHRoaXMuc2hvdyh0aGlzLmVudHJ5UGFnZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3R5cGUnOlxuICAgICAgICAgIHRoaXMuc2hvdyh0aGlzLnR5cGVQYWdlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnc2V0dGluZ3MnOlxuICAgICAgICAgIHRoaXMuc2hvdyh0aGlzLnNldHRpbmdzUGFnZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ29mZmxpbmUnOlxuICAgICAgICAgIHRoaXMuc2hvdyh0aGlzLm9mZmxpbmVQYWdlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aGlzLnNob3codGhpcy5zdGF0aWNQYWdlKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy52aWV3Lm9uUm91dGUoY29udGV4dCk7XG4gICAgICBhcHAuZG9jdW1lbnQuc2V0VGl0bGUodHlwZW9mIHRoaXMudmlldy5nZXRUaXRsZSA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMudmlldy5nZXRUaXRsZSgpIDogdW5kZWZpbmVkKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbkNsaWNrJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25DbGljayhldmVudCkge1xuICAgICAgdmFyIGxpbmsgPSAkLmNsb3Nlc3RMaW5rKCQuZXZlbnRUYXJnZXQoZXZlbnQpLCB0aGlzLmVsKTtcbiAgICAgIGlmIChsaW5rICYmIHRoaXMuaXNFeHRlcm5hbFVybChsaW5rLmdldEF0dHJpYnV0ZSgnaHJlZicpKSkge1xuICAgICAgICAkLnN0b3BFdmVudChldmVudCk7XG4gICAgICAgICQucG9wdXAobGluayk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25BbHRGJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25BbHRGKGV2ZW50KSB7XG4gICAgICBpZiAoIWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgfHwgISQuaGFzQ2hpbGQodGhpcy5lbCwgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmZpbmQoJ2E6bm90KDplbXB0eSknKTtcblxuICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgIGVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAkLnN0b3BFdmVudChldmVudCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZmluZFRhcmdldEJ5SGFzaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZpbmRUYXJnZXRCeUhhc2goaGFzaCkge1xuICAgICAgdmFyIGVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiAkLmlkKGRlY29kZVVSSUNvbXBvbmVudChoYXNoKSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7fVxuICAgICAgfSgpO1xuICAgICAgaWYgKCFlbCkge1xuICAgICAgICBlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuICQuaWQoaGFzaCk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IxKSB7fVxuICAgICAgICB9KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZWw7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaXNFeHRlcm5hbFVybCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzRXh0ZXJuYWxVcmwodXJsKSB7XG4gICAgICB2YXIgbmVlZGxlID0gbnVsbDtcblxuICAgICAgaWYgKHVybCkge1xuICAgICAgICBuZWVkbGUgPSB1cmwuc2xpY2UoMCwgNik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZWVkbGUgJiYgWydodHRwOi8nLCAnaHR0cHM6J10uaW5jbHVkZXMobmVlZGxlKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ29udGVudDtcbn0oX3ZpZXcyLmRlZmF1bHQpO1xuXG5Db250ZW50LmVsID0gJy5fY29udGVudCc7XG5Db250ZW50LmxvYWRpbmdDbGFzcyA9ICdfY29udGVudC1sb2FkaW5nJztcbkNvbnRlbnQuZXZlbnRzID0ge1xuICBjbGljazogJ29uQ2xpY2snXG59O1xuQ29udGVudC5zaG9ydGN1dHMgPSB7XG4gIGFsdFVwOiAnc2Nyb2xsU3RlcFVwJyxcbiAgYWx0RG93bjogJ3Njcm9sbFN0ZXBEb3duJyxcbiAgcGFnZVVwOiAnc2Nyb2xsUGFnZVVwJyxcbiAgcGFnZURvd246ICdzY3JvbGxQYWdlRG93bicsXG4gIHBhZ2VUb3A6ICdzY3JvbGxUb1RvcCcsXG4gIHBhZ2VCb3R0b206ICdzY3JvbGxUb0JvdHRvbScsXG4gIGFsdEY6ICdvbkFsdEYnXG59O1xuQ29udGVudC5yb3V0ZXMgPSB7XG4gIGJlZm9yZTogJ2JlZm9yZVJvdXRlJyxcbiAgYWZ0ZXI6ICdhZnRlclJvdXRlJ1xufTtcbmV4cG9ydHMuZGVmYXVsdCA9IENvbnRlbnQ7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hc3NldHMvamF2YXNjcmlwdHMvdmlld3MvY29udGVudC9jb250ZW50LmpzXG4vLyBtb2R1bGUgaWQgPSAyNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///25\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _view = __webpack_require__(0);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar RootPage = function (_View) {\n  _inherits(RootPage, _View);\n\n  function RootPage() {\n    var _ref;\n\n    _classCallCheck(this, RootPage);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var _this = _possibleConstructorReturn(this, (_ref = RootPage.__proto__ || Object.getPrototypeOf(RootPage)).call.apply(_ref, [this].concat(args)));\n\n    _this.onClick = _this.onClick.bind(_this);\n\n    if (!_this.isHidden()) {\n      _this.setHidden(false);\n    } // reserve space in local storage\n\n    _this.render();\n    return _this;\n  }\n\n  _createClass(RootPage, [{\n    key: 'render',\n    value: function render() {\n      this.empty();\n\n      var tmpl = app.isAndroidWebview() ? 'androidWarning' : this.isHidden() ? 'splash' : app.isMobile() ? 'mobileIntro' : 'intro';\n\n      // temporary\n      if (location.host === 'devdocs.io' && location.protocol === 'http:') {\n        tmpl = 'httpWarning';\n      }\n\n      this.append(this.tmpl(tmpl));\n    }\n  }, {\n    key: 'hideIntro',\n    value: function hideIntro() {\n      this.setHidden(true);\n      this.render();\n    }\n  }, {\n    key: 'setHidden',\n    value: function setHidden(value) {\n      app.settings.set('hideIntro', value);\n    }\n  }, {\n    key: 'isHidden',\n    value: function isHidden() {\n      return app.isSingleDoc() || app.settings.get('hideIntro');\n    }\n  }, {\n    key: 'onRoute',\n    value: function onRoute() {}\n  }, {\n    key: 'onClick',\n    value: function onClick(event) {\n      if ($.eventTarget(event).hasAttribute('data-hide-intro')) {\n        $.stopEvent(event);\n        this.hideIntro();\n      }\n    }\n  }]);\n\n  return RootPage;\n}(_view2.default);\n\nRootPage.events = {\n  click: 'onClick'\n};\nexports.default = RootPage;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvamF2YXNjcmlwdHMvdmlld3MvY29udGVudC9yb290X3BhZ2UuanM/NDJkYyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfdmlldyA9IHJlcXVpcmUoJy4uL3ZpZXcnKTtcblxudmFyIF92aWV3MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ZpZXcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSb290UGFnZSA9IGZ1bmN0aW9uIChfVmlldykge1xuICBfaW5oZXJpdHMoUm9vdFBhZ2UsIF9WaWV3KTtcblxuICBmdW5jdGlvbiBSb290UGFnZSgpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSb290UGFnZSk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoX3JlZiA9IFJvb3RQYWdlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUm9vdFBhZ2UpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKTtcblxuICAgIF90aGlzLm9uQ2xpY2sgPSBfdGhpcy5vbkNsaWNrLmJpbmQoX3RoaXMpO1xuXG4gICAgaWYgKCFfdGhpcy5pc0hpZGRlbigpKSB7XG4gICAgICBfdGhpcy5zZXRIaWRkZW4oZmFsc2UpO1xuICAgIH0gLy8gcmVzZXJ2ZSBzcGFjZSBpbiBsb2NhbCBzdG9yYWdlXG5cbiAgICBfdGhpcy5yZW5kZXIoKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUm9vdFBhZ2UsIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdGhpcy5lbXB0eSgpO1xuXG4gICAgICB2YXIgdG1wbCA9IGFwcC5pc0FuZHJvaWRXZWJ2aWV3KCkgPyAnYW5kcm9pZFdhcm5pbmcnIDogdGhpcy5pc0hpZGRlbigpID8gJ3NwbGFzaCcgOiBhcHAuaXNNb2JpbGUoKSA/ICdtb2JpbGVJbnRybycgOiAnaW50cm8nO1xuXG4gICAgICAvLyB0ZW1wb3JhcnlcbiAgICAgIGlmIChsb2NhdGlvbi5ob3N0ID09PSAnZGV2ZG9jcy5pbycgJiYgbG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwOicpIHtcbiAgICAgICAgdG1wbCA9ICdodHRwV2FybmluZyc7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYXBwZW5kKHRoaXMudG1wbCh0bXBsKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGlkZUludHJvJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZUludHJvKCkge1xuICAgICAgdGhpcy5zZXRIaWRkZW4odHJ1ZSk7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NldEhpZGRlbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEhpZGRlbih2YWx1ZSkge1xuICAgICAgYXBwLnNldHRpbmdzLnNldCgnaGlkZUludHJvJywgdmFsdWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2lzSGlkZGVuJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNIaWRkZW4oKSB7XG4gICAgICByZXR1cm4gYXBwLmlzU2luZ2xlRG9jKCkgfHwgYXBwLnNldHRpbmdzLmdldCgnaGlkZUludHJvJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25Sb3V0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUm91dGUoKSB7fVxuICB9LCB7XG4gICAga2V5OiAnb25DbGljaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQpIHtcbiAgICAgIGlmICgkLmV2ZW50VGFyZ2V0KGV2ZW50KS5oYXNBdHRyaWJ1dGUoJ2RhdGEtaGlkZS1pbnRybycpKSB7XG4gICAgICAgICQuc3RvcEV2ZW50KGV2ZW50KTtcbiAgICAgICAgdGhpcy5oaWRlSW50cm8oKTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUm9vdFBhZ2U7XG59KF92aWV3Mi5kZWZhdWx0KTtcblxuUm9vdFBhZ2UuZXZlbnRzID0ge1xuICBjbGljazogJ29uQ2xpY2snXG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gUm9vdFBhZ2U7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hc3NldHMvamF2YXNjcmlwdHMvdmlld3MvY29udGVudC9yb290X3BhZ2UuanNcbi8vIG1vZHVsZSBpZCA9IDI2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///26\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _view = __webpack_require__(0);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EntryPage = function (_View) {\n  _inherits(EntryPage, _View);\n\n  function EntryPage() {\n    var _ref;\n\n    _classCallCheck(this, EntryPage);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var _this = _possibleConstructorReturn(this, (_ref = EntryPage.__proto__ || Object.getPrototypeOf(EntryPage)).call.apply(_ref, [this].concat(args)));\n\n    _this.beforeRoute = _this.beforeRoute.bind(_this);\n    _this.onSuccess = _this.onSuccess.bind(_this);\n    _this.onError = _this.onError.bind(_this);\n    _this.onClick = _this.onClick.bind(_this);\n    _this.onAltO = _this.onAltO.bind(_this);\n\n    _this.cacheMap = {};\n    _this.cacheStack = [];\n    return _this;\n  }\n\n  _createClass(EntryPage, [{\n    key: 'deactivate',\n    value: function deactivate() {\n      if (_get(EntryPage.prototype.__proto__ || Object.getPrototypeOf(EntryPage.prototype), 'deactivate', this).apply(this, arguments)) {\n        this.empty();\n        this.entry = null;\n      }\n    }\n  }, {\n    key: 'loading',\n    value: function loading() {\n      this.empty();\n      this.trigger('loading');\n    }\n  }, {\n    key: 'render',\n    value: function render(content, fromCache) {\n      var _this2 = this;\n\n      if (content == null) {\n        content = '';\n      }\n      if (fromCache == null) {\n        fromCache = false;\n      }\n      if (!this.activated) {\n        return;\n      }\n      this.empty();\n      this.subview = new (this.subViewClass())(this.el, this.entry);\n\n      $.batchUpdate(this.el, function () {\n        _this2.subview.render(content, fromCache);\n        if (!fromCache) {\n          _this2.addCopyButtons();\n        }\n      });\n\n      if (app.disabledDocs.findBy('slug', this.entry.doc.slug)) {\n        this.hiddenView = new app.views.HiddenPage(this.el, this.entry);\n      }\n\n      this.delay(this.polyfillMathML);\n      this.trigger('loaded');\n    }\n  }, {\n    key: 'addCopyButtons',\n    value: function addCopyButtons() {\n      if (!this.copyButton) {\n        this.copyButton = document.createElement('button');\n        this.copyButton.innerHTML = '<svg><use xlink:href=\"#icon-copy\"/></svg>';\n        this.copyButton.type = 'button';\n        this.copyButton.className = '_pre-clip';\n        this.copyButton.title = 'Copy to clipboard';\n        this.copyButton.setAttribute('aria-label', 'Copy to clipboard');\n      }\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.findAllByTag('pre')[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var el = _step.value;\n\n          el.appendChild(this.copyButton.cloneNode(true));\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, {\n    key: 'polyfillMathML',\n    value: function polyfillMathML() {\n      if (window.supportsMathML !== false || !!this.polyfilledMathML || !this.findByTag('math')) {\n        return;\n      }\n      this.polyfilledMathML = true;\n      $.append(document.head, '<link rel=\"stylesheet\" href=\"' + App.config.mathml_stylesheet + '\">');\n    }\n  }, {\n    key: 'prepareContent',\n    value: function prepareContent(content) {\n      var _this3 = this;\n\n      if (!this.entry.isIndex() || !this.entry.doc.links) {\n        return content;\n      }\n\n      var links = function () {\n        var result = [];\n        for (var link in _this3.entry.doc.links) {\n          var url = _this3.entry.doc.links[link];\n          result.push('<a href=\"' + url + '\" class=\"_links-link\">' + LINKS[link] + '</a>');\n        }\n        return result;\n      }();\n\n      return '<p class=\"_links\">' + links.join('') + '</p>' + content;\n    }\n  }, {\n    key: 'empty',\n    value: function empty() {\n      if (this.subview != null) {\n        this.subview.deactivate();\n      }\n      this.subview = null;\n\n      if (this.hiddenView != null) {\n        this.hiddenView.deactivate();\n      }\n      this.hiddenView = null;\n\n      this.resetClass();\n      _get(EntryPage.prototype.__proto__ || Object.getPrototypeOf(EntryPage.prototype), 'empty', this).apply(this, arguments);\n    }\n  }, {\n    key: 'subViewClass',\n    value: function subViewClass() {\n      return app.views[$.classify(this.entry.doc.type) + 'Page'] || app.views.BasePage;\n    }\n  }, {\n    key: 'getTitle',\n    value: function getTitle() {\n      return this.entry.doc.fullName + (this.entry.isIndex() ? ' documentation' : ' / ' + this.entry.name);\n    }\n  }, {\n    key: 'beforeRoute',\n    value: function beforeRoute() {\n      this.cache();\n      this.abort();\n    }\n  }, {\n    key: 'onRoute',\n    value: function onRoute(context) {\n      var isSameFile = context.entry.filePath() === (this.entry != null ? this.entry.filePath() : undefined);\n      this.entry = context.entry;\n      if (!isSameFile) {\n        this.restore() || this.load();\n      }\n    }\n  }, {\n    key: 'load',\n    value: function load() {\n      this.loading();\n      this.xhr = this.entry.loadFile(this.onSuccess, this.onError);\n    }\n  }, {\n    key: 'abort',\n    value: function abort() {\n      if (this.xhr) {\n        this.xhr.abort();\n        this.xhr = this.entry = null;\n      }\n    }\n  }, {\n    key: 'onSuccess',\n    value: function onSuccess(response) {\n      if (!this.activated) {\n        return;\n      }\n      this.xhr = null;\n      this.render(this.prepareContent(response));\n    }\n  }, {\n    key: 'onError',\n    value: function onError() {\n      this.xhr = null;\n      this.render(this.tmpl('pageLoadError'));\n      this.resetClass();\n      this.addClass(this.constructor.errorClass);\n      if (app.appCache != null) {\n        app.appCache.update();\n      }\n    }\n  }, {\n    key: 'cache',\n    value: function cache() {\n      var path = void 0;\n      if (this.xhr || !this.entry || this.cacheMap[path = this.entry.filePath()]) {\n        return;\n      }\n\n      this.cacheMap[path] = this.el.innerHTML;\n      this.cacheStack.push(path);\n\n      while (this.cacheStack.length > App.config.history_cache_size) {\n        delete this.cacheMap[this.cacheStack.shift()];\n      }\n    }\n  }, {\n    key: 'restore',\n    value: function restore() {\n      var path = void 0;\n      if (this.cacheMap[path = this.entry.filePath()]) {\n        this.render(this.cacheMap[path], true);\n        return true;\n      }\n    }\n  }, {\n    key: 'onClick',\n    value: function onClick(event) {\n      var target = $.eventTarget(event);\n      if (target.hasAttribute('data-retry')) {\n        $.stopEvent(event);\n        this.load();\n      } else if (target.classList.contains('_pre-clip')) {\n        $.stopEvent(event);\n        target.classList.add($.copyToClipboard(target.parentNode.textContent) ? '_pre-clip-success' : '_pre-clip-error');\n        setTimeout(function () {\n          return target.className = '_pre-clip';\n        }, 2000);\n      }\n    }\n  }, {\n    key: 'onAltO',\n    value: function onAltO() {\n      var link = void 0;\n      if (!(link = this.find('._attribution:last-child ._attribution-link'))) {\n        return;\n      }\n      this.delay(function () {\n        return $.popup(link.href + location.hash);\n      });\n    }\n  }]);\n\n  return EntryPage;\n}(_view2.default);\n\nEntryPage.className = '_page';\nEntryPage.errorClass = '_page-error';\nEntryPage.events = {\n  click: 'onClick'\n};\nEntryPage.shortcuts = {\n  altO: 'onAltO'\n};\nEntryPage.routes = {\n  before: 'beforeRoute'\n};\nEntryPage.LINKS = {\n  home: 'Homepage',\n  code: 'Source code'\n};\nexports.default = EntryPage;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvamF2YXNjcmlwdHMvdmlld3MvY29udGVudC9lbnRyeV9wYWdlLmpzP2ViZTUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2dldCA9IGZ1bmN0aW9uIGdldChvYmplY3QsIHByb3BlcnR5LCByZWNlaXZlcikgeyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgcmV0dXJuIGdldChwYXJlbnQsIHByb3BlcnR5LCByZWNlaXZlcik7IH0gfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH07XG5cbnZhciBfdmlldyA9IHJlcXVpcmUoJy4uL3ZpZXcnKTtcblxudmFyIF92aWV3MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ZpZXcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBFbnRyeVBhZ2UgPSBmdW5jdGlvbiAoX1ZpZXcpIHtcbiAgX2luaGVyaXRzKEVudHJ5UGFnZSwgX1ZpZXcpO1xuXG4gIGZ1bmN0aW9uIEVudHJ5UGFnZSgpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFbnRyeVBhZ2UpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9yZWYgPSBFbnRyeVBhZ2UuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihFbnRyeVBhZ2UpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKTtcblxuICAgIF90aGlzLmJlZm9yZVJvdXRlID0gX3RoaXMuYmVmb3JlUm91dGUuYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25TdWNjZXNzID0gX3RoaXMub25TdWNjZXNzLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uRXJyb3IgPSBfdGhpcy5vbkVycm9yLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uQ2xpY2sgPSBfdGhpcy5vbkNsaWNrLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uQWx0TyA9IF90aGlzLm9uQWx0Ty5iaW5kKF90aGlzKTtcblxuICAgIF90aGlzLmNhY2hlTWFwID0ge307XG4gICAgX3RoaXMuY2FjaGVTdGFjayA9IFtdO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhFbnRyeVBhZ2UsIFt7XG4gICAga2V5OiAnZGVhY3RpdmF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlYWN0aXZhdGUoKSB7XG4gICAgICBpZiAoX2dldChFbnRyeVBhZ2UucHJvdG90eXBlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRW50cnlQYWdlLnByb3RvdHlwZSksICdkZWFjdGl2YXRlJywgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKSkge1xuICAgICAgICB0aGlzLmVtcHR5KCk7XG4gICAgICAgIHRoaXMuZW50cnkgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2xvYWRpbmcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsb2FkaW5nKCkge1xuICAgICAgdGhpcy5lbXB0eSgpO1xuICAgICAgdGhpcy50cmlnZ2VyKCdsb2FkaW5nJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKGNvbnRlbnQsIGZyb21DYWNoZSkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIGlmIChjb250ZW50ID09IG51bGwpIHtcbiAgICAgICAgY29udGVudCA9ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGZyb21DYWNoZSA9PSBudWxsKSB7XG4gICAgICAgIGZyb21DYWNoZSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLmFjdGl2YXRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmVtcHR5KCk7XG4gICAgICB0aGlzLnN1YnZpZXcgPSBuZXcgKHRoaXMuc3ViVmlld0NsYXNzKCkpKHRoaXMuZWwsIHRoaXMuZW50cnkpO1xuXG4gICAgICAkLmJhdGNoVXBkYXRlKHRoaXMuZWwsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMyLnN1YnZpZXcucmVuZGVyKGNvbnRlbnQsIGZyb21DYWNoZSk7XG4gICAgICAgIGlmICghZnJvbUNhY2hlKSB7XG4gICAgICAgICAgX3RoaXMyLmFkZENvcHlCdXR0b25zKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoYXBwLmRpc2FibGVkRG9jcy5maW5kQnkoJ3NsdWcnLCB0aGlzLmVudHJ5LmRvYy5zbHVnKSkge1xuICAgICAgICB0aGlzLmhpZGRlblZpZXcgPSBuZXcgYXBwLnZpZXdzLkhpZGRlblBhZ2UodGhpcy5lbCwgdGhpcy5lbnRyeSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZGVsYXkodGhpcy5wb2x5ZmlsbE1hdGhNTCk7XG4gICAgICB0aGlzLnRyaWdnZXIoJ2xvYWRlZCcpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2FkZENvcHlCdXR0b25zJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkQ29weUJ1dHRvbnMoKSB7XG4gICAgICBpZiAoIXRoaXMuY29weUJ1dHRvbikge1xuICAgICAgICB0aGlzLmNvcHlCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgdGhpcy5jb3B5QnV0dG9uLmlubmVySFRNTCA9ICc8c3ZnPjx1c2UgeGxpbms6aHJlZj1cIiNpY29uLWNvcHlcIi8+PC9zdmc+JztcbiAgICAgICAgdGhpcy5jb3B5QnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgdGhpcy5jb3B5QnV0dG9uLmNsYXNzTmFtZSA9ICdfcHJlLWNsaXAnO1xuICAgICAgICB0aGlzLmNvcHlCdXR0b24udGl0bGUgPSAnQ29weSB0byBjbGlwYm9hcmQnO1xuICAgICAgICB0aGlzLmNvcHlCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ0NvcHkgdG8gY2xpcGJvYXJkJyk7XG4gICAgICB9XG4gICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gdGhpcy5maW5kQWxsQnlUYWcoJ3ByZScpW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgIHZhciBlbCA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgZWwuYXBwZW5kQ2hpbGQodGhpcy5jb3B5QnV0dG9uLmNsb25lTm9kZSh0cnVlKSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3BvbHlmaWxsTWF0aE1MJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcG9seWZpbGxNYXRoTUwoKSB7XG4gICAgICBpZiAod2luZG93LnN1cHBvcnRzTWF0aE1MICE9PSBmYWxzZSB8fCAhIXRoaXMucG9seWZpbGxlZE1hdGhNTCB8fCAhdGhpcy5maW5kQnlUYWcoJ21hdGgnKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLnBvbHlmaWxsZWRNYXRoTUwgPSB0cnVlO1xuICAgICAgJC5hcHBlbmQoZG9jdW1lbnQuaGVhZCwgJzxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiBocmVmPVwiJyArIGFwcC5jb25maWcubWF0aG1sX3N0eWxlc2hlZXQgKyAnXCI+Jyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncHJlcGFyZUNvbnRlbnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwcmVwYXJlQ29udGVudChjb250ZW50KSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgaWYgKCF0aGlzLmVudHJ5LmlzSW5kZXgoKSB8fCAhdGhpcy5lbnRyeS5kb2MubGlua3MpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgICB9XG5cbiAgICAgIHZhciBsaW5rcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKHZhciBsaW5rIGluIF90aGlzMy5lbnRyeS5kb2MubGlua3MpIHtcbiAgICAgICAgICB2YXIgdXJsID0gX3RoaXMzLmVudHJ5LmRvYy5saW5rc1tsaW5rXTtcbiAgICAgICAgICByZXN1bHQucHVzaCgnPGEgaHJlZj1cIicgKyB1cmwgKyAnXCIgY2xhc3M9XCJfbGlua3MtbGlua1wiPicgKyBMSU5LU1tsaW5rXSArICc8L2E+Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0oKTtcblxuICAgICAgcmV0dXJuICc8cCBjbGFzcz1cIl9saW5rc1wiPicgKyBsaW5rcy5qb2luKCcnKSArICc8L3A+JyArIGNvbnRlbnQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZW1wdHknLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbXB0eSgpIHtcbiAgICAgIGlmICh0aGlzLnN1YnZpZXcgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLnN1YnZpZXcuZGVhY3RpdmF0ZSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5zdWJ2aWV3ID0gbnVsbDtcblxuICAgICAgaWYgKHRoaXMuaGlkZGVuVmlldyAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuaGlkZGVuVmlldy5kZWFjdGl2YXRlKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmhpZGRlblZpZXcgPSBudWxsO1xuXG4gICAgICB0aGlzLnJlc2V0Q2xhc3MoKTtcbiAgICAgIF9nZXQoRW50cnlQYWdlLnByb3RvdHlwZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEVudHJ5UGFnZS5wcm90b3R5cGUpLCAnZW1wdHknLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3N1YlZpZXdDbGFzcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN1YlZpZXdDbGFzcygpIHtcbiAgICAgIHJldHVybiBhcHAudmlld3NbJC5jbGFzc2lmeSh0aGlzLmVudHJ5LmRvYy50eXBlKSArICdQYWdlJ10gfHwgYXBwLnZpZXdzLkJhc2VQYWdlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFRpdGxlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VGl0bGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbnRyeS5kb2MuZnVsbE5hbWUgKyAodGhpcy5lbnRyeS5pc0luZGV4KCkgPyAnIGRvY3VtZW50YXRpb24nIDogJyAvICcgKyB0aGlzLmVudHJ5Lm5hbWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2JlZm9yZVJvdXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYmVmb3JlUm91dGUoKSB7XG4gICAgICB0aGlzLmNhY2hlKCk7XG4gICAgICB0aGlzLmFib3J0KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25Sb3V0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUm91dGUoY29udGV4dCkge1xuICAgICAgdmFyIGlzU2FtZUZpbGUgPSBjb250ZXh0LmVudHJ5LmZpbGVQYXRoKCkgPT09ICh0aGlzLmVudHJ5ICE9IG51bGwgPyB0aGlzLmVudHJ5LmZpbGVQYXRoKCkgOiB1bmRlZmluZWQpO1xuICAgICAgdGhpcy5lbnRyeSA9IGNvbnRleHQuZW50cnk7XG4gICAgICBpZiAoIWlzU2FtZUZpbGUpIHtcbiAgICAgICAgdGhpcy5yZXN0b3JlKCkgfHwgdGhpcy5sb2FkKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnbG9hZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWQoKSB7XG4gICAgICB0aGlzLmxvYWRpbmcoKTtcbiAgICAgIHRoaXMueGhyID0gdGhpcy5lbnRyeS5sb2FkRmlsZSh0aGlzLm9uU3VjY2VzcywgdGhpcy5vbkVycm9yKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdhYm9ydCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFib3J0KCkge1xuICAgICAgaWYgKHRoaXMueGhyKSB7XG4gICAgICAgIHRoaXMueGhyLmFib3J0KCk7XG4gICAgICAgIHRoaXMueGhyID0gdGhpcy5lbnRyeSA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25TdWNjZXNzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25TdWNjZXNzKHJlc3BvbnNlKSB7XG4gICAgICBpZiAoIXRoaXMuYWN0aXZhdGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMueGhyID0gbnVsbDtcbiAgICAgIHRoaXMucmVuZGVyKHRoaXMucHJlcGFyZUNvbnRlbnQocmVzcG9uc2UpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbkVycm9yJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25FcnJvcigpIHtcbiAgICAgIHRoaXMueGhyID0gbnVsbDtcbiAgICAgIHRoaXMucmVuZGVyKHRoaXMudG1wbCgncGFnZUxvYWRFcnJvcicpKTtcbiAgICAgIHRoaXMucmVzZXRDbGFzcygpO1xuICAgICAgdGhpcy5hZGRDbGFzcyh0aGlzLmNvbnN0cnVjdG9yLmVycm9yQ2xhc3MpO1xuICAgICAgaWYgKGFwcC5hcHBDYWNoZSAhPSBudWxsKSB7XG4gICAgICAgIGFwcC5hcHBDYWNoZS51cGRhdGUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjYWNoZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNhY2hlKCkge1xuICAgICAgdmFyIHBhdGggPSB2b2lkIDA7XG4gICAgICBpZiAodGhpcy54aHIgfHwgIXRoaXMuZW50cnkgfHwgdGhpcy5jYWNoZU1hcFtwYXRoID0gdGhpcy5lbnRyeS5maWxlUGF0aCgpXSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2FjaGVNYXBbcGF0aF0gPSB0aGlzLmVsLmlubmVySFRNTDtcbiAgICAgIHRoaXMuY2FjaGVTdGFjay5wdXNoKHBhdGgpO1xuXG4gICAgICB3aGlsZSAodGhpcy5jYWNoZVN0YWNrLmxlbmd0aCA+IGFwcC5jb25maWcuaGlzdG9yeV9jYWNoZV9zaXplKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmNhY2hlTWFwW3RoaXMuY2FjaGVTdGFjay5zaGlmdCgpXTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZXN0b3JlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzdG9yZSgpIHtcbiAgICAgIHZhciBwYXRoID0gdm9pZCAwO1xuICAgICAgaWYgKHRoaXMuY2FjaGVNYXBbcGF0aCA9IHRoaXMuZW50cnkuZmlsZVBhdGgoKV0pIHtcbiAgICAgICAgdGhpcy5yZW5kZXIodGhpcy5jYWNoZU1hcFtwYXRoXSwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uQ2xpY2snLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNsaWNrKGV2ZW50KSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gJC5ldmVudFRhcmdldChldmVudCk7XG4gICAgICBpZiAodGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnZGF0YS1yZXRyeScpKSB7XG4gICAgICAgICQuc3RvcEV2ZW50KGV2ZW50KTtcbiAgICAgICAgdGhpcy5sb2FkKCk7XG4gICAgICB9IGVsc2UgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ19wcmUtY2xpcCcpKSB7XG4gICAgICAgICQuc3RvcEV2ZW50KGV2ZW50KTtcbiAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJC5jb3B5VG9DbGlwYm9hcmQodGFyZ2V0LnBhcmVudE5vZGUudGV4dENvbnRlbnQpID8gJ19wcmUtY2xpcC1zdWNjZXNzJyA6ICdfcHJlLWNsaXAtZXJyb3InKTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHRhcmdldC5jbGFzc05hbWUgPSAnX3ByZS1jbGlwJztcbiAgICAgICAgfSwgMjAwMCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25BbHRPJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25BbHRPKCkge1xuICAgICAgdmFyIGxpbmsgPSB2b2lkIDA7XG4gICAgICBpZiAoIShsaW5rID0gdGhpcy5maW5kKCcuX2F0dHJpYnV0aW9uOmxhc3QtY2hpbGQgLl9hdHRyaWJ1dGlvbi1saW5rJykpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuZGVsYXkoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJC5wb3B1cChsaW5rLmhyZWYgKyBsb2NhdGlvbi5oYXNoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBFbnRyeVBhZ2U7XG59KF92aWV3Mi5kZWZhdWx0KTtcblxuRW50cnlQYWdlLmNsYXNzTmFtZSA9ICdfcGFnZSc7XG5FbnRyeVBhZ2UuZXJyb3JDbGFzcyA9ICdfcGFnZS1lcnJvcic7XG5FbnRyeVBhZ2UuZXZlbnRzID0ge1xuICBjbGljazogJ29uQ2xpY2snXG59O1xuRW50cnlQYWdlLnNob3J0Y3V0cyA9IHtcbiAgYWx0TzogJ29uQWx0Tydcbn07XG5FbnRyeVBhZ2Uucm91dGVzID0ge1xuICBiZWZvcmU6ICdiZWZvcmVSb3V0ZSdcbn07XG5FbnRyeVBhZ2UuTElOS1MgPSB7XG4gIGhvbWU6ICdIb21lcGFnZScsXG4gIGNvZGU6ICdTb3VyY2UgY29kZSdcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBFbnRyeVBhZ2U7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hc3NldHMvamF2YXNjcmlwdHMvdmlld3MvY29udGVudC9lbnRyeV9wYWdlLmpzXG4vLyBtb2R1bGUgaWQgPSAyN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///27\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _view = __webpack_require__(0);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar OfflinePage = function (_View) {\n  _inherits(OfflinePage, _View);\n\n  function OfflinePage() {\n    var _ref;\n\n    _classCallCheck(this, OfflinePage);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var _this = _possibleConstructorReturn(this, (_ref = OfflinePage.__proto__ || Object.getPrototypeOf(OfflinePage)).call.apply(_ref, [this].concat(args)));\n\n    _this.onClick = _this.onClick.bind(_this);\n    return _this;\n  }\n\n  _createClass(OfflinePage, [{\n    key: 'deactivate',\n    value: function deactivate() {\n      if (_get(OfflinePage.prototype.__proto__ || Object.getPrototypeOf(OfflinePage.prototype), 'deactivate', this).apply(this, arguments)) {\n        this.empty();\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      if (app.cookieBlocked) {\n        this.html(this.tmpl('offlineError', 'cookie_blocked'));\n        return;\n      }\n\n      app.docs.getInstallStatuses(function (statuses) {\n        if (!_this2.activated) {\n          return;\n        }\n        if (statuses === false) {\n          _this2.html(_this2.tmpl('offlineError', app.db.reason, app.db.error));\n        } else {\n          var html = '';\n          var _iteratorNormalCompletion = true;\n          var _didIteratorError = false;\n          var _iteratorError = undefined;\n\n          try {\n            for (var _iterator = app.docs.all()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n              var doc = _step.value;\n\n              html += _this2.renderDoc(doc, statuses[doc.slug]);\n            }\n          } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n              }\n            } finally {\n              if (_didIteratorError) {\n                throw _iteratorError;\n              }\n            }\n          }\n\n          _this2.html(_this2.tmpl('offlinePage', html));\n          _this2.refreshLinks();\n        }\n      });\n    }\n  }, {\n    key: 'renderDoc',\n    value: function renderDoc(doc, status) {\n      return app.templates.render('offlineDoc', doc, status);\n    }\n  }, {\n    key: 'getTitle',\n    value: function getTitle() {\n      return 'Offline';\n    }\n  }, {\n    key: 'refreshLinks',\n    value: function refreshLinks() {\n      var _arr = ['install', 'update', 'uninstall'];\n\n      for (var _i = 0; _i < _arr.length; _i++) {\n        var action = _arr[_i];\n        this.find('[data-action-all=\\'' + action + '\\']').classList[this.find('[data-action=\\'' + action + '\\']') ? 'add' : 'remove']('_show');\n      }\n    }\n  }, {\n    key: 'docByEl',\n    value: function docByEl(el) {\n      var slug = void 0;\n      while (!(slug = el.getAttribute('data-slug'))) {\n        el = el.parentNode;\n      }\n      return app.docs.findBy('slug', slug);\n    }\n  }, {\n    key: 'docEl',\n    value: function docEl(doc) {\n      return this.find('[data-slug=\\'' + doc.slug + '\\']');\n    }\n  }, {\n    key: 'onRoute',\n    value: function onRoute(context) {\n      this.render();\n    }\n  }, {\n    key: 'onClick',\n    value: function onClick(event) {\n      var action = void 0;\n      var el = $.eventTarget(event);\n      if (action = el.getAttribute('data-action')) {\n        var doc = this.docByEl(el);\n        if (action === 'update') {\n          action = 'install';\n        }\n        doc[action](this.onInstallSuccess.bind(this, doc), this.onInstallError.bind(this, doc), this.onInstallProgress.bind(this, doc));\n        el.parentNode.innerHTML = el.textContent.replace(/e$/, '') + 'ing\\u2026';\n      } else if (action = el.getAttribute('data-action-all')) {\n        app.db.migrate();\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = this.findAll('[data-action=\\'' + action + '\\']')[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            el = _step2.value;\n\n            $.click(el);\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n              _iterator2.return();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: 'onInstallSuccess',\n    value: function onInstallSuccess(doc) {\n      var _this3 = this;\n\n      if (!this.activated) {\n        return;\n      }\n      doc.getInstallStatus(function (status) {\n        var el = void 0;\n        if (!_this3.activated) {\n          return;\n        }\n        if (el = _this3.docEl(doc)) {\n          el.outerHTML = _this3.renderDoc(doc, status);\n          $.highlight(el, {\n            className: '_highlight'\n          });\n          _this3.refreshLinks();\n        }\n      });\n    }\n  }, {\n    key: 'onInstallError',\n    value: function onInstallError(doc) {\n      var el = void 0;\n      if (!this.activated) {\n        return;\n      }\n      if (el = this.docEl(doc)) {\n        el.lastElementChild.textContent = 'Error';\n      }\n    }\n  }, {\n    key: 'onInstallProgress',\n    value: function onInstallProgress(doc, event) {\n      var el = void 0;\n      if (!this.activated || !event.lengthComputable) {\n        return;\n      }\n      if (el = this.docEl(doc)) {\n        var percentage = Math.round(event.loaded * 100 / event.total);\n        el.lastElementChild.textContent = el.lastElementChild.textContent.replace(/(\\s.+)?$/, ' (' + percentage + '%)');\n      }\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange(event) {\n      if (event.target.name === 'autoUpdate') {\n        app.settings.set('manualUpdate', !event.target.checked);\n      }\n    }\n  }]);\n\n  return OfflinePage;\n}(_view2.default);\n\nOfflinePage.className = '_static';\nOfflinePage.events = {\n  click: 'onClick',\n  change: 'onChange'\n};\nexports.default = OfflinePage;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvamF2YXNjcmlwdHMvdmlld3MvY29udGVudC9vZmZsaW5lX3BhZ2UuanM/YTBlYyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KG9iamVjdCwgcHJvcGVydHksIHJlY2VpdmVyKSB7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyByZXR1cm4gZ2V0KHBhcmVudCwgcHJvcGVydHksIHJlY2VpdmVyKTsgfSB9IGVsc2UgaWYgKFwidmFsdWVcIiBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfTtcblxudmFyIF92aWV3ID0gcmVxdWlyZSgnLi4vdmlldycpO1xuXG52YXIgX3ZpZXcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdmlldyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIE9mZmxpbmVQYWdlID0gZnVuY3Rpb24gKF9WaWV3KSB7XG4gIF9pbmhlcml0cyhPZmZsaW5lUGFnZSwgX1ZpZXcpO1xuXG4gIGZ1bmN0aW9uIE9mZmxpbmVQYWdlKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE9mZmxpbmVQYWdlKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfcmVmID0gT2ZmbGluZVBhZ2UuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihPZmZsaW5lUGFnZSkpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpO1xuXG4gICAgX3RoaXMub25DbGljayA9IF90aGlzLm9uQ2xpY2suYmluZChfdGhpcyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE9mZmxpbmVQYWdlLCBbe1xuICAgIGtleTogJ2RlYWN0aXZhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWFjdGl2YXRlKCkge1xuICAgICAgaWYgKF9nZXQoT2ZmbGluZVBhZ2UucHJvdG90eXBlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoT2ZmbGluZVBhZ2UucHJvdG90eXBlKSwgJ2RlYWN0aXZhdGUnLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSB7XG4gICAgICAgIHRoaXMuZW1wdHkoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgaWYgKGFwcC5jb29raWVCbG9ja2VkKSB7XG4gICAgICAgIHRoaXMuaHRtbCh0aGlzLnRtcGwoJ29mZmxpbmVFcnJvcicsICdjb29raWVfYmxvY2tlZCcpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBhcHAuZG9jcy5nZXRJbnN0YWxsU3RhdHVzZXMoZnVuY3Rpb24gKHN0YXR1c2VzKSB7XG4gICAgICAgIGlmICghX3RoaXMyLmFjdGl2YXRlZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdHVzZXMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgX3RoaXMyLmh0bWwoX3RoaXMyLnRtcGwoJ29mZmxpbmVFcnJvcicsIGFwcC5kYi5yZWFzb24sIGFwcC5kYi5lcnJvcikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBodG1sID0gJyc7XG4gICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBhcHAuZG9jcy5hbGwoKVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgdmFyIGRvYyA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgIGh0bWwgKz0gX3RoaXMyLnJlbmRlckRvYyhkb2MsIHN0YXR1c2VzW2RvYy5zbHVnXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3RoaXMyLmh0bWwoX3RoaXMyLnRtcGwoJ29mZmxpbmVQYWdlJywgaHRtbCkpO1xuICAgICAgICAgIF90aGlzMi5yZWZyZXNoTGlua3MoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyRG9jJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyRG9jKGRvYywgc3RhdHVzKSB7XG4gICAgICByZXR1cm4gYXBwLnRlbXBsYXRlcy5yZW5kZXIoJ29mZmxpbmVEb2MnLCBkb2MsIHN0YXR1cyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0VGl0bGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUaXRsZSgpIHtcbiAgICAgIHJldHVybiAnT2ZmbGluZSc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVmcmVzaExpbmtzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVmcmVzaExpbmtzKCkge1xuICAgICAgdmFyIF9hcnIgPSBbJ2luc3RhbGwnLCAndXBkYXRlJywgJ3VuaW5zdGFsbCddO1xuXG4gICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgX2Fyci5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIGFjdGlvbiA9IF9hcnJbX2ldO1xuICAgICAgICB0aGlzLmZpbmQoJ1tkYXRhLWFjdGlvbi1hbGw9XFwnJyArIGFjdGlvbiArICdcXCddJykuY2xhc3NMaXN0W3RoaXMuZmluZCgnW2RhdGEtYWN0aW9uPVxcJycgKyBhY3Rpb24gKyAnXFwnXScpID8gJ2FkZCcgOiAncmVtb3ZlJ10oJ19zaG93Jyk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZG9jQnlFbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRvY0J5RWwoZWwpIHtcbiAgICAgIHZhciBzbHVnID0gdm9pZCAwO1xuICAgICAgd2hpbGUgKCEoc2x1ZyA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zbHVnJykpKSB7XG4gICAgICAgIGVsID0gZWwucGFyZW50Tm9kZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcHAuZG9jcy5maW5kQnkoJ3NsdWcnLCBzbHVnKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkb2NFbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRvY0VsKGRvYykge1xuICAgICAgcmV0dXJuIHRoaXMuZmluZCgnW2RhdGEtc2x1Zz1cXCcnICsgZG9jLnNsdWcgKyAnXFwnXScpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uUm91dGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJvdXRlKGNvbnRleHQpIHtcbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25DbGljaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQpIHtcbiAgICAgIHZhciBhY3Rpb24gPSB2b2lkIDA7XG4gICAgICB2YXIgZWwgPSAkLmV2ZW50VGFyZ2V0KGV2ZW50KTtcbiAgICAgIGlmIChhY3Rpb24gPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtYWN0aW9uJykpIHtcbiAgICAgICAgdmFyIGRvYyA9IHRoaXMuZG9jQnlFbChlbCk7XG4gICAgICAgIGlmIChhY3Rpb24gPT09ICd1cGRhdGUnKSB7XG4gICAgICAgICAgYWN0aW9uID0gJ2luc3RhbGwnO1xuICAgICAgICB9XG4gICAgICAgIGRvY1thY3Rpb25dKHRoaXMub25JbnN0YWxsU3VjY2Vzcy5iaW5kKHRoaXMsIGRvYyksIHRoaXMub25JbnN0YWxsRXJyb3IuYmluZCh0aGlzLCBkb2MpLCB0aGlzLm9uSW5zdGFsbFByb2dyZXNzLmJpbmQodGhpcywgZG9jKSk7XG4gICAgICAgIGVsLnBhcmVudE5vZGUuaW5uZXJIVE1MID0gZWwudGV4dENvbnRlbnQucmVwbGFjZSgvZSQvLCAnJykgKyAnaW5nXFx1MjAyNic7XG4gICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1hY3Rpb24tYWxsJykpIHtcbiAgICAgICAgYXBwLmRiLm1pZ3JhdGUoKTtcbiAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IHRoaXMuZmluZEFsbCgnW2RhdGEtYWN0aW9uPVxcJycgKyBhY3Rpb24gKyAnXFwnXScpW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgICBlbCA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgICAgJC5jbGljayhlbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuICAgICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbkluc3RhbGxTdWNjZXNzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25JbnN0YWxsU3VjY2Vzcyhkb2MpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICBpZiAoIXRoaXMuYWN0aXZhdGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRvYy5nZXRJbnN0YWxsU3RhdHVzKGZ1bmN0aW9uIChzdGF0dXMpIHtcbiAgICAgICAgdmFyIGVsID0gdm9pZCAwO1xuICAgICAgICBpZiAoIV90aGlzMy5hY3RpdmF0ZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVsID0gX3RoaXMzLmRvY0VsKGRvYykpIHtcbiAgICAgICAgICBlbC5vdXRlckhUTUwgPSBfdGhpczMucmVuZGVyRG9jKGRvYywgc3RhdHVzKTtcbiAgICAgICAgICAkLmhpZ2hsaWdodChlbCwge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiAnX2hpZ2hsaWdodCdcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBfdGhpczMucmVmcmVzaExpbmtzKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uSW5zdGFsbEVycm9yJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25JbnN0YWxsRXJyb3IoZG9jKSB7XG4gICAgICB2YXIgZWwgPSB2b2lkIDA7XG4gICAgICBpZiAoIXRoaXMuYWN0aXZhdGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChlbCA9IHRoaXMuZG9jRWwoZG9jKSkge1xuICAgICAgICBlbC5sYXN0RWxlbWVudENoaWxkLnRleHRDb250ZW50ID0gJ0Vycm9yJztcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbkluc3RhbGxQcm9ncmVzcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uSW5zdGFsbFByb2dyZXNzKGRvYywgZXZlbnQpIHtcbiAgICAgIHZhciBlbCA9IHZvaWQgMDtcbiAgICAgIGlmICghdGhpcy5hY3RpdmF0ZWQgfHwgIWV2ZW50Lmxlbmd0aENvbXB1dGFibGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGVsID0gdGhpcy5kb2NFbChkb2MpKSB7XG4gICAgICAgIHZhciBwZXJjZW50YWdlID0gTWF0aC5yb3VuZChldmVudC5sb2FkZWQgKiAxMDAgLyBldmVudC50b3RhbCk7XG4gICAgICAgIGVsLmxhc3RFbGVtZW50Q2hpbGQudGV4dENvbnRlbnQgPSBlbC5sYXN0RWxlbWVudENoaWxkLnRleHRDb250ZW50LnJlcGxhY2UoLyhcXHMuKyk/JC8sICcgKCcgKyBwZXJjZW50YWdlICsgJyUpJyk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25DaGFuZ2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNoYW5nZShldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldC5uYW1lID09PSAnYXV0b1VwZGF0ZScpIHtcbiAgICAgICAgYXBwLnNldHRpbmdzLnNldCgnbWFudWFsVXBkYXRlJywgIWV2ZW50LnRhcmdldC5jaGVja2VkKTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gT2ZmbGluZVBhZ2U7XG59KF92aWV3Mi5kZWZhdWx0KTtcblxuT2ZmbGluZVBhZ2UuY2xhc3NOYW1lID0gJ19zdGF0aWMnO1xuT2ZmbGluZVBhZ2UuZXZlbnRzID0ge1xuICBjbGljazogJ29uQ2xpY2snLFxuICBjaGFuZ2U6ICdvbkNoYW5nZSdcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBPZmZsaW5lUGFnZTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Fzc2V0cy9qYXZhc2NyaXB0cy92aWV3cy9jb250ZW50L29mZmxpbmVfcGFnZS5qc1xuLy8gbW9kdWxlIGlkID0gMjhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///28\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _view = __webpack_require__(0);\n\nvar _view2 = _interopRequireDefault(_view);\n\nvar _notif2 = __webpack_require__(1);\n\nvar _notif3 = _interopRequireDefault(_notif2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SettingsPage = function (_View) {\n  _inherits(SettingsPage, _View);\n\n  function SettingsPage() {\n    var _ref;\n\n    _classCallCheck(this, SettingsPage);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var _this = _possibleConstructorReturn(this, (_ref = SettingsPage.__proto__ || Object.getPrototypeOf(SettingsPage)).call.apply(_ref, [this].concat(args)));\n\n    _this.onChange = _this.onChange.bind(_this);\n    _this.onClick = _this.onClick.bind(_this);\n    return _this;\n  }\n\n  _createClass(SettingsPage, [{\n    key: 'render',\n    value: function render() {\n      this.html(this.tmpl('settingsPage', this.currentSettings()));\n    }\n  }, {\n    key: 'currentSettings',\n    value: function currentSettings() {\n      var settings = {};\n      settings.dark = app.settings.get('dark');\n      settings.smoothScroll = !app.settings.get('fastScroll');\n      settings.arrowScroll = app.settings.get('arrowScroll');\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = LAYOUTS[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var layout = _step.value;\n\n          settings[layout] = app.settings.hasLayout(layout);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return settings;\n    }\n  }, {\n    key: 'getTitle',\n    value: function getTitle() {\n      return 'Preferences';\n    }\n  }, {\n    key: 'toggleDark',\n    value: function toggleDark(enable) {\n      var css = $('link[rel=\"stylesheet\"][data-alt]');\n      var alt = css.getAttribute('data-alt');\n      css.setAttribute('data-alt', css.getAttribute('href'));\n      css.setAttribute('href', alt);\n      app.settings.set('dark', !!enable);\n      if (app.appCache != null) {\n        app.appCache.updateInBackground();\n      }\n    }\n  }, {\n    key: 'toggleLayout',\n    value: function toggleLayout(layout, enable) {\n      if (layout !== SIDEBAR_HIDDEN_LAYOUT) {\n        document.body.classList[enable ? 'add' : 'remove'](layout);\n      }\n      document.body.classList[$.overlayScrollbarsEnabled() ? 'add' : 'remove']('_overlay-scrollbars');\n      app.settings.setLayout(layout, enable);\n      if (app.appCache != null) {\n        app.appCache.updateInBackground();\n      }\n    }\n  }, {\n    key: 'toggleSmoothScroll',\n    value: function toggleSmoothScroll(enable) {\n      app.settings.set('fastScroll', !enable);\n    }\n  }, {\n    key: 'toggle',\n    value: function toggle(name, enable) {\n      app.settings.set(name, enable);\n    }\n  }, {\n    key: 'export',\n    value: function _export() {\n      var data = new Blob([JSON.stringify(app.settings.export())], {\n        type: 'application/json'\n      });\n      var link = document.createElement('a');\n      link.href = URL.createObjectURL(data);\n      link.download = 'devdocs.json';\n      link.style.display = 'none';\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    }\n  }, {\n    key: 'import',\n    value: function _import(file, input) {\n      if (!file || file.type !== 'application/json') {\n        var notif = new _notif3.default('ImportInvalid', {\n          autoHide: false\n        });\n        notif.show();\n        return;\n      }\n\n      var reader = new FileReader();\n      reader.onloadend = function () {\n        var data = function () {\n          try {\n            return JSON.parse(reader.result);\n          } catch (error) {}\n        }();\n        if (!data || data.constructor !== Object) {\n          var _notif = new _notif3.default('ImportInvalid', {\n            autoHide: false\n          });\n          _notif.show();\n          return;\n        }\n        app.settings.import(data);\n        $.trigger(input.form, 'import');\n      };\n      reader.readAsText(file);\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange(event) {\n      var input = event.target;\n      switch (input.name) {\n        case 'dark':\n          this.toggleDark(input.checked);\n          break;\n        case 'layout':\n          this.toggleLayout(input.value, input.checked);\n          break;\n        case 'smoothScroll':\n          this.toggleSmoothScroll(input.checked);\n          break;\n        case 'import':\n          this.import(input.files[0], input);\n          break;\n        default:\n          this.toggle(input.name, input.checked);\n      }\n    }\n  }, {\n    key: 'onClick',\n    value: function onClick(event) {\n      var target = $.eventTarget(event);\n      switch (target.getAttribute('data-action')) {\n        case 'export':\n          $.stopEvent(event);\n          this.export();\n          break;\n      }\n    }\n  }, {\n    key: 'onRoute',\n    value: function onRoute(context) {\n      this.render();\n    }\n  }]);\n\n  return SettingsPage;\n}(_view2.default);\n\nSettingsPage.LAYOUTS = ['_max-width', '_sidebar-hidden', '_native-scrollbars'];\nSettingsPage.SIDEBAR_HIDDEN_LAYOUT = '_sidebar-hidden';\nSettingsPage.className = '_static';\nSettingsPage.events = {\n  click: 'onClick',\n  change: 'onChange'\n};\nexports.default = SettingsPage;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvamF2YXNjcmlwdHMvdmlld3MvY29udGVudC9zZXR0aW5nc19wYWdlLmpzP2Q0MzkiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3ZpZXcgPSByZXF1aXJlKCcuLi92aWV3Jyk7XG5cbnZhciBfdmlldzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF92aWV3KTtcblxudmFyIF9ub3RpZjIgPSByZXF1aXJlKCcuLi9taXNjL25vdGlmJyk7XG5cbnZhciBfbm90aWYzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbm90aWYyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgU2V0dGluZ3NQYWdlID0gZnVuY3Rpb24gKF9WaWV3KSB7XG4gIF9pbmhlcml0cyhTZXR0aW5nc1BhZ2UsIF9WaWV3KTtcblxuICBmdW5jdGlvbiBTZXR0aW5nc1BhZ2UoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2V0dGluZ3NQYWdlKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfcmVmID0gU2V0dGluZ3NQYWdlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2V0dGluZ3NQYWdlKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSk7XG5cbiAgICBfdGhpcy5vbkNoYW5nZSA9IF90aGlzLm9uQ2hhbmdlLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uQ2xpY2sgPSBfdGhpcy5vbkNsaWNrLmJpbmQoX3RoaXMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhTZXR0aW5nc1BhZ2UsIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdGhpcy5odG1sKHRoaXMudG1wbCgnc2V0dGluZ3NQYWdlJywgdGhpcy5jdXJyZW50U2V0dGluZ3MoKSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2N1cnJlbnRTZXR0aW5ncycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGN1cnJlbnRTZXR0aW5ncygpIHtcbiAgICAgIHZhciBzZXR0aW5ncyA9IHt9O1xuICAgICAgc2V0dGluZ3MuZGFyayA9IGFwcC5zZXR0aW5ncy5nZXQoJ2RhcmsnKTtcbiAgICAgIHNldHRpbmdzLnNtb290aFNjcm9sbCA9ICFhcHAuc2V0dGluZ3MuZ2V0KCdmYXN0U2Nyb2xsJyk7XG4gICAgICBzZXR0aW5ncy5hcnJvd1Njcm9sbCA9IGFwcC5zZXR0aW5ncy5nZXQoJ2Fycm93U2Nyb2xsJyk7XG4gICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gTEFZT1VUU1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICB2YXIgbGF5b3V0ID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICBzZXR0aW5nc1tsYXlvdXRdID0gYXBwLnNldHRpbmdzLmhhc0xheW91dChsYXlvdXQpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNldHRpbmdzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFRpdGxlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VGl0bGUoKSB7XG4gICAgICByZXR1cm4gJ1ByZWZlcmVuY2VzJztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICd0b2dnbGVEYXJrJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9nZ2xlRGFyayhlbmFibGUpIHtcbiAgICAgIHZhciBjc3MgPSAkKCdsaW5rW3JlbD1cInN0eWxlc2hlZXRcIl1bZGF0YS1hbHRdJyk7XG4gICAgICB2YXIgYWx0ID0gY3NzLmdldEF0dHJpYnV0ZSgnZGF0YS1hbHQnKTtcbiAgICAgIGNzcy5zZXRBdHRyaWJ1dGUoJ2RhdGEtYWx0JywgY3NzLmdldEF0dHJpYnV0ZSgnaHJlZicpKTtcbiAgICAgIGNzcy5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBhbHQpO1xuICAgICAgYXBwLnNldHRpbmdzLnNldCgnZGFyaycsICEhZW5hYmxlKTtcbiAgICAgIGlmIChhcHAuYXBwQ2FjaGUgIT0gbnVsbCkge1xuICAgICAgICBhcHAuYXBwQ2FjaGUudXBkYXRlSW5CYWNrZ3JvdW5kKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAndG9nZ2xlTGF5b3V0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9nZ2xlTGF5b3V0KGxheW91dCwgZW5hYmxlKSB7XG4gICAgICBpZiAobGF5b3V0ICE9PSBTSURFQkFSX0hJRERFTl9MQVlPVVQpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3RbZW5hYmxlID8gJ2FkZCcgOiAncmVtb3ZlJ10obGF5b3V0KTtcbiAgICAgIH1cbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0WyQub3ZlcmxheVNjcm9sbGJhcnNFbmFibGVkKCkgPyAnYWRkJyA6ICdyZW1vdmUnXSgnX292ZXJsYXktc2Nyb2xsYmFycycpO1xuICAgICAgYXBwLnNldHRpbmdzLnNldExheW91dChsYXlvdXQsIGVuYWJsZSk7XG4gICAgICBpZiAoYXBwLmFwcENhY2hlICE9IG51bGwpIHtcbiAgICAgICAgYXBwLmFwcENhY2hlLnVwZGF0ZUluQmFja2dyb3VuZCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3RvZ2dsZVNtb290aFNjcm9sbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvZ2dsZVNtb290aFNjcm9sbChlbmFibGUpIHtcbiAgICAgIGFwcC5zZXR0aW5ncy5zZXQoJ2Zhc3RTY3JvbGwnLCAhZW5hYmxlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICd0b2dnbGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b2dnbGUobmFtZSwgZW5hYmxlKSB7XG4gICAgICBhcHAuc2V0dGluZ3Muc2V0KG5hbWUsIGVuYWJsZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZXhwb3J0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2V4cG9ydCgpIHtcbiAgICAgIHZhciBkYXRhID0gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KGFwcC5zZXR0aW5ncy5leHBvcnQoKSldLCB7XG4gICAgICAgIHR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgfSk7XG4gICAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgIGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZGF0YSk7XG4gICAgICBsaW5rLmRvd25sb2FkID0gJ2RldmRvY3MuanNvbic7XG4gICAgICBsaW5rLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspO1xuICAgICAgbGluay5jbGljaygpO1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdpbXBvcnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaW1wb3J0KGZpbGUsIGlucHV0KSB7XG4gICAgICBpZiAoIWZpbGUgfHwgZmlsZS50eXBlICE9PSAnYXBwbGljYXRpb24vanNvbicpIHtcbiAgICAgICAgdmFyIG5vdGlmID0gbmV3IF9ub3RpZjMuZGVmYXVsdCgnSW1wb3J0SW52YWxpZCcsIHtcbiAgICAgICAgICBhdXRvSGlkZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIG5vdGlmLnNob3coKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkYXRhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShyZWFkZXIucmVzdWx0KTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge31cbiAgICAgICAgfSgpO1xuICAgICAgICBpZiAoIWRhdGEgfHwgZGF0YS5jb25zdHJ1Y3RvciAhPT0gT2JqZWN0KSB7XG4gICAgICAgICAgdmFyIF9ub3RpZiA9IG5ldyBfbm90aWYzLmRlZmF1bHQoJ0ltcG9ydEludmFsaWQnLCB7XG4gICAgICAgICAgICBhdXRvSGlkZTogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBfbm90aWYuc2hvdygpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhcHAuc2V0dGluZ3MuaW1wb3J0KGRhdGEpO1xuICAgICAgICAkLnRyaWdnZXIoaW5wdXQuZm9ybSwgJ2ltcG9ydCcpO1xuICAgICAgfTtcbiAgICAgIHJlYWRlci5yZWFkQXNUZXh0KGZpbGUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uQ2hhbmdlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25DaGFuZ2UoZXZlbnQpIHtcbiAgICAgIHZhciBpbnB1dCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIHN3aXRjaCAoaW5wdXQubmFtZSkge1xuICAgICAgICBjYXNlICdkYXJrJzpcbiAgICAgICAgICB0aGlzLnRvZ2dsZURhcmsoaW5wdXQuY2hlY2tlZCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2xheW91dCc6XG4gICAgICAgICAgdGhpcy50b2dnbGVMYXlvdXQoaW5wdXQudmFsdWUsIGlucHV0LmNoZWNrZWQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdzbW9vdGhTY3JvbGwnOlxuICAgICAgICAgIHRoaXMudG9nZ2xlU21vb3RoU2Nyb2xsKGlucHV0LmNoZWNrZWQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdpbXBvcnQnOlxuICAgICAgICAgIHRoaXMuaW1wb3J0KGlucHV0LmZpbGVzWzBdLCBpbnB1dCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhpcy50b2dnbGUoaW5wdXQubmFtZSwgaW5wdXQuY2hlY2tlZCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25DbGljaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQpIHtcbiAgICAgIHZhciB0YXJnZXQgPSAkLmV2ZW50VGFyZ2V0KGV2ZW50KTtcbiAgICAgIHN3aXRjaCAodGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1hY3Rpb24nKSkge1xuICAgICAgICBjYXNlICdleHBvcnQnOlxuICAgICAgICAgICQuc3RvcEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICB0aGlzLmV4cG9ydCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uUm91dGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJvdXRlKGNvbnRleHQpIHtcbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFNldHRpbmdzUGFnZTtcbn0oX3ZpZXcyLmRlZmF1bHQpO1xuXG5TZXR0aW5nc1BhZ2UuTEFZT1VUUyA9IFsnX21heC13aWR0aCcsICdfc2lkZWJhci1oaWRkZW4nLCAnX25hdGl2ZS1zY3JvbGxiYXJzJ107XG5TZXR0aW5nc1BhZ2UuU0lERUJBUl9ISURERU5fTEFZT1VUID0gJ19zaWRlYmFyLWhpZGRlbic7XG5TZXR0aW5nc1BhZ2UuY2xhc3NOYW1lID0gJ19zdGF0aWMnO1xuU2V0dGluZ3NQYWdlLmV2ZW50cyA9IHtcbiAgY2xpY2s6ICdvbkNsaWNrJyxcbiAgY2hhbmdlOiAnb25DaGFuZ2UnXG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gU2V0dGluZ3NQYWdlO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXNzZXRzL2phdmFzY3JpcHRzL3ZpZXdzL2NvbnRlbnQvc2V0dGluZ3NfcGFnZS5qc1xuLy8gbW9kdWxlIGlkID0gMjlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///29\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _view = __webpack_require__(0);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar StaticPage = function (_View) {\n  _inherits(StaticPage, _View);\n\n  function StaticPage() {\n    _classCallCheck(this, StaticPage);\n\n    return _possibleConstructorReturn(this, (StaticPage.__proto__ || Object.getPrototypeOf(StaticPage)).apply(this, arguments));\n  }\n\n  _createClass(StaticPage, [{\n    key: 'deactivate',\n    value: function deactivate() {\n      if (_get(StaticPage.prototype.__proto__ || Object.getPrototypeOf(StaticPage.prototype), 'deactivate', this).apply(this, arguments)) {\n        this.empty();\n        this.page = null;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render(page) {\n      this.page = page;\n      this.html(this.tmpl(this.page + 'Page'));\n    }\n  }, {\n    key: 'getTitle',\n    value: function getTitle() {\n      return this.constructor.titles[this.page];\n    }\n  }, {\n    key: 'onRoute',\n    value: function onRoute(context) {\n      this.render(context.page || 'notFound');\n    }\n  }]);\n\n  return StaticPage;\n}(_view2.default);\n\nStaticPage.className = '_static';\nStaticPage.titles = {\n  about: 'About',\n  news: 'News',\n  help: 'User Guide',\n  notFound: '404'\n};\nexports.default = StaticPage;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvamF2YXNjcmlwdHMvdmlld3MvY29udGVudC9zdGF0aWNfcGFnZS5qcz8xMDI1Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQob2JqZWN0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IHJldHVybiBnZXQocGFyZW50LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpOyB9IH0gZWxzZSBpZiAoXCJ2YWx1ZVwiIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9O1xuXG52YXIgX3ZpZXcgPSByZXF1aXJlKCcuLi92aWV3Jyk7XG5cbnZhciBfdmlldzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF92aWV3KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgU3RhdGljUGFnZSA9IGZ1bmN0aW9uIChfVmlldykge1xuICBfaW5oZXJpdHMoU3RhdGljUGFnZSwgX1ZpZXcpO1xuXG4gIGZ1bmN0aW9uIFN0YXRpY1BhZ2UoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0YXRpY1BhZ2UpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChTdGF0aWNQYWdlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU3RhdGljUGFnZSkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFN0YXRpY1BhZ2UsIFt7XG4gICAga2V5OiAnZGVhY3RpdmF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlYWN0aXZhdGUoKSB7XG4gICAgICBpZiAoX2dldChTdGF0aWNQYWdlLnByb3RvdHlwZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFN0YXRpY1BhZ2UucHJvdG90eXBlKSwgJ2RlYWN0aXZhdGUnLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSB7XG4gICAgICAgIHRoaXMuZW1wdHkoKTtcbiAgICAgICAgdGhpcy5wYWdlID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIocGFnZSkge1xuICAgICAgdGhpcy5wYWdlID0gcGFnZTtcbiAgICAgIHRoaXMuaHRtbCh0aGlzLnRtcGwodGhpcy5wYWdlICsgJ1BhZ2UnKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0VGl0bGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUaXRsZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRpdGxlc1t0aGlzLnBhZ2VdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uUm91dGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJvdXRlKGNvbnRleHQpIHtcbiAgICAgIHRoaXMucmVuZGVyKGNvbnRleHQucGFnZSB8fCAnbm90Rm91bmQnKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU3RhdGljUGFnZTtcbn0oX3ZpZXcyLmRlZmF1bHQpO1xuXG5TdGF0aWNQYWdlLmNsYXNzTmFtZSA9ICdfc3RhdGljJztcblN0YXRpY1BhZ2UudGl0bGVzID0ge1xuICBhYm91dDogJ0Fib3V0JyxcbiAgbmV3czogJ05ld3MnLFxuICBoZWxwOiAnVXNlciBHdWlkZScsXG4gIG5vdEZvdW5kOiAnNDA0J1xufTtcbmV4cG9ydHMuZGVmYXVsdCA9IFN0YXRpY1BhZ2U7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hc3NldHMvamF2YXNjcmlwdHMvdmlld3MvY29udGVudC9zdGF0aWNfcGFnZS5qc1xuLy8gbW9kdWxlIGlkID0gMzBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///30\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _view = __webpack_require__(0);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TypePage = function (_View) {\n  _inherits(TypePage, _View);\n\n  function TypePage() {\n    _classCallCheck(this, TypePage);\n\n    return _possibleConstructorReturn(this, (TypePage.__proto__ || Object.getPrototypeOf(TypePage)).apply(this, arguments));\n  }\n\n  _createClass(TypePage, [{\n    key: 'deactivate',\n    value: function deactivate() {\n      if (_get(TypePage.prototype.__proto__ || Object.getPrototypeOf(TypePage.prototype), 'deactivate', this).apply(this, arguments)) {\n        this.empty();\n        this.type = null;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render(type) {\n      this.type = type;\n      this.html(this.tmpl('typePage', this.type));\n    }\n  }, {\n    key: 'getTitle',\n    value: function getTitle() {\n      return this.type.doc.fullName + ' / ' + this.type.name;\n    }\n  }, {\n    key: 'onRoute',\n    value: function onRoute(context) {\n      this.render(context.type);\n    }\n  }]);\n\n  return TypePage;\n}(_view2.default);\n\nTypePage.className = '_page';\nexports.default = TypePage;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvamF2YXNjcmlwdHMvdmlld3MvY29udGVudC90eXBlX3BhZ2UuanM/ZjllZCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KG9iamVjdCwgcHJvcGVydHksIHJlY2VpdmVyKSB7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyByZXR1cm4gZ2V0KHBhcmVudCwgcHJvcGVydHksIHJlY2VpdmVyKTsgfSB9IGVsc2UgaWYgKFwidmFsdWVcIiBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfTtcblxudmFyIF92aWV3ID0gcmVxdWlyZSgnLi4vdmlldycpO1xuXG52YXIgX3ZpZXcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdmlldyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFR5cGVQYWdlID0gZnVuY3Rpb24gKF9WaWV3KSB7XG4gIF9pbmhlcml0cyhUeXBlUGFnZSwgX1ZpZXcpO1xuXG4gIGZ1bmN0aW9uIFR5cGVQYWdlKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUeXBlUGFnZSk7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFR5cGVQYWdlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVHlwZVBhZ2UpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhUeXBlUGFnZSwgW3tcbiAgICBrZXk6ICdkZWFjdGl2YXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVhY3RpdmF0ZSgpIHtcbiAgICAgIGlmIChfZ2V0KFR5cGVQYWdlLnByb3RvdHlwZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFR5cGVQYWdlLnByb3RvdHlwZSksICdkZWFjdGl2YXRlJywgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKSkge1xuICAgICAgICB0aGlzLmVtcHR5KCk7XG4gICAgICAgIHRoaXMudHlwZSA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKHR5cGUpIHtcbiAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICB0aGlzLmh0bWwodGhpcy50bXBsKCd0eXBlUGFnZScsIHRoaXMudHlwZSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFRpdGxlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VGl0bGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy50eXBlLmRvYy5mdWxsTmFtZSArICcgLyAnICsgdGhpcy50eXBlLm5hbWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25Sb3V0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUm91dGUoY29udGV4dCkge1xuICAgICAgdGhpcy5yZW5kZXIoY29udGV4dC50eXBlKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVHlwZVBhZ2U7XG59KF92aWV3Mi5kZWZhdWx0KTtcblxuVHlwZVBhZ2UuY2xhc3NOYW1lID0gJ19wYWdlJztcbmV4cG9ydHMuZGVmYXVsdCA9IFR5cGVQYWdlO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXNzZXRzL2phdmFzY3JpcHRzL3ZpZXdzL2NvbnRlbnQvdHlwZV9wYWdlLmpzXG4vLyBtb2R1bGUgaWQgPSAzMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///31\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Settings = function () {\n  function Settings() {\n    _classCallCheck(this, Settings);\n\n    this.store = new CookieStore();\n    this.cache = {};\n  }\n\n  _createClass(Settings, [{\n    key: 'get',\n    value: function get(key) {\n      var left = void 0;\n      if (this.cache.hasOwnProperty(key)) {\n        return this.cache[key];\n      }\n      return this.cache[key] = (left = this.store.get(key)) != null ? left : this.constructor.defaults[key];\n    }\n  }, {\n    key: 'set',\n    value: function set(key, value) {\n      this.store.set(key, value);\n      delete this.cache[key];\n    }\n  }, {\n    key: 'del',\n    value: function del(key) {\n      this.store.del(key);\n      delete this.cache[key];\n    }\n  }, {\n    key: 'hasDocs',\n    value: function hasDocs() {\n      try {\n        return !!this.store.get('docs');\n      } catch (error) {}\n    }\n  }, {\n    key: 'getDocs',\n    value: function getDocs() {\n      var docs = this.store.get('docs');\n\n      if (docs) {\n        return docs.split('/');\n      }\n\n      return App.config.default_docs;\n    }\n  }, {\n    key: 'setDocs',\n    value: function setDocs(docs) {\n      this.set('docs', docs.join('/'));\n    }\n  }, {\n    key: 'getTips',\n    value: function getTips() {\n      var tips = this.store.get('tips');\n      if (tips != null) {\n        return tips.split('/');\n      }\n      return [];\n    }\n  }, {\n    key: 'setTips',\n    value: function setTips(tips) {\n      this.set('tips', tips.join('/'));\n    }\n  }, {\n    key: 'setLayout',\n    value: function setLayout(name, enable) {\n      var layout = (this.store.get('layout') || '').split(' ');\n      $.arrayDelete(layout, '');\n\n      if (enable) {\n        if (layout.indexOf(name) === -1) {\n          layout.push(name);\n        }\n      } else {\n        $.arrayDelete(layout, name);\n      }\n\n      if (layout.length > 0) {\n        this.set('layout', layout.join(' '));\n      } else {\n        this.del('layout');\n      }\n    }\n  }, {\n    key: 'hasLayout',\n    value: function hasLayout(name) {\n      var layout = (this.store.get('layout') || '').split(' ');\n      return layout.indexOf(name) !== -1;\n    }\n  }, {\n    key: 'setSize',\n    value: function setSize(value) {\n      this.set('size', value);\n    }\n  }, {\n    key: 'dump',\n    value: function dump() {\n      return this.store.dump();\n    }\n  }, {\n    key: 'export',\n    value: function _export() {\n      var data = this.dump();\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = INTERNAL_KEYS[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var key = _step.value;\n\n          delete data[key];\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return data;\n    }\n  }, {\n    key: 'import',\n    value: function _import(data) {\n      var value = void 0;\n      var object = this.export();\n      for (var key in object) {\n        value = object[key];\n        if (!data.hasOwnProperty(key)) {\n          this.del(key);\n        }\n      }\n      for (key in data) {\n        value = data[key];\n        if (PREFERENCE_KEYS.indexOf(key) !== -1) {\n          this.set(key, value);\n        }\n      }\n    }\n  }, {\n    key: 'reset',\n    value: function reset() {\n      this.store.reset();\n      this.cache = {};\n    }\n  }]);\n\n  return Settings;\n}();\n\nSettings.PREFERENCE_KEYS = ['hideDisabled', 'hideIntro', 'manualUpdate', 'fastScroll', 'arrowScroll', 'docs', 'dark', 'layout', 'size', 'tips'];\nSettings.INTERNAL_KEYS = ['count', 'schema', 'version', 'news'];\nSettings.defaults = {\n  count: 0,\n  hideDisabled: false,\n  hideIntro: false,\n  news: 0,\n  manualUpdate: false,\n  schema: 1\n};\nexports.default = Settings;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvamF2YXNjcmlwdHMvYXBwL3NldHRpbmdzLmpzP2Q2MGYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgU2V0dGluZ3MgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFNldHRpbmdzKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZXR0aW5ncyk7XG5cbiAgICB0aGlzLnN0b3JlID0gbmV3IENvb2tpZVN0b3JlKCk7XG4gICAgdGhpcy5jYWNoZSA9IHt9O1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFNldHRpbmdzLCBbe1xuICAgIGtleTogJ2dldCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldChrZXkpIHtcbiAgICAgIHZhciBsZWZ0ID0gdm9pZCAwO1xuICAgICAgaWYgKHRoaXMuY2FjaGUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZVtrZXldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVba2V5XSA9IChsZWZ0ID0gdGhpcy5zdG9yZS5nZXQoa2V5KSkgIT0gbnVsbCA/IGxlZnQgOiB0aGlzLmNvbnN0cnVjdG9yLmRlZmF1bHRzW2tleV07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2V0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHRoaXMuc3RvcmUuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgZGVsZXRlIHRoaXMuY2FjaGVba2V5XTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkZWwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWwoa2V5KSB7XG4gICAgICB0aGlzLnN0b3JlLmRlbChrZXkpO1xuICAgICAgZGVsZXRlIHRoaXMuY2FjaGVba2V5XTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoYXNEb2NzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzRG9jcygpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuc3RvcmUuZ2V0KCdkb2NzJyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge31cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXREb2NzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RG9jcygpIHtcbiAgICAgIHZhciBkb2NzID0gdGhpcy5zdG9yZS5nZXQoJ2RvY3MnKTtcblxuICAgICAgaWYgKGRvY3MpIHtcbiAgICAgICAgcmV0dXJuIGRvY3Muc3BsaXQoJy8nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFwcC5jb25maWcuZGVmYXVsdF9kb2NzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NldERvY3MnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREb2NzKGRvY3MpIHtcbiAgICAgIHRoaXMuc2V0KCdkb2NzJywgZG9jcy5qb2luKCcvJykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFRpcHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUaXBzKCkge1xuICAgICAgdmFyIHRpcHMgPSB0aGlzLnN0b3JlLmdldCgndGlwcycpO1xuICAgICAgaWYgKHRpcHMgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdGlwcy5zcGxpdCgnLycpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NldFRpcHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRUaXBzKHRpcHMpIHtcbiAgICAgIHRoaXMuc2V0KCd0aXBzJywgdGlwcy5qb2luKCcvJykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NldExheW91dCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldExheW91dChuYW1lLCBlbmFibGUpIHtcbiAgICAgIHZhciBsYXlvdXQgPSAodGhpcy5zdG9yZS5nZXQoJ2xheW91dCcpIHx8ICcnKS5zcGxpdCgnICcpO1xuICAgICAgJC5hcnJheURlbGV0ZShsYXlvdXQsICcnKTtcblxuICAgICAgaWYgKGVuYWJsZSkge1xuICAgICAgICBpZiAobGF5b3V0LmluZGV4T2YobmFtZSkgPT09IC0xKSB7XG4gICAgICAgICAgbGF5b3V0LnB1c2gobmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQuYXJyYXlEZWxldGUobGF5b3V0LCBuYW1lKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGxheW91dC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRoaXMuc2V0KCdsYXlvdXQnLCBsYXlvdXQuam9pbignICcpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZGVsKCdsYXlvdXQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoYXNMYXlvdXQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYXNMYXlvdXQobmFtZSkge1xuICAgICAgdmFyIGxheW91dCA9ICh0aGlzLnN0b3JlLmdldCgnbGF5b3V0JykgfHwgJycpLnNwbGl0KCcgJyk7XG4gICAgICByZXR1cm4gbGF5b3V0LmluZGV4T2YobmFtZSkgIT09IC0xO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NldFNpemUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTaXplKHZhbHVlKSB7XG4gICAgICB0aGlzLnNldCgnc2l6ZScsIHZhbHVlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkdW1wJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZHVtcCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0b3JlLmR1bXAoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdleHBvcnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZXhwb3J0KCkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLmR1bXAoKTtcbiAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBJTlRFUk5BTF9LRVlTW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgIHZhciBrZXkgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgIGRlbGV0ZSBkYXRhW2tleV07XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdpbXBvcnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaW1wb3J0KGRhdGEpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHZvaWQgMDtcbiAgICAgIHZhciBvYmplY3QgPSB0aGlzLmV4cG9ydCgpO1xuICAgICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAgICB2YWx1ZSA9IG9iamVjdFtrZXldO1xuICAgICAgICBpZiAoIWRhdGEuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIHRoaXMuZGVsKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAoa2V5IGluIGRhdGEpIHtcbiAgICAgICAgdmFsdWUgPSBkYXRhW2tleV07XG4gICAgICAgIGlmIChQUkVGRVJFTkNFX0tFWVMuaW5kZXhPZihrZXkpICE9PSAtMSkge1xuICAgICAgICAgIHRoaXMuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVzZXQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgIHRoaXMuc3RvcmUucmVzZXQoKTtcbiAgICAgIHRoaXMuY2FjaGUgPSB7fTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU2V0dGluZ3M7XG59KCk7XG5cblNldHRpbmdzLlBSRUZFUkVOQ0VfS0VZUyA9IFsnaGlkZURpc2FibGVkJywgJ2hpZGVJbnRybycsICdtYW51YWxVcGRhdGUnLCAnZmFzdFNjcm9sbCcsICdhcnJvd1Njcm9sbCcsICdkb2NzJywgJ2RhcmsnLCAnbGF5b3V0JywgJ3NpemUnLCAndGlwcyddO1xuU2V0dGluZ3MuSU5URVJOQUxfS0VZUyA9IFsnY291bnQnLCAnc2NoZW1hJywgJ3ZlcnNpb24nLCAnbmV3cyddO1xuU2V0dGluZ3MuZGVmYXVsdHMgPSB7XG4gIGNvdW50OiAwLFxuICBoaWRlRGlzYWJsZWQ6IGZhbHNlLFxuICBoaWRlSW50cm86IGZhbHNlLFxuICBuZXdzOiAwLFxuICBtYW51YWxVcGRhdGU6IGZhbHNlLFxuICBzY2hlbWE6IDFcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBTZXR0aW5ncztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Fzc2V0cy9qYXZhc2NyaXB0cy9hcHAvc2V0dGluZ3MuanNcbi8vIG1vZHVsZSBpZCA9IDMyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///32\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DB = function () {\n  function DB() {\n    _classCallCheck(this, DB);\n\n    this.onOpenSuccess = this.onOpenSuccess.bind(this);\n    this.onOpenError = this.onOpenError.bind(this);\n    this.checkForCorruptedDocs = this.checkForCorruptedDocs.bind(this);\n    this.deleteCorruptedDocs = this.deleteCorruptedDocs.bind(this);\n    this.versionMultipler = $.isIE() ? 1e5 : 1e9;\n    this.useIndexedDB = this.useIndexedDB();\n    this.callbacks = [];\n  }\n\n  _createClass(DB, [{\n    key: 'db',\n    value: function db(fn) {\n      if (!this.useIndexedDB) {\n        return fn();\n      }\n      if (fn) {\n        this.callbacks.push(fn);\n      }\n      if (this.open) {\n        return;\n      }\n\n      try {\n        this.open = true;\n        var req = indexedDB.open(DB.NAME, DB.VERSION * this.versionMultipler + this.userVersion());\n        req.onsuccess = this.onOpenSuccess;\n        req.onerror = this.onOpenError;\n        req.onupgradeneeded = this.onUpgradeNeeded;\n      } catch (error) {\n        this.fail('exception', error);\n      }\n    }\n  }, {\n    key: 'onOpenSuccess',\n    value: function onOpenSuccess(event) {\n      var error = void 0;\n      var db = event.target.result;\n\n      if (db.objectStoreNames.length === 0) {\n        try {\n          db.close();\n        } catch (error1) {}\n        this.open = false;\n        this.fail('empty');\n      } else if (error = this.buggyIDB(db)) {\n        try {\n          db.close();\n        } catch (error2) {}\n        this.open = false;\n        this.fail('buggy', error);\n      } else {\n        this.runCallbacks(db);\n        this.open = false;\n        db.close();\n      }\n    }\n  }, {\n    key: 'onOpenError',\n    value: function onOpenError(event) {\n      event.preventDefault();\n      this.open = false;\n      var error = event.target.error;\n\n\n      switch (error.name) {\n        case 'QuotaExceededError':\n          this.onQuotaExceededError();\n          break;\n        case 'VersionError':\n          this.onVersionError();\n          break;\n        case 'InvalidStateError':\n          this.fail('private_mode');\n          break;\n        default:\n          this.fail('cant_open', error);\n      }\n    }\n  }, {\n    key: 'fail',\n    value: function fail(reason, error) {\n      this.cachedDocs = null;\n      this.useIndexedDB = false;\n      if (!this.reason) {\n        this.reason = reason;\n      }\n      if (!this.error) {\n        this.error = error;\n      }\n      if (error) {\n        if (typeof console.error === 'function') {\n          console.error('IDB error', error);\n        }\n      }\n      this.runCallbacks();\n      if (error && reason === 'cant_open') {\n        Raven.captureMessage(error.name + ': ' + error.message, {\n          level: 'warning',\n          fingerprint: [error.name]\n        });\n      }\n    }\n  }, {\n    key: 'onQuotaExceededError',\n    value: function onQuotaExceededError() {\n      this.reset();\n      this.db();\n      app.onQuotaExceeded();\n      Raven.captureMessage('QuotaExceededError', {\n        level: 'warning'\n      });\n    }\n  }, {\n    key: 'onVersionError',\n    value: function onVersionError() {\n      var _this = this;\n\n      var req = indexedDB.open(DB.NAME);\n      req.onsuccess = function (event) {\n        return _this.handleVersionMismatch(event.target.result.version);\n      };\n      req.onerror = function (event) {\n        event.preventDefault();\n        return this.fail('cant_open', error);\n      };\n    }\n  }, {\n    key: 'handleVersionMismatch',\n    value: function handleVersionMismatch(actualVersion) {\n      if (Math.floor(actualVersion / this.versionMultipler) !== DB.VERSION) {\n        this.fail('version');\n      } else {\n        this.setUserVersion(actualVersion - DB.VERSION * this.versionMultipler);\n        this.db();\n      }\n    }\n  }, {\n    key: 'buggyIDB',\n    value: function buggyIDB(db) {\n      if (this.checkedBuggyIDB) {\n        return;\n      }\n      this.checkedBuggyIDB = true;\n      try {\n        this.idbTransaction(db, {\n          stores: $.makeArray(db.objectStoreNames).slice(0, 2),\n          mode: 'readwrite'\n        }).abort(); // https://bugs.webkit.org/show_bug.cgi?id=136937\n        return;\n      } catch (error) {\n        return error;\n      }\n    }\n  }, {\n    key: 'runCallbacks',\n    value: function runCallbacks(db) {\n      var fn = void 0;\n      while (fn = this.callbacks.shift()) {\n        fn(db);\n      }\n    }\n  }, {\n    key: 'onUpgradeNeeded',\n    value: function onUpgradeNeeded(event) {\n      var db = void 0;\n      if (!(db = event.target.result)) {\n        return;\n      }\n\n      var objectStoreNames = $.makeArray(db.objectStoreNames);\n\n      if (!$.arrayDelete(objectStoreNames, 'docs')) {\n        try {\n          db.createObjectStore('docs');\n        } catch (error) {}\n      }\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = app.docs.all()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var doc = _step.value;\n\n          if (!$.arrayDelete(objectStoreNames, doc.slug)) {\n            try {\n              db.createObjectStore(doc.slug);\n            } catch (error1) {}\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = objectStoreNames[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var name = _step2.value;\n\n          try {\n            db.deleteObjectStore(name);\n          } catch (error2) {}\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    }\n  }, {\n    key: 'store',\n    value: function store(doc, data, onSuccess, onError, _retry) {\n      var _this2 = this;\n\n      if (_retry == null) {\n        _retry = true;\n      }\n      this.db(function (db) {\n        if (!db) {\n          onError();\n          return;\n        }\n\n        var txn = _this2.idbTransaction(db, {\n          stores: ['docs', doc.slug],\n          mode: 'readwrite',\n          ignoreError: false\n        });\n        txn.oncomplete = function () {\n          if (_this2.cachedDocs != null) {\n            _this2.cachedDocs[doc.slug] = doc.mtime;\n          }\n          onSuccess();\n        };\n        txn.onerror = function (event) {\n          event.preventDefault();\n          if ((txn.error != null ? txn.error.name : undefined) === 'NotFoundError' && _retry) {\n            _this2.migrate();\n            setTimeout(function () {\n              return _this2.store(doc, data, onSuccess, onError, false);\n            }, 0);\n          } else {\n            onError(event);\n          }\n        };\n\n        var store = txn.objectStore(doc.slug);\n        store.clear();\n        for (var path in data) {\n          var content = data[path];\n          store.add(content, path);\n        }\n\n        store = txn.objectStore('docs');\n        store.put(doc.mtime, doc.slug);\n      });\n    }\n  }, {\n    key: 'unstore',\n    value: function unstore(doc, onSuccess, onError, _retry) {\n      var _this3 = this;\n\n      if (_retry == null) {\n        _retry = true;\n      }\n      this.db(function (db) {\n        if (!db) {\n          onError();\n          return;\n        }\n\n        var txn = _this3.idbTransaction(db, {\n          stores: ['docs', doc.slug],\n          mode: 'readwrite',\n          ignoreError: false\n        });\n        txn.oncomplete = function () {\n          if (_this3.cachedDocs != null) {\n            delete _this3.cachedDocs[doc.slug];\n          }\n          onSuccess();\n        };\n        txn.onerror = function (event) {\n          var _this4 = this;\n\n          event.preventDefault();\n          if ((txn.error != null ? txn.error.name : undefined) === 'NotFoundError' && _retry) {\n            this.migrate();\n            setTimeout(function () {\n              return _this4.unstore(doc, onSuccess, onError, false);\n            }, 0);\n          } else {\n            onError(event);\n          }\n        };\n\n        var store = txn.objectStore('docs');\n        store.delete(doc.slug);\n\n        store = txn.objectStore(doc.slug);\n        store.clear();\n      });\n    }\n  }, {\n    key: 'version',\n    value: function version(doc, fn) {\n      var _this5 = this;\n\n      var version = void 0;\n      if ((version = this.cachedVersion(doc)) != null) {\n        fn(version);\n        return;\n      }\n\n      this.db(function (db) {\n        if (!db) {\n          fn(false);\n          return;\n        }\n\n        var txn = _this5.idbTransaction(db, {\n          stores: ['docs'],\n          mode: 'readonly'\n        });\n        var store = txn.objectStore('docs');\n\n        var req = store.get(doc.slug);\n        req.onsuccess = function () {\n          fn(req.result);\n        };\n        req.onerror = function (event) {\n          event.preventDefault();\n          fn(false);\n        };\n      });\n    }\n  }, {\n    key: 'cachedVersion',\n    value: function cachedVersion(doc) {\n      if (!this.cachedDocs) {\n        return;\n      }\n      return this.cachedDocs[doc.slug] || false;\n    }\n  }, {\n    key: 'versions',\n    value: function versions(docs, fn) {\n      var _this6 = this;\n\n      var versions = void 0;\n      if (versions = this.cachedVersions(docs)) {\n        fn(versions);\n        return;\n      }\n\n      return this.db(function (db) {\n        if (!db) {\n          fn(false);\n          return;\n        }\n\n        var txn = _this6.idbTransaction(db, {\n          stores: ['docs'],\n          mode: 'readonly'\n        });\n        txn.oncomplete = function () {\n          fn(result);\n        };\n        var store = txn.objectStore('docs');\n        var result = {};\n\n        docs.forEach(function (doc) {\n          var req = store.get(doc.slug);\n          req.onsuccess = function () {\n            result[doc.slug] = req.result;\n          };\n          req.onerror = function (event) {\n            event.preventDefault();\n            result[doc.slug] = false;\n          };\n        });\n      });\n    }\n  }, {\n    key: 'cachedVersions',\n    value: function cachedVersions(docs) {\n      if (!this.cachedDocs) {\n        return;\n      }\n      var result = {};\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = docs[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var doc = _step3.value;\n\n          result[doc.slug] = this.cachedVersion(doc);\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: 'load',\n    value: function load(entry, onSuccess, onError) {\n      if (this.shouldLoadWithIDB(entry)) {\n        onError = this.loadWithXHR.bind(this, entry, onSuccess, onError);\n        return this.loadWithIDB(entry, onSuccess, onError);\n      } else {\n        return this.loadWithXHR(entry, onSuccess, onError);\n      }\n    }\n  }, {\n    key: 'loadWithXHR',\n    value: function loadWithXHR(entry, onSuccess, onError) {\n      return ajax({\n        url: entry.fileUrl(),\n        dataType: 'html',\n        success: onSuccess,\n        error: onError\n      });\n    }\n  }, {\n    key: 'loadWithIDB',\n    value: function loadWithIDB(entry, onSuccess, onError) {\n      var _this7 = this;\n\n      return this.db(function (db) {\n        if (!db) {\n          onError();\n          return;\n        }\n\n        if (!db.objectStoreNames.contains(entry.doc.slug)) {\n          onError();\n          _this7.loadDocsCache(db);\n          return;\n        }\n\n        var txn = _this7.idbTransaction(db, {\n          stores: [entry.doc.slug],\n          mode: 'readonly'\n        });\n        var store = txn.objectStore(entry.doc.slug);\n\n        var req = store.get(entry.dbPath());\n        req.onsuccess = function () {\n          if (req.result) {\n            onSuccess(req.result);\n          } else {\n            onError();\n          }\n        };\n        req.onerror = function (event) {\n          event.preventDefault();\n          onError();\n        };\n        _this7.loadDocsCache(db);\n      });\n    }\n  }, {\n    key: 'loadDocsCache',\n    value: function loadDocsCache(db) {\n      var _this8 = this;\n\n      if (this.cachedDocs) {\n        return;\n      }\n      this.cachedDocs = {};\n\n      var txn = this.idbTransaction(db, {\n        stores: ['docs'],\n        mode: 'readonly'\n      });\n      txn.oncomplete = function () {\n        setTimeout(_this8.checkForCorruptedDocs, 50);\n      };\n\n      var req = txn.objectStore('docs').openCursor();\n      req.onsuccess = function (event) {\n        var cursor = void 0;\n        if (!(cursor = event.target.result)) {\n          return;\n        }\n        _this8.cachedDocs[cursor.key] = cursor.value;\n        cursor.continue();\n      };\n      req.onerror = function (event) {\n        event.preventDefault();\n      };\n    }\n  }, {\n    key: 'checkForCorruptedDocs',\n    value: function checkForCorruptedDocs() {\n      var _this9 = this;\n\n      this.db(function (db) {\n        _this9.corruptedDocs = [];\n        var docs = function () {\n          var result = [];\n          for (var key in _this9.cachedDocs) {\n            var value = _this9.cachedDocs[key];\n            if (value) {\n              result.push(key);\n            }\n          }\n          return result;\n        }();\n        if (docs.length === 0) {\n          return;\n        }\n\n        var _iteratorNormalCompletion4 = true;\n        var _didIteratorError4 = false;\n        var _iteratorError4 = undefined;\n\n        try {\n          for (var _iterator4 = docs[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n            var slug = _step4.value;\n\n            if (!app.docs.findBy('slug', slug)) {\n              _this9.corruptedDocs.push(slug);\n            }\n          }\n        } catch (err) {\n          _didIteratorError4 = true;\n          _iteratorError4 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion4 && _iterator4.return) {\n              _iterator4.return();\n            }\n          } finally {\n            if (_didIteratorError4) {\n              throw _iteratorError4;\n            }\n          }\n        }\n\n        var _iteratorNormalCompletion5 = true;\n        var _didIteratorError5 = false;\n        var _iteratorError5 = undefined;\n\n        try {\n          for (var _iterator5 = _this9.corruptedDocs[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n            slug = _step5.value;\n\n            $.arrayDelete(docs, slug);\n          }\n        } catch (err) {\n          _didIteratorError5 = true;\n          _iteratorError5 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion5 && _iterator5.return) {\n              _iterator5.return();\n            }\n          } finally {\n            if (_didIteratorError5) {\n              throw _iteratorError5;\n            }\n          }\n        }\n\n        if (docs.length === 0) {\n          setTimeout(_this9.deleteCorruptedDocs, 0);\n          return;\n        }\n\n        var txn = _this9.idbTransaction(db, {\n          stores: docs,\n          mode: 'readonly',\n          ignoreError: false\n        });\n        txn.oncomplete = function () {\n          if (_this9.corruptedDocs.length > 0) {\n            setTimeout(_this9.deleteCorruptedDocs, 0);\n          }\n        };\n\n        var _iteratorNormalCompletion6 = true;\n        var _didIteratorError6 = false;\n        var _iteratorError6 = undefined;\n\n        try {\n          for (var _iterator6 = docs[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n            var doc = _step6.value;\n\n            txn.objectStore(doc).get('index').onsuccess = function (event) {\n              if (!event.target.result) {\n                _this9.corruptedDocs.push(event.target.source.name);\n              }\n            };\n          }\n        } catch (err) {\n          _didIteratorError6 = true;\n          _iteratorError6 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion6 && _iterator6.return) {\n              _iterator6.return();\n            }\n          } finally {\n            if (_didIteratorError6) {\n              throw _iteratorError6;\n            }\n          }\n        }\n      });\n    }\n  }, {\n    key: 'deleteCorruptedDocs',\n    value: function deleteCorruptedDocs() {\n      var _this10 = this;\n\n      this.db(function (db) {\n        var doc = void 0;\n        var txn = _this10.idbTransaction(db, {\n          stores: ['docs'],\n          mode: 'readwrite',\n          ignoreError: false\n        });\n        var store = txn.objectStore('docs');\n        while (doc = _this10.corruptedDocs.pop()) {\n          _this10.cachedDocs[doc] = false;\n          store.delete(doc);\n        }\n      });\n      Raven.captureMessage('corruptedDocs', {\n        level: 'info',\n        extra: {\n          docs: this.corruptedDocs.join(',')\n        }\n      });\n    }\n  }, {\n    key: 'shouldLoadWithIDB',\n    value: function shouldLoadWithIDB(entry) {\n      return this.useIndexedDB && (!this.cachedDocs || this.cachedDocs[entry.doc.slug]);\n    }\n  }, {\n    key: 'idbTransaction',\n    value: function idbTransaction(db, options) {\n      app.lastIDBTransaction = [options.stores, options.mode];\n      var txn = db.transaction(options.stores, options.mode);\n      if (options.ignoreError !== false) {\n        txn.onerror = function (event) {\n          event.preventDefault();\n        };\n      }\n      if (options.ignoreAbort !== false) {\n        txn.onabort = function (event) {\n          event.preventDefault();\n        };\n      }\n      return txn;\n    }\n  }, {\n    key: 'reset',\n    value: function reset() {\n      try {\n        if (typeof indexedDB !== 'undefined' && indexedDB !== null) {\n          indexedDB.deleteDatabase(DB.NAME);\n        }\n      } catch (error) {}\n    }\n  }, {\n    key: 'useIndexedDB',\n    value: function useIndexedDB() {\n      try {\n        if (!app.isSingleDoc() && window.indexedDB) {\n          return true;\n        } else {\n          this.reason = 'not_supported';\n          return false;\n        }\n      } catch (error) {\n        return false;\n      }\n    }\n  }, {\n    key: 'migrate',\n    value: function migrate() {\n      app.settings.set('schema', this.userVersion() + 1);\n    }\n  }, {\n    key: 'setUserVersion',\n    value: function setUserVersion(version) {\n      app.settings.set('schema', version);\n    }\n  }, {\n    key: 'userVersion',\n    value: function userVersion() {\n      return app.settings.get('schema');\n    }\n  }]);\n\n  return DB;\n}();\n\nDB.NAME = 'docs';\nDB.VERSION = 15;\nexports.default = DB;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvamF2YXNjcmlwdHMvYXBwL2RiLmpzP2Y4YTQiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgREIgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIERCKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEQik7XG5cbiAgICB0aGlzLm9uT3BlblN1Y2Nlc3MgPSB0aGlzLm9uT3BlblN1Y2Nlc3MuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uT3BlbkVycm9yID0gdGhpcy5vbk9wZW5FcnJvci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuY2hlY2tGb3JDb3JydXB0ZWREb2NzID0gdGhpcy5jaGVja0ZvckNvcnJ1cHRlZERvY3MuYmluZCh0aGlzKTtcbiAgICB0aGlzLmRlbGV0ZUNvcnJ1cHRlZERvY3MgPSB0aGlzLmRlbGV0ZUNvcnJ1cHRlZERvY3MuYmluZCh0aGlzKTtcbiAgICB0aGlzLnZlcnNpb25NdWx0aXBsZXIgPSAkLmlzSUUoKSA/IDFlNSA6IDFlOTtcbiAgICB0aGlzLnVzZUluZGV4ZWREQiA9IHRoaXMudXNlSW5kZXhlZERCKCk7XG4gICAgdGhpcy5jYWxsYmFja3MgPSBbXTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhEQiwgW3tcbiAgICBrZXk6ICdkYicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRiKGZuKSB7XG4gICAgICBpZiAoIXRoaXMudXNlSW5kZXhlZERCKSB7XG4gICAgICAgIHJldHVybiBmbigpO1xuICAgICAgfVxuICAgICAgaWYgKGZuKSB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzLnB1c2goZm4pO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMub3Blbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMub3BlbiA9IHRydWU7XG4gICAgICAgIHZhciByZXEgPSBpbmRleGVkREIub3BlbihEQi5OQU1FLCBEQi5WRVJTSU9OICogdGhpcy52ZXJzaW9uTXVsdGlwbGVyICsgdGhpcy51c2VyVmVyc2lvbigpKTtcbiAgICAgICAgcmVxLm9uc3VjY2VzcyA9IHRoaXMub25PcGVuU3VjY2VzcztcbiAgICAgICAgcmVxLm9uZXJyb3IgPSB0aGlzLm9uT3BlbkVycm9yO1xuICAgICAgICByZXEub251cGdyYWRlbmVlZGVkID0gdGhpcy5vblVwZ3JhZGVOZWVkZWQ7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aGlzLmZhaWwoJ2V4Y2VwdGlvbicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbk9wZW5TdWNjZXNzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25PcGVuU3VjY2VzcyhldmVudCkge1xuICAgICAgdmFyIGVycm9yID0gdm9pZCAwO1xuICAgICAgdmFyIGRiID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcblxuICAgICAgaWYgKGRiLm9iamVjdFN0b3JlTmFtZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZGIuY2xvc2UoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IxKSB7fVxuICAgICAgICB0aGlzLm9wZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5mYWlsKCdlbXB0eScpO1xuICAgICAgfSBlbHNlIGlmIChlcnJvciA9IHRoaXMuYnVnZ3lJREIoZGIpKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZGIuY2xvc2UoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IyKSB7fVxuICAgICAgICB0aGlzLm9wZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5mYWlsKCdidWdneScsIGVycm9yKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucnVuQ2FsbGJhY2tzKGRiKTtcbiAgICAgICAgdGhpcy5vcGVuID0gZmFsc2U7XG4gICAgICAgIGRiLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25PcGVuRXJyb3InLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbk9wZW5FcnJvcihldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMub3BlbiA9IGZhbHNlO1xuICAgICAgdmFyIGVycm9yID0gZXZlbnQudGFyZ2V0LmVycm9yO1xuXG5cbiAgICAgIHN3aXRjaCAoZXJyb3IubmFtZSkge1xuICAgICAgICBjYXNlICdRdW90YUV4Y2VlZGVkRXJyb3InOlxuICAgICAgICAgIHRoaXMub25RdW90YUV4Y2VlZGVkRXJyb3IoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnVmVyc2lvbkVycm9yJzpcbiAgICAgICAgICB0aGlzLm9uVmVyc2lvbkVycm9yKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0ludmFsaWRTdGF0ZUVycm9yJzpcbiAgICAgICAgICB0aGlzLmZhaWwoJ3ByaXZhdGVfbW9kZScpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRoaXMuZmFpbCgnY2FudF9vcGVuJywgZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2ZhaWwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmYWlsKHJlYXNvbiwgZXJyb3IpIHtcbiAgICAgIHRoaXMuY2FjaGVkRG9jcyA9IG51bGw7XG4gICAgICB0aGlzLnVzZUluZGV4ZWREQiA9IGZhbHNlO1xuICAgICAgaWYgKCF0aGlzLnJlYXNvbikge1xuICAgICAgICB0aGlzLnJlYXNvbiA9IHJlYXNvbjtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5lcnJvcikge1xuICAgICAgICB0aGlzLmVycm9yID0gZXJyb3I7XG4gICAgICB9XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignSURCIGVycm9yJywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLnJ1bkNhbGxiYWNrcygpO1xuICAgICAgaWYgKGVycm9yICYmIHJlYXNvbiA9PT0gJ2NhbnRfb3BlbicpIHtcbiAgICAgICAgUmF2ZW4uY2FwdHVyZU1lc3NhZ2UoZXJyb3IubmFtZSArICc6ICcgKyBlcnJvci5tZXNzYWdlLCB7XG4gICAgICAgICAgbGV2ZWw6ICd3YXJuaW5nJyxcbiAgICAgICAgICBmaW5nZXJwcmludDogW2Vycm9yLm5hbWVdXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uUXVvdGFFeGNlZWRlZEVycm9yJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25RdW90YUV4Y2VlZGVkRXJyb3IoKSB7XG4gICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICB0aGlzLmRiKCk7XG4gICAgICBhcHAub25RdW90YUV4Y2VlZGVkKCk7XG4gICAgICBSYXZlbi5jYXB0dXJlTWVzc2FnZSgnUXVvdGFFeGNlZWRlZEVycm9yJywge1xuICAgICAgICBsZXZlbDogJ3dhcm5pbmcnXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvblZlcnNpb25FcnJvcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uVmVyc2lvbkVycm9yKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIHJlcSA9IGluZGV4ZWREQi5vcGVuKERCLk5BTUUpO1xuICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuaGFuZGxlVmVyc2lvbk1pc21hdGNoKGV2ZW50LnRhcmdldC5yZXN1bHQudmVyc2lvbik7XG4gICAgICB9O1xuICAgICAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmFpbCgnY2FudF9vcGVuJywgZXJyb3IpO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoYW5kbGVWZXJzaW9uTWlzbWF0Y2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVWZXJzaW9uTWlzbWF0Y2goYWN0dWFsVmVyc2lvbikge1xuICAgICAgaWYgKE1hdGguZmxvb3IoYWN0dWFsVmVyc2lvbiAvIHRoaXMudmVyc2lvbk11bHRpcGxlcikgIT09IERCLlZFUlNJT04pIHtcbiAgICAgICAgdGhpcy5mYWlsKCd2ZXJzaW9uJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldFVzZXJWZXJzaW9uKGFjdHVhbFZlcnNpb24gLSBEQi5WRVJTSU9OICogdGhpcy52ZXJzaW9uTXVsdGlwbGVyKTtcbiAgICAgICAgdGhpcy5kYigpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2J1Z2d5SURCJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYnVnZ3lJREIoZGIpIHtcbiAgICAgIGlmICh0aGlzLmNoZWNrZWRCdWdneUlEQikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmNoZWNrZWRCdWdneUlEQiA9IHRydWU7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLmlkYlRyYW5zYWN0aW9uKGRiLCB7XG4gICAgICAgICAgc3RvcmVzOiAkLm1ha2VBcnJheShkYi5vYmplY3RTdG9yZU5hbWVzKS5zbGljZSgwLCAyKSxcbiAgICAgICAgICBtb2RlOiAncmVhZHdyaXRlJ1xuICAgICAgICB9KS5hYm9ydCgpOyAvLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM2OTM3XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdydW5DYWxsYmFja3MnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBydW5DYWxsYmFja3MoZGIpIHtcbiAgICAgIHZhciBmbiA9IHZvaWQgMDtcbiAgICAgIHdoaWxlIChmbiA9IHRoaXMuY2FsbGJhY2tzLnNoaWZ0KCkpIHtcbiAgICAgICAgZm4oZGIpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uVXBncmFkZU5lZWRlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uVXBncmFkZU5lZWRlZChldmVudCkge1xuICAgICAgdmFyIGRiID0gdm9pZCAwO1xuICAgICAgaWYgKCEoZGIgPSBldmVudC50YXJnZXQucmVzdWx0KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBvYmplY3RTdG9yZU5hbWVzID0gJC5tYWtlQXJyYXkoZGIub2JqZWN0U3RvcmVOYW1lcyk7XG5cbiAgICAgIGlmICghJC5hcnJheURlbGV0ZShvYmplY3RTdG9yZU5hbWVzLCAnZG9jcycpKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoJ2RvY3MnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHt9XG4gICAgICB9XG5cbiAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBhcHAuZG9jcy5hbGwoKVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICB2YXIgZG9jID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICBpZiAoISQuYXJyYXlEZWxldGUob2JqZWN0U3RvcmVOYW1lcywgZG9jLnNsdWcpKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShkb2Muc2x1Zyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcjEpIHt9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcbiAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSBvYmplY3RTdG9yZU5hbWVzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgdmFyIG5hbWUgPSBfc3RlcDIudmFsdWU7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGIuZGVsZXRlT2JqZWN0U3RvcmUobmFtZSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IyKSB7fVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc3RvcmUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdG9yZShkb2MsIGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvciwgX3JldHJ5KSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgaWYgKF9yZXRyeSA9PSBudWxsKSB7XG4gICAgICAgIF9yZXRyeSA9IHRydWU7XG4gICAgICB9XG4gICAgICB0aGlzLmRiKGZ1bmN0aW9uIChkYikge1xuICAgICAgICBpZiAoIWRiKSB7XG4gICAgICAgICAgb25FcnJvcigpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0eG4gPSBfdGhpczIuaWRiVHJhbnNhY3Rpb24oZGIsIHtcbiAgICAgICAgICBzdG9yZXM6IFsnZG9jcycsIGRvYy5zbHVnXSxcbiAgICAgICAgICBtb2RlOiAncmVhZHdyaXRlJyxcbiAgICAgICAgICBpZ25vcmVFcnJvcjogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIHR4bi5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChfdGhpczIuY2FjaGVkRG9jcyAhPSBudWxsKSB7XG4gICAgICAgICAgICBfdGhpczIuY2FjaGVkRG9jc1tkb2Muc2x1Z10gPSBkb2MubXRpbWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9uU3VjY2VzcygpO1xuICAgICAgICB9O1xuICAgICAgICB0eG4ub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgaWYgKCh0eG4uZXJyb3IgIT0gbnVsbCA/IHR4bi5lcnJvci5uYW1lIDogdW5kZWZpbmVkKSA9PT0gJ05vdEZvdW5kRXJyb3InICYmIF9yZXRyeSkge1xuICAgICAgICAgICAgX3RoaXMyLm1pZ3JhdGUoKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnN0b3JlKGRvYywgZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCBmYWxzZSk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb25FcnJvcihldmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBzdG9yZSA9IHR4bi5vYmplY3RTdG9yZShkb2Muc2x1Zyk7XG4gICAgICAgIHN0b3JlLmNsZWFyKCk7XG4gICAgICAgIGZvciAodmFyIHBhdGggaW4gZGF0YSkge1xuICAgICAgICAgIHZhciBjb250ZW50ID0gZGF0YVtwYXRoXTtcbiAgICAgICAgICBzdG9yZS5hZGQoY29udGVudCwgcGF0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdG9yZSA9IHR4bi5vYmplY3RTdG9yZSgnZG9jcycpO1xuICAgICAgICBzdG9yZS5wdXQoZG9jLm10aW1lLCBkb2Muc2x1Zyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICd1bnN0b3JlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdW5zdG9yZShkb2MsIG9uU3VjY2Vzcywgb25FcnJvciwgX3JldHJ5KSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgaWYgKF9yZXRyeSA9PSBudWxsKSB7XG4gICAgICAgIF9yZXRyeSA9IHRydWU7XG4gICAgICB9XG4gICAgICB0aGlzLmRiKGZ1bmN0aW9uIChkYikge1xuICAgICAgICBpZiAoIWRiKSB7XG4gICAgICAgICAgb25FcnJvcigpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0eG4gPSBfdGhpczMuaWRiVHJhbnNhY3Rpb24oZGIsIHtcbiAgICAgICAgICBzdG9yZXM6IFsnZG9jcycsIGRvYy5zbHVnXSxcbiAgICAgICAgICBtb2RlOiAncmVhZHdyaXRlJyxcbiAgICAgICAgICBpZ25vcmVFcnJvcjogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIHR4bi5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChfdGhpczMuY2FjaGVkRG9jcyAhPSBudWxsKSB7XG4gICAgICAgICAgICBkZWxldGUgX3RoaXMzLmNhY2hlZERvY3NbZG9jLnNsdWddO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvblN1Y2Nlc3MoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdHhuLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgaWYgKCh0eG4uZXJyb3IgIT0gbnVsbCA/IHR4bi5lcnJvci5uYW1lIDogdW5kZWZpbmVkKSA9PT0gJ05vdEZvdW5kRXJyb3InICYmIF9yZXRyeSkge1xuICAgICAgICAgICAgdGhpcy5taWdyYXRlKCk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC51bnN0b3JlKGRvYywgb25TdWNjZXNzLCBvbkVycm9yLCBmYWxzZSk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb25FcnJvcihldmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBzdG9yZSA9IHR4bi5vYmplY3RTdG9yZSgnZG9jcycpO1xuICAgICAgICBzdG9yZS5kZWxldGUoZG9jLnNsdWcpO1xuXG4gICAgICAgIHN0b3JlID0gdHhuLm9iamVjdFN0b3JlKGRvYy5zbHVnKTtcbiAgICAgICAgc3RvcmUuY2xlYXIoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3ZlcnNpb24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB2ZXJzaW9uKGRvYywgZm4pIHtcbiAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICB2YXIgdmVyc2lvbiA9IHZvaWQgMDtcbiAgICAgIGlmICgodmVyc2lvbiA9IHRoaXMuY2FjaGVkVmVyc2lvbihkb2MpKSAhPSBudWxsKSB7XG4gICAgICAgIGZuKHZlcnNpb24pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZGIoZnVuY3Rpb24gKGRiKSB7XG4gICAgICAgIGlmICghZGIpIHtcbiAgICAgICAgICBmbihmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHR4biA9IF90aGlzNS5pZGJUcmFuc2FjdGlvbihkYiwge1xuICAgICAgICAgIHN0b3JlczogWydkb2NzJ10sXG4gICAgICAgICAgbW9kZTogJ3JlYWRvbmx5J1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHN0b3JlID0gdHhuLm9iamVjdFN0b3JlKCdkb2NzJyk7XG5cbiAgICAgICAgdmFyIHJlcSA9IHN0b3JlLmdldChkb2Muc2x1Zyk7XG4gICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZm4ocmVxLnJlc3VsdCk7XG4gICAgICAgIH07XG4gICAgICAgIHJlcS5vbmVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBmbihmYWxzZSk7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjYWNoZWRWZXJzaW9uJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2FjaGVkVmVyc2lvbihkb2MpIHtcbiAgICAgIGlmICghdGhpcy5jYWNoZWREb2NzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmNhY2hlZERvY3NbZG9jLnNsdWddIHx8IGZhbHNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3ZlcnNpb25zJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmVyc2lvbnMoZG9jcywgZm4pIHtcbiAgICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gICAgICB2YXIgdmVyc2lvbnMgPSB2b2lkIDA7XG4gICAgICBpZiAodmVyc2lvbnMgPSB0aGlzLmNhY2hlZFZlcnNpb25zKGRvY3MpKSB7XG4gICAgICAgIGZuKHZlcnNpb25zKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5kYihmdW5jdGlvbiAoZGIpIHtcbiAgICAgICAgaWYgKCFkYikge1xuICAgICAgICAgIGZuKGZhbHNlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdHhuID0gX3RoaXM2LmlkYlRyYW5zYWN0aW9uKGRiLCB7XG4gICAgICAgICAgc3RvcmVzOiBbJ2RvY3MnXSxcbiAgICAgICAgICBtb2RlOiAncmVhZG9ubHknXG4gICAgICAgIH0pO1xuICAgICAgICB0eG4ub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBmbihyZXN1bHQpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgc3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoJ2RvY3MnKTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuXG4gICAgICAgIGRvY3MuZm9yRWFjaChmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgICAgdmFyIHJlcSA9IHN0b3JlLmdldChkb2Muc2x1Zyk7XG4gICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJlc3VsdFtkb2Muc2x1Z10gPSByZXEucmVzdWx0O1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICByZXN1bHRbZG9jLnNsdWddID0gZmFsc2U7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjYWNoZWRWZXJzaW9ucycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNhY2hlZFZlcnNpb25zKGRvY3MpIHtcbiAgICAgIGlmICghdGhpcy5jYWNoZWREb2NzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7XG4gICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IzID0gZmFsc2U7XG4gICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IzID0gdW5kZWZpbmVkO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IzID0gZG9jc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMzsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IChfc3RlcDMgPSBfaXRlcmF0b3IzLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZSkge1xuICAgICAgICAgIHZhciBkb2MgPSBfc3RlcDMudmFsdWU7XG5cbiAgICAgICAgICByZXN1bHRbZG9jLnNsdWddID0gdGhpcy5jYWNoZWRWZXJzaW9uKGRvYyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjMgPSB0cnVlO1xuICAgICAgICBfaXRlcmF0b3JFcnJvcjMgPSBlcnI7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgJiYgX2l0ZXJhdG9yMy5yZXR1cm4pIHtcbiAgICAgICAgICAgIF9pdGVyYXRvcjMucmV0dXJuKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjMpIHtcbiAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdsb2FkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gbG9hZChlbnRyeSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgICBpZiAodGhpcy5zaG91bGRMb2FkV2l0aElEQihlbnRyeSkpIHtcbiAgICAgICAgb25FcnJvciA9IHRoaXMubG9hZFdpdGhYSFIuYmluZCh0aGlzLCBlbnRyeSwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZFdpdGhJREIoZW50cnksIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkV2l0aFhIUihlbnRyeSwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdsb2FkV2l0aFhIUicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWRXaXRoWEhSKGVudHJ5LCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICAgIHJldHVybiBhamF4KHtcbiAgICAgICAgdXJsOiBlbnRyeS5maWxlVXJsKCksXG4gICAgICAgIGRhdGFUeXBlOiAnaHRtbCcsXG4gICAgICAgIHN1Y2Nlc3M6IG9uU3VjY2VzcyxcbiAgICAgICAgZXJyb3I6IG9uRXJyb3JcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2xvYWRXaXRoSURCJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gbG9hZFdpdGhJREIoZW50cnksIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgICAgdmFyIF90aGlzNyA9IHRoaXM7XG5cbiAgICAgIHJldHVybiB0aGlzLmRiKGZ1bmN0aW9uIChkYikge1xuICAgICAgICBpZiAoIWRiKSB7XG4gICAgICAgICAgb25FcnJvcigpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZGIub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucyhlbnRyeS5kb2Muc2x1ZykpIHtcbiAgICAgICAgICBvbkVycm9yKCk7XG4gICAgICAgICAgX3RoaXM3LmxvYWREb2NzQ2FjaGUoZGIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0eG4gPSBfdGhpczcuaWRiVHJhbnNhY3Rpb24oZGIsIHtcbiAgICAgICAgICBzdG9yZXM6IFtlbnRyeS5kb2Muc2x1Z10sXG4gICAgICAgICAgbW9kZTogJ3JlYWRvbmx5J1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHN0b3JlID0gdHhuLm9iamVjdFN0b3JlKGVudHJ5LmRvYy5zbHVnKTtcblxuICAgICAgICB2YXIgcmVxID0gc3RvcmUuZ2V0KGVudHJ5LmRiUGF0aCgpKTtcbiAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAocmVxLnJlc3VsdCkge1xuICAgICAgICAgICAgb25TdWNjZXNzKHJlcS5yZXN1bHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvbkVycm9yKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXEub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgb25FcnJvcigpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpczcubG9hZERvY3NDYWNoZShkYik7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdsb2FkRG9jc0NhY2hlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gbG9hZERvY3NDYWNoZShkYikge1xuICAgICAgdmFyIF90aGlzOCA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLmNhY2hlZERvY3MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5jYWNoZWREb2NzID0ge307XG5cbiAgICAgIHZhciB0eG4gPSB0aGlzLmlkYlRyYW5zYWN0aW9uKGRiLCB7XG4gICAgICAgIHN0b3JlczogWydkb2NzJ10sXG4gICAgICAgIG1vZGU6ICdyZWFkb25seSdcbiAgICAgIH0pO1xuICAgICAgdHhuLm9uY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNldFRpbWVvdXQoX3RoaXM4LmNoZWNrRm9yQ29ycnVwdGVkRG9jcywgNTApO1xuICAgICAgfTtcblxuICAgICAgdmFyIHJlcSA9IHR4bi5vYmplY3RTdG9yZSgnZG9jcycpLm9wZW5DdXJzb3IoKTtcbiAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIGN1cnNvciA9IHZvaWQgMDtcbiAgICAgICAgaWYgKCEoY3Vyc29yID0gZXZlbnQudGFyZ2V0LnJlc3VsdCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXM4LmNhY2hlZERvY3NbY3Vyc29yLmtleV0gPSBjdXJzb3IudmFsdWU7XG4gICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgfTtcbiAgICAgIHJlcS5vbmVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NoZWNrRm9yQ29ycnVwdGVkRG9jcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNoZWNrRm9yQ29ycnVwdGVkRG9jcygpIHtcbiAgICAgIHZhciBfdGhpczkgPSB0aGlzO1xuXG4gICAgICB0aGlzLmRiKGZ1bmN0aW9uIChkYikge1xuICAgICAgICBfdGhpczkuY29ycnVwdGVkRG9jcyA9IFtdO1xuICAgICAgICB2YXIgZG9jcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgICAgZm9yICh2YXIga2V5IGluIF90aGlzOS5jYWNoZWREb2NzKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBfdGhpczkuY2FjaGVkRG9jc1trZXldO1xuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0oKTtcbiAgICAgICAgaWYgKGRvY3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gdHJ1ZTtcbiAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yNCA9IGZhbHNlO1xuICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3I0ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yNCA9IGRvY3NbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDQ7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSAoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IHRydWUpIHtcbiAgICAgICAgICAgIHZhciBzbHVnID0gX3N0ZXA0LnZhbHVlO1xuXG4gICAgICAgICAgICBpZiAoIWFwcC5kb2NzLmZpbmRCeSgnc2x1ZycsIHNsdWcpKSB7XG4gICAgICAgICAgICAgIF90aGlzOS5jb3JydXB0ZWREb2NzLnB1c2goc2x1Zyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjQgPSB0cnVlO1xuICAgICAgICAgIF9pdGVyYXRvckVycm9yNCA9IGVycjtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCAmJiBfaXRlcmF0b3I0LnJldHVybikge1xuICAgICAgICAgICAgICBfaXRlcmF0b3I0LnJldHVybigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3I0KSB7XG4gICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yNDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgPSB0cnVlO1xuICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3I1ID0gZmFsc2U7XG4gICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjUgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3I1ID0gX3RoaXM5LmNvcnJ1cHRlZERvY3NbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDU7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgPSAoX3N0ZXA1ID0gX2l0ZXJhdG9yNS5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSA9IHRydWUpIHtcbiAgICAgICAgICAgIHNsdWcgPSBfc3RlcDUudmFsdWU7XG5cbiAgICAgICAgICAgICQuYXJyYXlEZWxldGUoZG9jcywgc2x1Zyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjUgPSB0cnVlO1xuICAgICAgICAgIF9pdGVyYXRvckVycm9yNSA9IGVycjtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSAmJiBfaXRlcmF0b3I1LnJldHVybikge1xuICAgICAgICAgICAgICBfaXRlcmF0b3I1LnJldHVybigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3I1KSB7XG4gICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yNTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZG9jcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KF90aGlzOS5kZWxldGVDb3JydXB0ZWREb2NzLCAwKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdHhuID0gX3RoaXM5LmlkYlRyYW5zYWN0aW9uKGRiLCB7XG4gICAgICAgICAgc3RvcmVzOiBkb2NzLFxuICAgICAgICAgIG1vZGU6ICdyZWFkb25seScsXG4gICAgICAgICAgaWdub3JlRXJyb3I6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICB0eG4ub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoX3RoaXM5LmNvcnJ1cHRlZERvY3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgc2V0VGltZW91dChfdGhpczkuZGVsZXRlQ29ycnVwdGVkRG9jcywgMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiA9IHRydWU7XG4gICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjYgPSBmYWxzZTtcbiAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yNiA9IHVuZGVmaW5lZDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjYgPSBkb2NzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA2OyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb242ID0gKF9zdGVwNiA9IF9pdGVyYXRvcjYubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjYgPSB0cnVlKSB7XG4gICAgICAgICAgICB2YXIgZG9jID0gX3N0ZXA2LnZhbHVlO1xuXG4gICAgICAgICAgICB0eG4ub2JqZWN0U3RvcmUoZG9jKS5nZXQoJ2luZGV4Jykub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgIGlmICghZXZlbnQudGFyZ2V0LnJlc3VsdCkge1xuICAgICAgICAgICAgICAgIF90aGlzOS5jb3JydXB0ZWREb2NzLnB1c2goZXZlbnQudGFyZ2V0LnNvdXJjZS5uYW1lKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yNiA9IHRydWU7XG4gICAgICAgICAgX2l0ZXJhdG9yRXJyb3I2ID0gZXJyO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb242ICYmIF9pdGVyYXRvcjYucmV0dXJuKSB7XG4gICAgICAgICAgICAgIF9pdGVyYXRvcjYucmV0dXJuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjYpIHtcbiAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I2O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGVsZXRlQ29ycnVwdGVkRG9jcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZUNvcnJ1cHRlZERvY3MoKSB7XG4gICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7XG5cbiAgICAgIHRoaXMuZGIoZnVuY3Rpb24gKGRiKSB7XG4gICAgICAgIHZhciBkb2MgPSB2b2lkIDA7XG4gICAgICAgIHZhciB0eG4gPSBfdGhpczEwLmlkYlRyYW5zYWN0aW9uKGRiLCB7XG4gICAgICAgICAgc3RvcmVzOiBbJ2RvY3MnXSxcbiAgICAgICAgICBtb2RlOiAncmVhZHdyaXRlJyxcbiAgICAgICAgICBpZ25vcmVFcnJvcjogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBzdG9yZSA9IHR4bi5vYmplY3RTdG9yZSgnZG9jcycpO1xuICAgICAgICB3aGlsZSAoZG9jID0gX3RoaXMxMC5jb3JydXB0ZWREb2NzLnBvcCgpKSB7XG4gICAgICAgICAgX3RoaXMxMC5jYWNoZWREb2NzW2RvY10gPSBmYWxzZTtcbiAgICAgICAgICBzdG9yZS5kZWxldGUoZG9jKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBSYXZlbi5jYXB0dXJlTWVzc2FnZSgnY29ycnVwdGVkRG9jcycsIHtcbiAgICAgICAgbGV2ZWw6ICdpbmZvJyxcbiAgICAgICAgZXh0cmE6IHtcbiAgICAgICAgICBkb2NzOiB0aGlzLmNvcnJ1cHRlZERvY3Muam9pbignLCcpXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3Nob3VsZExvYWRXaXRoSURCJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdWxkTG9hZFdpdGhJREIoZW50cnkpIHtcbiAgICAgIHJldHVybiB0aGlzLnVzZUluZGV4ZWREQiAmJiAoIXRoaXMuY2FjaGVkRG9jcyB8fCB0aGlzLmNhY2hlZERvY3NbZW50cnkuZG9jLnNsdWddKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdpZGJUcmFuc2FjdGlvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlkYlRyYW5zYWN0aW9uKGRiLCBvcHRpb25zKSB7XG4gICAgICBhcHAubGFzdElEQlRyYW5zYWN0aW9uID0gW29wdGlvbnMuc3RvcmVzLCBvcHRpb25zLm1vZGVdO1xuICAgICAgdmFyIHR4biA9IGRiLnRyYW5zYWN0aW9uKG9wdGlvbnMuc3RvcmVzLCBvcHRpb25zLm1vZGUpO1xuICAgICAgaWYgKG9wdGlvbnMuaWdub3JlRXJyb3IgIT09IGZhbHNlKSB7XG4gICAgICAgIHR4bi5vbmVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLmlnbm9yZUFib3J0ICE9PSBmYWxzZSkge1xuICAgICAgICB0eG4ub25hYm9ydCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gdHhuO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3Jlc2V0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGluZGV4ZWREQiAhPT0gJ3VuZGVmaW5lZCcgJiYgaW5kZXhlZERCICE9PSBudWxsKSB7XG4gICAgICAgICAgaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKERCLk5BTUUpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge31cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICd1c2VJbmRleGVkREInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1c2VJbmRleGVkREIoKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIWFwcC5pc1NpbmdsZURvYygpICYmIHdpbmRvdy5pbmRleGVkREIpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnJlYXNvbiA9ICdub3Rfc3VwcG9ydGVkJztcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdtaWdyYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWlncmF0ZSgpIHtcbiAgICAgIGFwcC5zZXR0aW5ncy5zZXQoJ3NjaGVtYScsIHRoaXMudXNlclZlcnNpb24oKSArIDEpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NldFVzZXJWZXJzaW9uJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VXNlclZlcnNpb24odmVyc2lvbikge1xuICAgICAgYXBwLnNldHRpbmdzLnNldCgnc2NoZW1hJywgdmVyc2lvbik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAndXNlclZlcnNpb24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1c2VyVmVyc2lvbigpIHtcbiAgICAgIHJldHVybiBhcHAuc2V0dGluZ3MuZ2V0KCdzY2hlbWEnKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gREI7XG59KCk7XG5cbkRCLk5BTUUgPSAnZG9jcyc7XG5EQi5WRVJTSU9OID0gMTU7XG5leHBvcnRzLmRlZmF1bHQgPSBEQjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Fzc2V0cy9qYXZhc2NyaXB0cy9hcHAvZGIuanNcbi8vIG1vZHVsZSBpZCA9IDMzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///33\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar error = function error(title, text, links) {\n  if (text == null) {\n    text = '';\n  }\n  if (links == null) {\n    links = '';\n  }\n  if (text) {\n    text = '<p class=\"_error-text\">' + text + '</p>';\n  }\n  if (links) {\n    links = '<p class=\"_error-links\">' + links + '</p>';\n  }\n  return '<div class=\"_error\"><h1 class=\"_error-title\">' + title + '</h1>' + text + links + '</div>';\n};\n\nvar back = '<a href=\"#\" data-behavior=\"back\" class=\"_error-link\">Go back</a>';\n\nvar notFoundPage = exports.notFoundPage = function notFoundPage() {\n  return error(\" Page not found. \", \" It may be missing from the source documentation or this could be a bug. \", back);\n};\n\nvar pageLoadError = exports.pageLoadError = function pageLoadError() {\n  return error(\" The page failed to load. \", ' It may be missing from the server (try reloading the app) or you could be offline.<br>\\nIf you keep seeing this, you\\'re likely behind a proxy or firewall that blocks cross-domain requests. ', ' ' + back + ' &middot; <a href=\"/#' + location.pathname + '\" target=\"_top\" class=\"_error-link\">Reload</a>\\n&middot; <a href=\"#\" class=\"_error-link\" data-retry>Retry</a> ');\n};\n\nvar bootError = exports.bootError = function bootError() {\n  return error(\" The app failed to load. \", ' Check your Internet connection and try <a href=\"#\" data-behavior=\"reload\">reloading</a>.<br>\\nIf you keep seeing this, you\\'re likely behind a proxy or firewall that blocks cross-domain requests. ');\n};\n\nvar offlineError = exports.offlineError = function offlineError(reason, exception) {\n  if (reason === 'cookie_blocked') {\n    return error(\" Cookies must be enabled to use offline mode. \");\n  }\n\n  reason = function () {\n    switch (reason) {\n      case 'not_supported':\n        return ' DevDocs requires IndexedDB to cache documentations for offline access.<br>\\nUnfortunately your browser either doesn\\'t support IndexedDB or doesn\\'t make it available. ';\n      case 'buggy':\n        return ' DevDocs requires IndexedDB to cache documentations for offline access.<br>\\nUnfortunately your browser\\'s implementation of IndexedDB contains bugs that prevent DevDocs from using it. ';\n      case 'private_mode':\n        return ' Your browser appears to be running in private mode.<br>\\nThis prevents DevDocs from caching documentations for offline access.';\n      case 'exception':\n        return ' An error occurred when trying to open the IndexedDB database:<br>\\n<code class=\"_label\">' + exception.name + ': ' + exception.message + '</code> ';\n      case 'cant_open':\n        return ' An error occurred when trying to open the IndexedDB database:<br>\\n<code class=\"_label\">' + exception.name + ': ' + exception.message + '</code><br>\\nThis could be because you\\'re browsing in private mode or have disallowed offline storage on the domain. ';\n      case 'version':\n        return ' The IndexedDB database was modified with a newer version of the app.<br>\\n<a href=\"#\" data-behavior=\"reload\">Reload the page</a> to use offline mode. ';\n      case 'empty':\n        return \" The IndexedDB database appears to be corrupted. Try <a href=\\\"#\\\" data-behavior=\\\"reset\\\">resetting the app</a>. \";\n    }\n  }();\n\n  return error('Offline mode is unavailable.', reason);\n};\n\nvar unsupportedBrowser = exports.unsupportedBrowser = '<div class=\"_fail\">\\n  <h1 class=\"_fail-title\">Your browser is unsupported, sorry.</h1>\\n  <p class=\"_fail-text\">DevDocs is an API documentation browser which supports the following browsers:\\n  <ul class=\"_fail-list\">\\n    <li>Recent versions of Chrome and Firefox\\n    <li>Safari 5.1+\\n    <li>Opera 12.1+\\n    <li>Internet Explorer 10+\\n    <li>iOS 6+\\n    <li>Android 4.1+\\n    <li>Windows Phone 8+\\n  </ul>\\n  <p class=\"_fail-text\">\\n    If you\\'re unable to upgrade, I apologize.\\n    I decided to prioritize speed and new features over support for older browsers.\\n  <p class=\"_fail-text\">\\n    Note: if you\\'re already using one of the browsers above, check your settings and add-ons.\\n    The app uses feature detection, not user agent sniffing.\\n  <p class=\"_fail-text\">\\n    &mdash; Thibaut <a href=\"https://twitter.com/DevDocs\" class=\"_fail-link\">@DevDocs</a>\\n</div>';//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvamF2YXNjcmlwdHMvdGVtcGxhdGVzL2Vycm9yX3RtcGwuanM/ZmRiNiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgZXJyb3IgPSBmdW5jdGlvbiBlcnJvcih0aXRsZSwgdGV4dCwgbGlua3MpIHtcbiAgaWYgKHRleHQgPT0gbnVsbCkge1xuICAgIHRleHQgPSAnJztcbiAgfVxuICBpZiAobGlua3MgPT0gbnVsbCkge1xuICAgIGxpbmtzID0gJyc7XG4gIH1cbiAgaWYgKHRleHQpIHtcbiAgICB0ZXh0ID0gJzxwIGNsYXNzPVwiX2Vycm9yLXRleHRcIj4nICsgdGV4dCArICc8L3A+JztcbiAgfVxuICBpZiAobGlua3MpIHtcbiAgICBsaW5rcyA9ICc8cCBjbGFzcz1cIl9lcnJvci1saW5rc1wiPicgKyBsaW5rcyArICc8L3A+JztcbiAgfVxuICByZXR1cm4gJzxkaXYgY2xhc3M9XCJfZXJyb3JcIj48aDEgY2xhc3M9XCJfZXJyb3ItdGl0bGVcIj4nICsgdGl0bGUgKyAnPC9oMT4nICsgdGV4dCArIGxpbmtzICsgJzwvZGl2Pic7XG59O1xuXG52YXIgYmFjayA9ICc8YSBocmVmPVwiI1wiIGRhdGEtYmVoYXZpb3I9XCJiYWNrXCIgY2xhc3M9XCJfZXJyb3ItbGlua1wiPkdvIGJhY2s8L2E+JztcblxudmFyIG5vdEZvdW5kUGFnZSA9IGV4cG9ydHMubm90Rm91bmRQYWdlID0gZnVuY3Rpb24gbm90Rm91bmRQYWdlKCkge1xuICByZXR1cm4gZXJyb3IoXCIgUGFnZSBub3QgZm91bmQuIFwiLCBcIiBJdCBtYXkgYmUgbWlzc2luZyBmcm9tIHRoZSBzb3VyY2UgZG9jdW1lbnRhdGlvbiBvciB0aGlzIGNvdWxkIGJlIGEgYnVnLiBcIiwgYmFjayk7XG59O1xuXG52YXIgcGFnZUxvYWRFcnJvciA9IGV4cG9ydHMucGFnZUxvYWRFcnJvciA9IGZ1bmN0aW9uIHBhZ2VMb2FkRXJyb3IoKSB7XG4gIHJldHVybiBlcnJvcihcIiBUaGUgcGFnZSBmYWlsZWQgdG8gbG9hZC4gXCIsICcgSXQgbWF5IGJlIG1pc3NpbmcgZnJvbSB0aGUgc2VydmVyICh0cnkgcmVsb2FkaW5nIHRoZSBhcHApIG9yIHlvdSBjb3VsZCBiZSBvZmZsaW5lLjxicj5cXG5JZiB5b3Uga2VlcCBzZWVpbmcgdGhpcywgeW91XFwncmUgbGlrZWx5IGJlaGluZCBhIHByb3h5IG9yIGZpcmV3YWxsIHRoYXQgYmxvY2tzIGNyb3NzLWRvbWFpbiByZXF1ZXN0cy4gJywgJyAnICsgYmFjayArICcgJm1pZGRvdDsgPGEgaHJlZj1cIi8jJyArIGxvY2F0aW9uLnBhdGhuYW1lICsgJ1wiIHRhcmdldD1cIl90b3BcIiBjbGFzcz1cIl9lcnJvci1saW5rXCI+UmVsb2FkPC9hPlxcbiZtaWRkb3Q7IDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJfZXJyb3ItbGlua1wiIGRhdGEtcmV0cnk+UmV0cnk8L2E+ICcpO1xufTtcblxudmFyIGJvb3RFcnJvciA9IGV4cG9ydHMuYm9vdEVycm9yID0gZnVuY3Rpb24gYm9vdEVycm9yKCkge1xuICByZXR1cm4gZXJyb3IoXCIgVGhlIGFwcCBmYWlsZWQgdG8gbG9hZC4gXCIsICcgQ2hlY2sgeW91ciBJbnRlcm5ldCBjb25uZWN0aW9uIGFuZCB0cnkgPGEgaHJlZj1cIiNcIiBkYXRhLWJlaGF2aW9yPVwicmVsb2FkXCI+cmVsb2FkaW5nPC9hPi48YnI+XFxuSWYgeW91IGtlZXAgc2VlaW5nIHRoaXMsIHlvdVxcJ3JlIGxpa2VseSBiZWhpbmQgYSBwcm94eSBvciBmaXJld2FsbCB0aGF0IGJsb2NrcyBjcm9zcy1kb21haW4gcmVxdWVzdHMuICcpO1xufTtcblxudmFyIG9mZmxpbmVFcnJvciA9IGV4cG9ydHMub2ZmbGluZUVycm9yID0gZnVuY3Rpb24gb2ZmbGluZUVycm9yKHJlYXNvbiwgZXhjZXB0aW9uKSB7XG4gIGlmIChyZWFzb24gPT09ICdjb29raWVfYmxvY2tlZCcpIHtcbiAgICByZXR1cm4gZXJyb3IoXCIgQ29va2llcyBtdXN0IGJlIGVuYWJsZWQgdG8gdXNlIG9mZmxpbmUgbW9kZS4gXCIpO1xuICB9XG5cbiAgcmVhc29uID0gZnVuY3Rpb24gKCkge1xuICAgIHN3aXRjaCAocmVhc29uKSB7XG4gICAgICBjYXNlICdub3Rfc3VwcG9ydGVkJzpcbiAgICAgICAgcmV0dXJuICcgRGV2RG9jcyByZXF1aXJlcyBJbmRleGVkREIgdG8gY2FjaGUgZG9jdW1lbnRhdGlvbnMgZm9yIG9mZmxpbmUgYWNjZXNzLjxicj5cXG5VbmZvcnR1bmF0ZWx5IHlvdXIgYnJvd3NlciBlaXRoZXIgZG9lc25cXCd0IHN1cHBvcnQgSW5kZXhlZERCIG9yIGRvZXNuXFwndCBtYWtlIGl0IGF2YWlsYWJsZS4gJztcbiAgICAgIGNhc2UgJ2J1Z2d5JzpcbiAgICAgICAgcmV0dXJuICcgRGV2RG9jcyByZXF1aXJlcyBJbmRleGVkREIgdG8gY2FjaGUgZG9jdW1lbnRhdGlvbnMgZm9yIG9mZmxpbmUgYWNjZXNzLjxicj5cXG5VbmZvcnR1bmF0ZWx5IHlvdXIgYnJvd3NlclxcJ3MgaW1wbGVtZW50YXRpb24gb2YgSW5kZXhlZERCIGNvbnRhaW5zIGJ1Z3MgdGhhdCBwcmV2ZW50IERldkRvY3MgZnJvbSB1c2luZyBpdC4gJztcbiAgICAgIGNhc2UgJ3ByaXZhdGVfbW9kZSc6XG4gICAgICAgIHJldHVybiAnIFlvdXIgYnJvd3NlciBhcHBlYXJzIHRvIGJlIHJ1bm5pbmcgaW4gcHJpdmF0ZSBtb2RlLjxicj5cXG5UaGlzIHByZXZlbnRzIERldkRvY3MgZnJvbSBjYWNoaW5nIGRvY3VtZW50YXRpb25zIGZvciBvZmZsaW5lIGFjY2Vzcy4nO1xuICAgICAgY2FzZSAnZXhjZXB0aW9uJzpcbiAgICAgICAgcmV0dXJuICcgQW4gZXJyb3Igb2NjdXJyZWQgd2hlbiB0cnlpbmcgdG8gb3BlbiB0aGUgSW5kZXhlZERCIGRhdGFiYXNlOjxicj5cXG48Y29kZSBjbGFzcz1cIl9sYWJlbFwiPicgKyBleGNlcHRpb24ubmFtZSArICc6ICcgKyBleGNlcHRpb24ubWVzc2FnZSArICc8L2NvZGU+ICc7XG4gICAgICBjYXNlICdjYW50X29wZW4nOlxuICAgICAgICByZXR1cm4gJyBBbiBlcnJvciBvY2N1cnJlZCB3aGVuIHRyeWluZyB0byBvcGVuIHRoZSBJbmRleGVkREIgZGF0YWJhc2U6PGJyPlxcbjxjb2RlIGNsYXNzPVwiX2xhYmVsXCI+JyArIGV4Y2VwdGlvbi5uYW1lICsgJzogJyArIGV4Y2VwdGlvbi5tZXNzYWdlICsgJzwvY29kZT48YnI+XFxuVGhpcyBjb3VsZCBiZSBiZWNhdXNlIHlvdVxcJ3JlIGJyb3dzaW5nIGluIHByaXZhdGUgbW9kZSBvciBoYXZlIGRpc2FsbG93ZWQgb2ZmbGluZSBzdG9yYWdlIG9uIHRoZSBkb21haW4uICc7XG4gICAgICBjYXNlICd2ZXJzaW9uJzpcbiAgICAgICAgcmV0dXJuICcgVGhlIEluZGV4ZWREQiBkYXRhYmFzZSB3YXMgbW9kaWZpZWQgd2l0aCBhIG5ld2VyIHZlcnNpb24gb2YgdGhlIGFwcC48YnI+XFxuPGEgaHJlZj1cIiNcIiBkYXRhLWJlaGF2aW9yPVwicmVsb2FkXCI+UmVsb2FkIHRoZSBwYWdlPC9hPiB0byB1c2Ugb2ZmbGluZSBtb2RlLiAnO1xuICAgICAgY2FzZSAnZW1wdHknOlxuICAgICAgICByZXR1cm4gXCIgVGhlIEluZGV4ZWREQiBkYXRhYmFzZSBhcHBlYXJzIHRvIGJlIGNvcnJ1cHRlZC4gVHJ5IDxhIGhyZWY9XFxcIiNcXFwiIGRhdGEtYmVoYXZpb3I9XFxcInJlc2V0XFxcIj5yZXNldHRpbmcgdGhlIGFwcDwvYT4uIFwiO1xuICAgIH1cbiAgfSgpO1xuXG4gIHJldHVybiBlcnJvcignT2ZmbGluZSBtb2RlIGlzIHVuYXZhaWxhYmxlLicsIHJlYXNvbik7XG59O1xuXG52YXIgdW5zdXBwb3J0ZWRCcm93c2VyID0gZXhwb3J0cy51bnN1cHBvcnRlZEJyb3dzZXIgPSAnPGRpdiBjbGFzcz1cIl9mYWlsXCI+XFxuICA8aDEgY2xhc3M9XCJfZmFpbC10aXRsZVwiPllvdXIgYnJvd3NlciBpcyB1bnN1cHBvcnRlZCwgc29ycnkuPC9oMT5cXG4gIDxwIGNsYXNzPVwiX2ZhaWwtdGV4dFwiPkRldkRvY3MgaXMgYW4gQVBJIGRvY3VtZW50YXRpb24gYnJvd3NlciB3aGljaCBzdXBwb3J0cyB0aGUgZm9sbG93aW5nIGJyb3dzZXJzOlxcbiAgPHVsIGNsYXNzPVwiX2ZhaWwtbGlzdFwiPlxcbiAgICA8bGk+UmVjZW50IHZlcnNpb25zIG9mIENocm9tZSBhbmQgRmlyZWZveFxcbiAgICA8bGk+U2FmYXJpIDUuMStcXG4gICAgPGxpPk9wZXJhIDEyLjErXFxuICAgIDxsaT5JbnRlcm5ldCBFeHBsb3JlciAxMCtcXG4gICAgPGxpPmlPUyA2K1xcbiAgICA8bGk+QW5kcm9pZCA0LjErXFxuICAgIDxsaT5XaW5kb3dzIFBob25lIDgrXFxuICA8L3VsPlxcbiAgPHAgY2xhc3M9XCJfZmFpbC10ZXh0XCI+XFxuICAgIElmIHlvdVxcJ3JlIHVuYWJsZSB0byB1cGdyYWRlLCBJIGFwb2xvZ2l6ZS5cXG4gICAgSSBkZWNpZGVkIHRvIHByaW9yaXRpemUgc3BlZWQgYW5kIG5ldyBmZWF0dXJlcyBvdmVyIHN1cHBvcnQgZm9yIG9sZGVyIGJyb3dzZXJzLlxcbiAgPHAgY2xhc3M9XCJfZmFpbC10ZXh0XCI+XFxuICAgIE5vdGU6IGlmIHlvdVxcJ3JlIGFscmVhZHkgdXNpbmcgb25lIG9mIHRoZSBicm93c2VycyBhYm92ZSwgY2hlY2sgeW91ciBzZXR0aW5ncyBhbmQgYWRkLW9ucy5cXG4gICAgVGhlIGFwcCB1c2VzIGZlYXR1cmUgZGV0ZWN0aW9uLCBub3QgdXNlciBhZ2VudCBzbmlmZmluZy5cXG4gIDxwIGNsYXNzPVwiX2ZhaWwtdGV4dFwiPlxcbiAgICAmbWRhc2g7IFRoaWJhdXQgPGEgaHJlZj1cImh0dHBzOi8vdHdpdHRlci5jb20vRGV2RG9jc1wiIGNsYXNzPVwiX2ZhaWwtbGlua1wiPkBEZXZEb2NzPC9hPlxcbjwvZGl2Pic7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hc3NldHMvamF2YXNjcmlwdHMvdGVtcGxhdGVzL2Vycm9yX3RtcGwuanNcbi8vIG1vZHVsZSBpZCA9IDM0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///34\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _view = __webpack_require__(0);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Notice = function (_View) {\n  _inherits(Notice, _View);\n\n  function Notice(type) {\n    for (var _len = arguments.length, rest = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      rest[_key - 1] = arguments[_key];\n    }\n\n    _classCallCheck(this, Notice);\n\n    var _this = _possibleConstructorReturn(this, (Notice.__proto__ || Object.getPrototypeOf(Notice)).apply(this, arguments));\n\n    _this.type = type;\n    _this.args = rest.slice(0);\n\n\n    _this.activate();\n    return _this;\n  }\n\n  _createClass(Notice, [{\n    key: 'activate',\n    value: function activate() {\n      if (_get(Notice.prototype.__proto__ || Object.getPrototypeOf(Notice.prototype), 'activate', this).apply(this, arguments)) {\n        this.show();\n      }\n    }\n  }, {\n    key: 'deactivate',\n    value: function deactivate() {\n      if (_get(Notice.prototype.__proto__ || Object.getPrototypeOf(Notice.prototype), 'deactivate', this).apply(this, arguments)) {\n        this.hide();\n      }\n    }\n  }, {\n    key: 'show',\n    value: function show() {\n      this.html(this.tmpl.apply(this, [this.type + 'Notice'].concat(_toConsumableArray(this.args))));\n      this.prependTo(app.el);\n    }\n  }, {\n    key: 'hide',\n    value: function hide() {\n      $.remove(this.el);\n    }\n  }]);\n\n  return Notice;\n}(_view2.default);\n\nNotice.className = '_notice';\nNotice.attributes = {\n  role: 'alert'\n};\nexports.default = Notice;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvamF2YXNjcmlwdHMvdmlld3MvbWlzYy9ub3RpY2UuanM/ODVhNCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KG9iamVjdCwgcHJvcGVydHksIHJlY2VpdmVyKSB7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyByZXR1cm4gZ2V0KHBhcmVudCwgcHJvcGVydHksIHJlY2VpdmVyKTsgfSB9IGVsc2UgaWYgKFwidmFsdWVcIiBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfTtcblxudmFyIF92aWV3ID0gcmVxdWlyZSgnLi4vdmlldycpO1xuXG52YXIgX3ZpZXcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdmlldyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBOb3RpY2UgPSBmdW5jdGlvbiAoX1ZpZXcpIHtcbiAgX2luaGVyaXRzKE5vdGljZSwgX1ZpZXcpO1xuXG4gIGZ1bmN0aW9uIE5vdGljZSh0eXBlKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHJlc3QgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICByZXN0W19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTm90aWNlKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChOb3RpY2UuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihOb3RpY2UpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblxuICAgIF90aGlzLnR5cGUgPSB0eXBlO1xuICAgIF90aGlzLmFyZ3MgPSByZXN0LnNsaWNlKDApO1xuXG5cbiAgICBfdGhpcy5hY3RpdmF0ZSgpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhOb3RpY2UsIFt7XG4gICAga2V5OiAnYWN0aXZhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgIGlmIChfZ2V0KE5vdGljZS5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihOb3RpY2UucHJvdG90eXBlKSwgJ2FjdGl2YXRlJywgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKSkge1xuICAgICAgICB0aGlzLnNob3coKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkZWFjdGl2YXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVhY3RpdmF0ZSgpIHtcbiAgICAgIGlmIChfZ2V0KE5vdGljZS5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihOb3RpY2UucHJvdG90eXBlKSwgJ2RlYWN0aXZhdGUnLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSB7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3Nob3cnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93KCkge1xuICAgICAgdGhpcy5odG1sKHRoaXMudG1wbC5hcHBseSh0aGlzLCBbdGhpcy50eXBlICsgJ05vdGljZSddLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5hcmdzKSkpKTtcbiAgICAgIHRoaXMucHJlcGVuZFRvKGFwcC5lbCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGlkZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICAkLnJlbW92ZSh0aGlzLmVsKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTm90aWNlO1xufShfdmlldzIuZGVmYXVsdCk7XG5cbk5vdGljZS5jbGFzc05hbWUgPSAnX25vdGljZSc7XG5Ob3RpY2UuYXR0cmlidXRlcyA9IHtcbiAgcm9sZTogJ2FsZXJ0J1xufTtcbmV4cG9ydHMuZGVmYXVsdCA9IE5vdGljZTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Fzc2V0cy9qYXZhc2NyaXB0cy92aWV3cy9taXNjL25vdGljZS5qc1xuLy8gbW9kdWxlIGlkID0gMzVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///35\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _notif = __webpack_require__(1);\n\nvar _notif2 = _interopRequireDefault(_notif);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar News = function (_Notif) {\n  _inherits(News, _Notif);\n\n  function News() {\n    var _ref;\n\n    _classCallCheck(this, News);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var _this = _possibleConstructorReturn(this, (_ref = News.__proto__ || Object.getPrototypeOf(News)).call.apply(_ref, [this].concat(args)));\n\n    _this.unreadNews = _this.getUnreadNews();\n\n    if (_this.unreadNews.length) {\n      _this.show();\n    }\n\n    _this.markAllAsRead();\n    return _this;\n  }\n\n  _createClass(News, [{\n    key: 'render',\n    value: function render() {\n      this.html(app.templates.notifNews(this.unreadNews));\n    }\n  }, {\n    key: 'getUnreadNews',\n    value: function getUnreadNews() {\n      var time = void 0;\n      if (!(time = this.getLastReadTime())) {\n        return [];\n      }\n\n      return function () {\n        var result = [];\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = Array.from(app.news)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var news = _step.value;\n\n            if (new Date(news[0]).getTime() <= time) {\n              break;\n            }\n            result.push(news);\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        return result;\n      }();\n    }\n  }, {\n    key: 'getLastNewsTime',\n    value: function getLastNewsTime() {\n      return new Date(app.news[0][0]).getTime();\n    }\n  }, {\n    key: 'getLastReadTime',\n    value: function getLastReadTime() {\n      return app.settings.get('news');\n    }\n  }, {\n    key: 'markAllAsRead',\n    value: function markAllAsRead() {\n      app.settings.set('news', this.getLastNewsTime());\n    }\n  }]);\n\n  return News;\n}(_notif2.default);\n\nNews.className = News.className + ' _notif-news';\nNews.defautOptions = {\n  autoHide: 30000\n};\nexports.default = News;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvamF2YXNjcmlwdHMvdmlld3MvbWlzYy9uZXdzLmpzP2M1OWMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX25vdGlmID0gcmVxdWlyZSgnLi4vbWlzYy9ub3RpZicpO1xuXG52YXIgX25vdGlmMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX25vdGlmKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgTmV3cyA9IGZ1bmN0aW9uIChfTm90aWYpIHtcbiAgX2luaGVyaXRzKE5ld3MsIF9Ob3RpZik7XG5cbiAgZnVuY3Rpb24gTmV3cygpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOZXdzKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfcmVmID0gTmV3cy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKE5ld3MpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKTtcblxuICAgIF90aGlzLnVucmVhZE5ld3MgPSBfdGhpcy5nZXRVbnJlYWROZXdzKCk7XG5cbiAgICBpZiAoX3RoaXMudW5yZWFkTmV3cy5sZW5ndGgpIHtcbiAgICAgIF90aGlzLnNob3coKTtcbiAgICB9XG5cbiAgICBfdGhpcy5tYXJrQWxsQXNSZWFkKCk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE5ld3MsIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdGhpcy5odG1sKGFwcC50ZW1wbGF0ZXMubm90aWZOZXdzKHRoaXMudW5yZWFkTmV3cykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFVucmVhZE5ld3MnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRVbnJlYWROZXdzKCkge1xuICAgICAgdmFyIHRpbWUgPSB2b2lkIDA7XG4gICAgICBpZiAoISh0aW1lID0gdGhpcy5nZXRMYXN0UmVhZFRpbWUoKSkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IEFycmF5LmZyb20oYXBwLm5ld3MpW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgdmFyIG5ld3MgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgaWYgKG5ldyBEYXRlKG5ld3NbMF0pLmdldFRpbWUoKSA8PSB0aW1lKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3cyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0TGFzdE5ld3NUaW1lJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TGFzdE5ld3NUaW1lKCkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKGFwcC5uZXdzWzBdWzBdKS5nZXRUaW1lKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0TGFzdFJlYWRUaW1lJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TGFzdFJlYWRUaW1lKCkge1xuICAgICAgcmV0dXJuIGFwcC5zZXR0aW5ncy5nZXQoJ25ld3MnKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdtYXJrQWxsQXNSZWFkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFya0FsbEFzUmVhZCgpIHtcbiAgICAgIGFwcC5zZXR0aW5ncy5zZXQoJ25ld3MnLCB0aGlzLmdldExhc3ROZXdzVGltZSgpKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTmV3cztcbn0oX25vdGlmMi5kZWZhdWx0KTtcblxuTmV3cy5jbGFzc05hbWUgPSBOZXdzLmNsYXNzTmFtZSArICcgX25vdGlmLW5ld3MnO1xuTmV3cy5kZWZhdXRPcHRpb25zID0ge1xuICBhdXRvSGlkZTogMzAwMDBcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBOZXdzO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXNzZXRzL2phdmFzY3JpcHRzL3ZpZXdzL21pc2MvbmV3cy5qc1xuLy8gbW9kdWxlIGlkID0gMzZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///36\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _notif = __webpack_require__(1);\n\nvar _notif2 = _interopRequireDefault(_notif);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Updates = function (_Notif) {\n  _inherits(Updates, _Notif);\n\n  function Updates() {\n    var _ref;\n\n    _classCallCheck(this, Updates);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var _this = _possibleConstructorReturn(this, (_ref = Updates.__proto__ || Object.getPrototypeOf(Updates)).call.apply(_ref, [this].concat(args)));\n\n    _this.lastUpdateTime = _this.getLastUpdateTime();\n    _this.updatedDocs = _this.getUpdatedDocs();\n    _this.updatedDisabledDocs = _this.getUpdatedDisabledDocs();\n    if (_this.updatedDocs.length > 0 || _this.updatedDisabledDocs.length > 0) {\n      _this.show();\n    }\n    _this.markAllAsRead();\n    return _this;\n  }\n\n  _createClass(Updates, [{\n    key: 'render',\n    value: function render() {\n      this.html(app.templates.notifUpdates(this.updatedDocs, this.updatedDisabledDocs));\n    }\n  }, {\n    key: 'getUpdatedDocs',\n    value: function getUpdatedDocs() {\n      var _this2 = this;\n\n      if (!this.lastUpdateTime) {\n        return [];\n      }\n      return app.docs.all().filter(function (doc) {\n        return doc.mtime > _this2.lastUpdateTime;\n      });\n    }\n  }, {\n    key: 'getUpdatedDisabledDocs',\n    value: function getUpdatedDisabledDocs() {\n      var _this3 = this;\n\n      if (!this.lastUpdateTime) {\n        return [];\n      }\n      return function () {\n        var result = [];\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = app.disabledDocs.all()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var doc = _step.value;\n\n            if (doc.mtime > _this3.lastUpdateTime && app.docs.findBy('slug_without_version', doc.slug_without_version)) {\n              result.push(doc);\n            }\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        return result;\n      }();\n    }\n  }, {\n    key: 'getLastUpdateTime',\n    value: function getLastUpdateTime() {\n      return app.settings.get('version');\n    }\n  }, {\n    key: 'markAllAsRead',\n    value: function markAllAsRead() {\n      app.settings.set('version', App.config.env === 'production' ? App.config.version : Math.floor(Date.now() / 1000));\n    }\n  }]);\n\n  return Updates;\n}(_notif2.default);\n\nUpdates.className = Updates.className + ' _notif-news';\nUpdates.defautOptions = {\n  autoHide: 30000\n};\nexports.default = Updates;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvamF2YXNjcmlwdHMvdmlld3MvbWlzYy91cGRhdGVzLmpzP2U1ZjciXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX25vdGlmID0gcmVxdWlyZSgnLi4vbWlzYy9ub3RpZicpO1xuXG52YXIgX25vdGlmMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX25vdGlmKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgVXBkYXRlcyA9IGZ1bmN0aW9uIChfTm90aWYpIHtcbiAgX2luaGVyaXRzKFVwZGF0ZXMsIF9Ob3RpZik7XG5cbiAgZnVuY3Rpb24gVXBkYXRlcygpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBVcGRhdGVzKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfcmVmID0gVXBkYXRlcy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFVwZGF0ZXMpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKTtcblxuICAgIF90aGlzLmxhc3RVcGRhdGVUaW1lID0gX3RoaXMuZ2V0TGFzdFVwZGF0ZVRpbWUoKTtcbiAgICBfdGhpcy51cGRhdGVkRG9jcyA9IF90aGlzLmdldFVwZGF0ZWREb2NzKCk7XG4gICAgX3RoaXMudXBkYXRlZERpc2FibGVkRG9jcyA9IF90aGlzLmdldFVwZGF0ZWREaXNhYmxlZERvY3MoKTtcbiAgICBpZiAoX3RoaXMudXBkYXRlZERvY3MubGVuZ3RoID4gMCB8fCBfdGhpcy51cGRhdGVkRGlzYWJsZWREb2NzLmxlbmd0aCA+IDApIHtcbiAgICAgIF90aGlzLnNob3coKTtcbiAgICB9XG4gICAgX3RoaXMubWFya0FsbEFzUmVhZCgpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhVcGRhdGVzLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHRoaXMuaHRtbChhcHAudGVtcGxhdGVzLm5vdGlmVXBkYXRlcyh0aGlzLnVwZGF0ZWREb2NzLCB0aGlzLnVwZGF0ZWREaXNhYmxlZERvY3MpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRVcGRhdGVkRG9jcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFVwZGF0ZWREb2NzKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIGlmICghdGhpcy5sYXN0VXBkYXRlVGltZSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICByZXR1cm4gYXBwLmRvY3MuYWxsKCkuZmlsdGVyKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgcmV0dXJuIGRvYy5tdGltZSA+IF90aGlzMi5sYXN0VXBkYXRlVGltZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFVwZGF0ZWREaXNhYmxlZERvY3MnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRVcGRhdGVkRGlzYWJsZWREb2NzKCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIGlmICghdGhpcy5sYXN0VXBkYXRlVGltZSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGFwcC5kaXNhYmxlZERvY3MuYWxsKClbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICB2YXIgZG9jID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgIGlmIChkb2MubXRpbWUgPiBfdGhpczMubGFzdFVwZGF0ZVRpbWUgJiYgYXBwLmRvY3MuZmluZEJ5KCdzbHVnX3dpdGhvdXRfdmVyc2lvbicsIGRvYy5zbHVnX3dpdGhvdXRfdmVyc2lvbikpIHtcbiAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZG9jKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0oKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRMYXN0VXBkYXRlVGltZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldExhc3RVcGRhdGVUaW1lKCkge1xuICAgICAgcmV0dXJuIGFwcC5zZXR0aW5ncy5nZXQoJ3ZlcnNpb24nKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdtYXJrQWxsQXNSZWFkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFya0FsbEFzUmVhZCgpIHtcbiAgICAgIGFwcC5zZXR0aW5ncy5zZXQoJ3ZlcnNpb24nLCBhcHAuY29uZmlnLmVudiA9PT0gJ3Byb2R1Y3Rpb24nID8gYXBwLmNvbmZpZy52ZXJzaW9uIDogTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBVcGRhdGVzO1xufShfbm90aWYyLmRlZmF1bHQpO1xuXG5VcGRhdGVzLmNsYXNzTmFtZSA9IFVwZGF0ZXMuY2xhc3NOYW1lICsgJyBfbm90aWYtbmV3cyc7XG5VcGRhdGVzLmRlZmF1dE9wdGlvbnMgPSB7XG4gIGF1dG9IaWRlOiAzMDAwMFxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IFVwZGF0ZXM7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hc3NldHMvamF2YXNjcmlwdHMvdmlld3MvbWlzYy91cGRhdGVzLmpzXG4vLyBtb2R1bGUgaWQgPSAzN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///37\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _notif = __webpack_require__(1);\n\nvar _notif2 = _interopRequireDefault(_notif);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar UpdateChecker = function () {\n  function UpdateChecker() {\n    _classCallCheck(this, UpdateChecker);\n\n    this.checkDocs = this.checkDocs.bind(this);\n    this.onFocus = this.onFocus.bind(this);\n    this.lastCheck = Date.now();\n\n    $.on(window, 'focus', this.onFocus);\n    if (app.appCache) {\n      app.appCache.on('updateready', this.onUpdateReady);\n    }\n\n    setTimeout(this.checkDocs, 0);\n  }\n\n  _createClass(UpdateChecker, [{\n    key: 'check',\n    value: function check() {\n      var _this = this;\n\n      if (app.appCache) {\n        app.appCache.update();\n      } else {\n        ajax({\n          url: $('script[src*=\"application\"]').getAttribute('src'),\n          dataType: 'application/javascript',\n          error: function error(_, xhr) {\n            if (xhr.status === 404) {\n              return _this.onUpdateReady();\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: 'onUpdateReady',\n    value: function onUpdateReady() {\n      var notif = new _notif2.default('UpdateReady', {\n        autoHide: null\n      });\n      notif.show();\n    }\n  }, {\n    key: 'checkDocs',\n    value: function checkDocs() {\n      var _this2 = this;\n\n      if (!app.settings.get('manualUpdate')) {\n        app.docs.updateInBackground();\n      } else {\n        app.docs.checkForUpdates(function (i) {\n          if (i > 0) {\n            return _this2.onDocsUpdateReady();\n          }\n        });\n      }\n    }\n  }, {\n    key: 'onDocsUpdateReady',\n    value: function onDocsUpdateReady() {\n      var notif = new _notif2.default('UpdateDocs', {\n        autoHide: null\n      });\n      notif.show();\n    }\n  }, {\n    key: 'onFocus',\n    value: function onFocus() {\n      if (Date.now() - this.lastCheck > 21600e3) {\n        this.lastCheck = Date.now();\n        this.check();\n      }\n    }\n  }]);\n\n  return UpdateChecker;\n}();\n\nexports.default = UpdateChecker;\n;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvamF2YXNjcmlwdHMvYXBwL3VwZGF0ZV9jaGVja2VyLmpzPzE4YzkiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX25vdGlmID0gcmVxdWlyZSgnLi4vdmlld3MvbWlzYy9ub3RpZicpO1xuXG52YXIgX25vdGlmMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX25vdGlmKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFVwZGF0ZUNoZWNrZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFVwZGF0ZUNoZWNrZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFVwZGF0ZUNoZWNrZXIpO1xuXG4gICAgdGhpcy5jaGVja0RvY3MgPSB0aGlzLmNoZWNrRG9jcy5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25Gb2N1cyA9IHRoaXMub25Gb2N1cy5iaW5kKHRoaXMpO1xuICAgIHRoaXMubGFzdENoZWNrID0gRGF0ZS5ub3coKTtcblxuICAgICQub24od2luZG93LCAnZm9jdXMnLCB0aGlzLm9uRm9jdXMpO1xuICAgIGlmIChhcHAuYXBwQ2FjaGUpIHtcbiAgICAgIGFwcC5hcHBDYWNoZS5vbigndXBkYXRlcmVhZHknLCB0aGlzLm9uVXBkYXRlUmVhZHkpO1xuICAgIH1cblxuICAgIHNldFRpbWVvdXQodGhpcy5jaGVja0RvY3MsIDApO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFVwZGF0ZUNoZWNrZXIsIFt7XG4gICAga2V5OiAnY2hlY2snLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjaGVjaygpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmIChhcHAuYXBwQ2FjaGUpIHtcbiAgICAgICAgYXBwLmFwcENhY2hlLnVwZGF0ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWpheCh7XG4gICAgICAgICAgdXJsOiAkKCdzY3JpcHRbc3JjKj1cImFwcGxpY2F0aW9uXCJdJykuZ2V0QXR0cmlidXRlKCdzcmMnKSxcbiAgICAgICAgICBkYXRhVHlwZTogJ2FwcGxpY2F0aW9uL2phdmFzY3JpcHQnLFxuICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcihfLCB4aHIpIHtcbiAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLm9uVXBkYXRlUmVhZHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uVXBkYXRlUmVhZHknLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblVwZGF0ZVJlYWR5KCkge1xuICAgICAgdmFyIG5vdGlmID0gbmV3IF9ub3RpZjIuZGVmYXVsdCgnVXBkYXRlUmVhZHknLCB7XG4gICAgICAgIGF1dG9IaWRlOiBudWxsXG4gICAgICB9KTtcbiAgICAgIG5vdGlmLnNob3coKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjaGVja0RvY3MnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjaGVja0RvY3MoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgaWYgKCFhcHAuc2V0dGluZ3MuZ2V0KCdtYW51YWxVcGRhdGUnKSkge1xuICAgICAgICBhcHAuZG9jcy51cGRhdGVJbkJhY2tncm91bmQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFwcC5kb2NzLmNoZWNrRm9yVXBkYXRlcyhmdW5jdGlvbiAoaSkge1xuICAgICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5vbkRvY3NVcGRhdGVSZWFkeSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25Eb2NzVXBkYXRlUmVhZHknLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkRvY3NVcGRhdGVSZWFkeSgpIHtcbiAgICAgIHZhciBub3RpZiA9IG5ldyBfbm90aWYyLmRlZmF1bHQoJ1VwZGF0ZURvY3MnLCB7XG4gICAgICAgIGF1dG9IaWRlOiBudWxsXG4gICAgICB9KTtcbiAgICAgIG5vdGlmLnNob3coKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbkZvY3VzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Gb2N1cygpIHtcbiAgICAgIGlmIChEYXRlLm5vdygpIC0gdGhpcy5sYXN0Q2hlY2sgPiAyMTYwMGUzKSB7XG4gICAgICAgIHRoaXMubGFzdENoZWNrID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdGhpcy5jaGVjaygpO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBVcGRhdGVDaGVja2VyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBVcGRhdGVDaGVja2VyO1xuO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXNzZXRzL2phdmFzY3JpcHRzL2FwcC91cGRhdGVfY2hlY2tlci5qc1xuLy8gbW9kdWxlIGlkID0gMzhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///38\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _notif = __webpack_require__(1);\n\nvar _notif2 = _interopRequireDefault(_notif);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Tip = function (_Notif) {\n  _inherits(Tip, _Notif);\n\n  function Tip() {\n    _classCallCheck(this, Tip);\n\n    return _possibleConstructorReturn(this, (Tip.__proto__ || Object.getPrototypeOf(Tip)).apply(this, arguments));\n  }\n\n  _createClass(Tip, [{\n    key: \'render\',\n    value: function render() {\n      this.html(this.tmpl(\'tip\' + this.type));\n    }\n  }]);\n\n  return Tip;\n}(_notif2.default);\n\nTip.className = \'_notif _notif-tip\';\nTip.defautOptions = {\n  autoHide: false\n};\nexports.default = Tip;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvamF2YXNjcmlwdHMvdmlld3MvbWlzYy90aXAuanM/ZTI5OCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfbm90aWYgPSByZXF1aXJlKCcuLi9taXNjL25vdGlmJyk7XG5cbnZhciBfbm90aWYyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbm90aWYpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBUaXAgPSBmdW5jdGlvbiAoX05vdGlmKSB7XG4gIF9pbmhlcml0cyhUaXAsIF9Ob3RpZik7XG5cbiAgZnVuY3Rpb24gVGlwKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaXApO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChUaXAuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUaXApKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhUaXAsIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdGhpcy5odG1sKHRoaXMudG1wbCgndGlwJyArIHRoaXMudHlwZSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBUaXA7XG59KF9ub3RpZjIuZGVmYXVsdCk7XG5cblRpcC5jbGFzc05hbWUgPSAnX25vdGlmIF9ub3RpZi10aXAnO1xuVGlwLmRlZmF1dE9wdGlvbnMgPSB7XG4gIGF1dG9IaWRlOiBmYWxzZVxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IFRpcDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Fzc2V0cy9qYXZhc2NyaXB0cy92aWV3cy9taXNjL3RpcC5qc1xuLy8gbW9kdWxlIGlkID0gMzlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///39\n')}]);